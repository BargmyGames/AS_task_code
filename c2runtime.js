// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,y,da,ea,H,L,fa,ga,ja,ka,la,ma,O,qa,ra,P,ta,ua,va,wa,xa,ya,za,Aa,R,Ba,Fa,Ga,Ha,Ia,T,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Va,Wa,Xa,Ya,U,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,V,Zb,$b={},ac={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(k){return k.__proto__}:function(k){return k.constructor.prototype});
(function(){function k(a,b,v,e){this.set(a,b,v,e)}function p(){this.Ab=this.zb=this.Cb=this.Bb=this.Ub=this.Tb=this.ub=this.tb=0}function m(a,b,v,e){a<b?v<e?(r=a<v?a:v,n=b>e?b:e):(r=a<e?a:e,n=b>v?b:v):v<e?(r=b<v?b:v,n=a>e?a:e):(r=b<e?b:e,n=a>v?a:v)}function q(){this.items=this.yc=null;this.Kf=0;ha&&(this.yc=new Set);this.bf=[];this.md=!0}function u(a){Ca[I++]=a}function t(){this.Z=this.Jh=this.y=this.fi=0}function h(a){this.Qe=[];this.Ik=this.Kk=this.Lk=this.Jk=0;this.eg(a)}function b(a,b){this.li=
a;this.ki=b;this.cells={}}function d(a,b){this.li=a;this.ki=b;this.cells={}}function c(a,b,v){var e;return M.length?(e=M.pop(),e.Vi=a,e.x=b,e.y=v,e):new aa(a,b,v)}function a(a,b,v){this.Vi=a;this.x=b;this.y=v;this.za=new ba}function e(a,b,v){var e;return J.length?(e=J.pop(),e.Vi=a,e.x=b,e.y=v,e):new ca(a,b,v)}function g(a,b,v){this.Vi=a;this.x=b;this.y=v;this.za=[];this.Ie=!0;this.wc=new ba;this.gf=!1}function f(a,b){return a.kc-b.kc}y=function(a){window.console&&window.console.log&&window.console.log(a)};
da=function(a){window.console&&window.console.error&&window.console.error(a)};ea=function(a){return"undefined"===typeof a};H=function(a){return"number"===typeof a};L=function(a){return"string"===typeof a};fa=function(a){return 0<a&&0===(a-1&a)};ga=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};ja=function(a){return 0>a?-a:a};ka=function(a,b){return a>b?a:b};la=function(a,b){return a<b?a:b};ma=Math.PI;O=function(a){return 0<=a?a|0:(a|0)-1};qa=function(a){var b=a|0;return b===a?b:b+1};
ra=function(a,b,v,e,f,g,d,l){var c,n,r,w;a<v?(n=a,c=v):(n=v,c=a);f<d?(w=f,r=d):(w=d,r=f);if(c<w||n>r)return!1;b<e?(n=b,c=e):(n=e,c=b);g<l?(w=g,r=l):(w=l,r=g);if(c<w||n>r)return!1;c=f-a+d-v;n=g-b+l-e;a=v-a;b=e-b;f=d-f;g=l-g;l=ja(b*f-g*a);return ja(f*n-g*c)>l?!1:ja(a*n-b*c)<=l};k.prototype.set=function(a,b,v,e){this.left=a;this.top=b;this.right=v;this.bottom=e};k.prototype.nf=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};k.prototype.width=function(){return this.right-
this.left};k.prototype.height=function(){return this.bottom-this.top};k.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};k.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};k.prototype.Db=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};k.prototype.sf=function(a){return this.left===a.left&&this.top===
a.top&&this.right===a.right&&this.bottom===a.bottom};P=k;p.prototype.Eh=function(a){this.tb=a.left;this.ub=a.top;this.Tb=a.right;this.Ub=a.top;this.Bb=a.right;this.Cb=a.bottom;this.zb=a.left;this.Ab=a.bottom};p.prototype.Tm=function(a,b){if(0===b)this.Eh(a);else{var v=Math.sin(b),e=Math.cos(b),f=a.left*v,g=a.top*v,d=a.right*v,v=a.bottom*v,l=a.left*e,c=a.top*e,n=a.right*e,e=a.bottom*e;this.tb=l-g;this.ub=c+f;this.Tb=n-g;this.Ub=c+d;this.Bb=n-v;this.Cb=e+d;this.zb=l-v;this.Ab=e+f}};p.prototype.offset=
function(a,b){this.tb+=a;this.ub+=b;this.Tb+=a;this.Ub+=b;this.Bb+=a;this.Cb+=b;this.zb+=a;this.Ab+=b;return this};var r=0,n=0;p.prototype.Nk=function(a){m(this.tb,this.Tb,this.Bb,this.zb);a.left=r;a.right=n;m(this.ub,this.Ub,this.Cb,this.Ab);a.top=r;a.bottom=n};p.prototype.Db=function(a,b){var v=this.tb,e=this.ub,f=this.Tb-v,g=this.Ub-e,d=this.Bb-v,l=this.Cb-e,c=a-v,n=b-e,r=f*f+g*g,w=f*d+g*l,g=f*c+g*n,h=d*d+l*l,x=d*c+l*n,A=1/(r*h-w*w),f=(h*g-w*x)*A,r=(r*x-w*g)*A;if(0<=f&&0<r&&1>f+r)return!0;f=this.zb-
v;g=this.Ab-e;r=f*f+g*g;w=f*d+g*l;g=f*c+g*n;A=1/(r*h-w*w);f=(h*g-w*x)*A;r=(r*x-w*g)*A;return 0<=f&&0<r&&1>f+r};ta=p;ua=function(a,b,v){return Math.max(Math.min(a,255),0)|Math.max(Math.min(b,255),0)<<8|Math.max(Math.min(v,255),0)<<16};va=function(a){return a&255};wa=function(a){return(a&65280)>>8};xa=function(a){return(a&16711680)>>16};ya=function(a,b){for(var v in b)b.hasOwnProperty(v)&&(a[v]=b[v]);return a};za=function(a,b){var v,e;b=O(b);if(!(0>b||b>=a.length)){v=b;for(e=a.length-1;v<e;v++)a[v]=
a[v+1];Aa(a,e)}};Aa=function(a,b){a.length=b};R=function(a){Aa(a,0)};Ba=function(a,b){R(a);var v,e;v=0;for(e=b.length;v<e;++v)a[v]=b[v]};Fa=function(a,b){a.push.apply(a,b)};Ga=function(a,b){var v,e;v=0;for(e=a.length;v<e;++v)if(a[v]===b)return v;return-1};Ha=function(a,b){var v=Ga(a,b);-1!==v&&za(a,v)};Ia=function(a,b,v){return a<b?b:a>v?v:a};T=function(a){return a/(180/ma)};Ja=function(a){return 180/ma*a};Ka=function(a){a%=360;0>a&&(a+=360);return a};La=function(a){a%=2*ma;0>a&&(a+=2*ma);return a};
Ma=function(a){return Ka(Ja(a))};Na=function(a){return La(T(a))};Oa=function(a,b,v,e){return Math.atan2(e-b,v-a)};Pa=function(a,b){if(a===b)return 0;var v=Math.sin(a),e=Math.cos(a),f=Math.sin(b),g=Math.cos(b),v=v*f+e*g;return 1<=v?0:-1>=v?ma:Math.acos(v)};Qa=function(a,b,v){var e=Math.sin(a),f=Math.cos(a),g=Math.sin(b),d=Math.cos(b);return Math.acos(e*g+f*d)>v?0<f*g-e*d?La(a+v):La(a-v):La(b)};Ra=function(a,b){var v=Math.sin(a),e=Math.cos(a),f=Math.sin(b),g=Math.cos(b);return 0>=e*f-v*g};Sa=function(a,
b,v,e){a=v-a;b=e-b;return Math.sqrt(a*a+b*b)};Ta=function(a,b){return!a!==!b};Va=function(a,b,v){return a===b?0:(v-a)/(b-a)};Wa=function(a,b,v){var e=Pa(a,b);return Ra(b,a)?a+e*v:a-e*v};Xa=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};Ya=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var x=+new Date;U=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();
if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-x};var l=!1,w=l=!1,A=!1;"undefined"!==typeof window&&(l=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),l=!l&&/safari/i.test(navigator.userAgent),w=/(iphone|ipod|ipad)/i.test(navigator.userAgent),A=window.c2ejecta);var ha=!l&&!A&&!w&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;q.prototype.contains=function(a){return this.Pc()?!1:
ha?this.yc.has(a):this.items&&this.items.hasOwnProperty(a)};q.prototype.add=function(a){if(ha)this.yc.has(a)||(this.yc.add(a),this.md=!1);else{var b=a.toString(),v=this.items;v?v.hasOwnProperty(b)||(v[b]=a,this.Kf++,this.md=!1):(this.items={},this.items[b]=a,this.Kf=1,this.md=!1)}};q.prototype.remove=function(a){if(!this.Pc())if(ha)this.yc.has(a)&&(this.yc["delete"](a),this.md=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.Kf--,this.md=!1)}};q.prototype.clear=
function(){this.Pc()||(ha?this.yc.clear():(this.items=null,this.Kf=0),R(this.bf),this.md=!0)};q.prototype.Pc=function(){return 0===this.count()};q.prototype.count=function(){return ha?this.yc.size:this.Kf};var Ca=null,I=0;q.prototype.gs=function(){if(!this.md){if(ha)R(this.bf),Ca=this.bf,I=0,this.yc.forEach(u),Ca=null,I=0;else{var a=this.bf;R(a);var b,v=0,e=this.items;if(e)for(b in e)e.hasOwnProperty(b)&&(a[v++]=e[b])}this.md=!0}};q.prototype.Md=function(){this.gs();return this.bf};ba=q;new ba;Za=
function(a,b){ha?$a(a,b.yc):ab(a,b.Md())};$a=function(a,b){var v,e,f,g;e=v=0;for(f=a.length;v<f;++v)g=a[v],b.has(g)||(a[e++]=g);Aa(a,e)};ab=function(a,b){var v,e,f,g;e=v=0;for(f=a.length;v<f;++v)g=a[v],-1===Ga(b,g)&&(a[e++]=g);Aa(a,e)};t.prototype.add=function(a){this.y=a-this.fi;this.Jh=this.Z+this.y;this.fi=this.Jh-this.Z-this.y;this.Z=this.Jh};t.prototype.reset=function(){this.Z=this.Jh=this.y=this.fi=0};bb=t;cb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};h.prototype.eg=function(a){this.Gm=
a;this.vh=a.length/2;this.Qe.length=a.length;this.gi=this.hi=-1;this.Qk=0};h.prototype.Uq=function(){return!this.Gm.length};h.prototype.ua=function(){for(var a=this.Qe,b=a[0],v=b,e=a[1],f=e,g,d,l=1,c=this.vh;l<c;++l)d=2*l,g=a[d],d=a[d+1],g<b&&(b=g),g>v&&(v=g),d<e&&(e=d),d>f&&(f=d);this.Jk=b;this.Kk=v;this.Lk=e;this.Ik=f};h.prototype.Eh=function(a,b,v){this.Qe.length=8;this.vh=4;var e=this.Qe;e[0]=a.left-b;e[1]=a.top-v;e[2]=a.right-b;e[3]=a.top-v;e[4]=a.right-b;e[5]=a.bottom-v;e[6]=a.left-b;e[7]=a.bottom-
v;this.hi=a.right-a.left;this.gi=a.bottom-a.top;this.ua()};h.prototype.Oo=function(a,b,e){if(this.hi!==a||this.gi!==b||this.Qk!==e){this.hi=a;this.gi=b;this.Qk=e;var f,g,d,l,c,n=0,r=1,w=this.Gm,h=this.Qe;0!==e&&(n=Math.sin(e),r=Math.cos(e));e=0;for(d=this.vh;e<d;e++)f=2*e,g=f+1,l=w[f]*a,c=w[g]*b,h[f]=l*r-c*n,h[g]=c*r+l*n;this.ua()}};h.prototype.Db=function(a,b){var e=this.Qe;if(a===e[0]&&b===e[1])return!0;var f,g,d,l=this.vh,c=this.Jk-110,n=this.Lk-101,r=this.Kk+131,w=this.Ik+120,h,x,A=0,m=0;for(f=
0;f<l;f++)g=2*f,d=(f+1)%l*2,h=e[g],g=e[g+1],x=e[d],d=e[d+1],ra(c,n,a,b,h,g,x,d)&&A++,ra(r,w,a,b,h,g,x,d)&&m++;return 1===A%2||1===m%2};db=h;b.prototype.rd=function(a,b,e){var f;f=this.cells[a];return f?(f=f[b])?f:e?(f=c(this,a,b),this.cells[a][b]=f):null:e?(f=c(this,a,b),this.cells[a]={},this.cells[a][b]=f):null};b.prototype.Ra=function(a){return O(a/this.li)};b.prototype.Sa=function(a){return O(a/this.ki)};b.prototype.update=function(a,b,e){var f,g,d,l,c;if(b)for(f=b.left,g=b.right;f<=g;++f)for(d=
b.top,l=b.bottom;d<=l;++d)if(!e||!e.Db(f,d))if(c=this.rd(f,d,!1))c.remove(a),c.Pc()&&(c.za.clear(),1E3>M.length&&M.push(c),this.cells[f][d]=null);if(e)for(f=e.left,g=e.right;f<=g;++f)for(d=e.top,l=e.bottom;d<=l;++d)b&&b.Db(f,d)||this.rd(f,d,!0).aj(a)};b.prototype.Im=function(a,b){var e,f,g,d,l,c;e=this.Ra(a.left);g=this.Sa(a.top);f=this.Ra(a.right);for(l=this.Sa(a.bottom);e<=f;++e)for(d=g;d<=l;++d)(c=this.rd(e,d,!1))&&c.dump(b)};eb=b;d.prototype.rd=function(a,b,f){var g;g=this.cells[a];return g?(g=
g[b])?g:f?(g=e(this,a,b),this.cells[a][b]=g):null:f?(g=e(this,a,b),this.cells[a]={},this.cells[a][b]=g):null};d.prototype.Ra=function(a){return O(a/this.li)};d.prototype.Sa=function(a){return O(a/this.ki)};d.prototype.update=function(a,b,e){var f,g,d,l,c;if(b)for(f=b.left,g=b.right;f<=g;++f)for(d=b.top,l=b.bottom;d<=l;++d)if(!e||!e.Db(f,d))if(c=this.rd(f,d,!1))c.remove(a),c.Pc()&&(c.reset(),1E3>J.length&&J.push(c),this.cells[f][d]=null);if(e)for(f=e.left,g=e.right;f<=g;++f)for(d=e.top,l=e.bottom;d<=
l;++d)b&&b.Db(f,d)||this.rd(f,d,!0).aj(a)};d.prototype.Im=function(a,b,e,f,g){var d,l;a=this.Ra(a);b=this.Sa(b);e=this.Ra(e);for(d=this.Sa(f);a<=e;++a)for(f=b;f<=d;++f)(l=this.rd(a,f,!1))&&l.dump(g)};d.prototype.br=function(a){var b,e,f,g,d;b=a.left;f=a.top;e=a.right;for(g=a.bottom;b<=e;++b)for(a=f;a<=g;++a)if(d=this.rd(b,a,!1))d.Ie=!1};fb=d;var M=[];a.prototype.Pc=function(){return this.za.Pc()};a.prototype.aj=function(a){this.za.add(a)};a.prototype.remove=function(a){this.za.remove(a)};a.prototype.dump=
function(a){Fa(a,this.za.Md())};aa=a;var J=[];g.prototype.Pc=function(){if(!this.za.length)return!0;if(this.za.length>this.wc.count())return!1;this.Hi();return!0};g.prototype.aj=function(a){this.wc.contains(a)?(this.wc.remove(a),this.wc.Pc()&&(this.gf=!1)):this.za.length?(this.za[this.za.length-1].qc()>a.qc()&&(this.Ie=!1),this.za.push(a)):(this.za.push(a),this.Ie=!0)};g.prototype.remove=function(a){this.wc.add(a);this.gf=!0;30<=this.wc.count()&&this.Hi()};g.prototype.Hi=function(){this.gf&&(this.wc.count()===
this.za.length?this.reset():(Za(this.za,this.wc),this.wc.clear(),this.gf=!1))};g.prototype.zp=function(){this.Ie||(this.za.sort(f),this.Ie=!0)};g.prototype.reset=function(){R(this.za);this.Ie=!0;this.wc.clear();this.gf=!1};g.prototype.dump=function(a){this.Hi();this.zp();this.za.length&&a.push(this.za)};ca=g;var C="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");gb=function(a){return 0>=a||11<=a?"source-over":C[a-1]};hb=
function(a,b,e){if(e)switch(a.Na=e.ONE,a.Ja=e.ONE_MINUS_SRC_ALPHA,b){case 1:a.Na=e.ONE;a.Ja=e.ONE;break;case 3:a.Na=e.ONE;a.Ja=e.ZERO;break;case 4:a.Na=e.ONE_MINUS_DST_ALPHA;a.Ja=e.ONE;break;case 5:a.Na=e.DST_ALPHA;a.Ja=e.ZERO;break;case 6:a.Na=e.ZERO;a.Ja=e.SRC_ALPHA;break;case 7:a.Na=e.ONE_MINUS_DST_ALPHA;a.Ja=e.ZERO;break;case 8:a.Na=e.ZERO;a.Ja=e.ONE_MINUS_SRC_ALPHA;break;case 9:a.Na=e.DST_ALPHA;a.Ja=e.ONE_MINUS_SRC_ALPHA;break;case 10:a.Na=e.ONE_MINUS_DST_ALPHA,a.Ja=e.SRC_ALPHA}};ib=function(a){return Math.round(1E6*
a)/1E6};jb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};kb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||jb(a.tagName,"canvas")?!0:!1}})();var bc="undefined"!==typeof Float32Array?Float32Array:Array;function cc(k){var p=new bc(3);k&&(p[0]=k[0],p[1]=k[1],p[2]=k[2]);return p}
function dc(k){var p=new bc(16);k&&(p[0]=k[0],p[1]=k[1],p[2]=k[2],p[3]=k[3],p[4]=k[4],p[5]=k[5],p[6]=k[6],p[7]=k[7],p[8]=k[8],p[9]=k[9],p[10]=k[10],p[11]=k[11],p[12]=k[12],p[13]=k[13],p[14]=k[14],p[15]=k[15]);return p}function ec(k,p){p[0]=k[0];p[1]=k[1];p[2]=k[2];p[3]=k[3];p[4]=k[4];p[5]=k[5];p[6]=k[6];p[7]=k[7];p[8]=k[8];p[9]=k[9];p[10]=k[10];p[11]=k[11];p[12]=k[12];p[13]=k[13];p[14]=k[14];p[15]=k[15]}
function fc(k,p){var m=p[0],q=p[1];p=p[2];k[0]*=m;k[1]*=m;k[2]*=m;k[3]*=m;k[4]*=q;k[5]*=q;k[6]*=q;k[7]*=q;k[8]*=p;k[9]*=p;k[10]*=p;k[11]*=p}
function gc(k,p,m,q){q||(q=dc());var u,t,h,b,d,c,a,e,g=k[0],f=k[1];k=k[2];t=m[0];h=m[1];u=m[2];m=p[1];c=p[2];g===p[0]&&f===m&&k===c?(k=q,k[0]=1,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=1,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[10]=1,k[11]=0,k[12]=0,k[13]=0,k[14]=0,k[15]=1):(m=g-p[0],c=f-p[1],a=k-p[2],e=1/Math.sqrt(m*m+c*c+a*a),m*=e,c*=e,a*=e,p=h*a-u*c,u=u*m-t*a,t=t*c-h*m,(e=Math.sqrt(p*p+u*u+t*t))?(e=1/e,p*=e,u*=e,t*=e):t=u=p=0,h=c*t-a*u,b=a*p-m*t,d=m*u-c*p,(e=Math.sqrt(h*h+b*b+d*d))?(e=1/e,h*=e,b*=e,d*=e):d=b=h=0,
q[0]=p,q[1]=h,q[2]=m,q[3]=0,q[4]=u,q[5]=b,q[6]=c,q[7]=0,q[8]=t,q[9]=d,q[10]=a,q[11]=0,q[12]=-(p*g+u*f+t*k),q[13]=-(h*g+b*f+d*k),q[14]=-(m*g+c*f+a*k),q[15]=1)}
(function(){function k(b,d,c){this.Qc=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.S=!!c;this.Og=this.Ff=!1;this.ti=0;this.Wh=1;this.lk=1E3;this.qs=(this.lk-this.Wh)/32768;this.ii=cc([0,0,100]);this.Ql=cc([0,0,0]);this.sn=cc([0,1,0]);this.rg=cc([1,1,1]);this.Zk=!0;this.ih=dc();this.rb=dc();this.mj=dc();this.si=dc();this.n=b;this.tl()}function p(b,d,c){this.n=b;this.fg=d;this.name=c;this.Lb=b.getAttribLocation(d,"aPos");this.Dd=b.getAttribLocation(d,
"aTex");this.Ol=b.getUniformLocation(d,"matP");this.eh=b.getUniformLocation(d,"matMV");this.Le=b.getUniformLocation(d,"opacity");this.rj=b.getUniformLocation(d,"colorFill");this.Pl=b.getUniformLocation(d,"samplerFront");this.Rf=b.getUniformLocation(d,"samplerBack");this.ie=b.getUniformLocation(d,"destStart");this.he=b.getUniformLocation(d,"destEnd");this.Tf=b.getUniformLocation(d,"seconds");this.tj=b.getUniformLocation(d,"pixelWidth");this.sj=b.getUniformLocation(d,"pixelHeight");this.Qf=b.getUniformLocation(d,
"layerScale");this.Pf=b.getUniformLocation(d,"layerAngle");this.Uf=b.getUniformLocation(d,"viewOrigin");this.Sf=b.getUniformLocation(d,"scrollPos");this.Iq=!!(this.tj||this.sj||this.Tf||this.Rf||this.ie||this.he||this.Qf||this.Pf||this.Uf||this.Sf);this.Yl=this.Zl=-999;this.hh=1;this.Ul=this.Tl=0;this.Wl=this.Sl=this.Rl=1;this.cm=this.am=this.$l=this.em=this.dm=this.Vl=0;this.lj=[];this.Xl=dc();this.Le&&b.uniform1f(this.Le,1);this.rj&&b.uniform4f(this.rj,1,1,1,1);this.Pl&&b.uniform1i(this.Pl,0);this.Rf&&
b.uniform1i(this.Rf,1);this.ie&&b.uniform2f(this.ie,0,0);this.he&&b.uniform2f(this.he,1,1);this.Qf&&b.uniform1f(this.Qf,1);this.Pf&&b.uniform1f(this.Pf,0);this.Uf&&b.uniform2f(this.Uf,0,0);this.Sf&&b.uniform2f(this.Sf,0,0);this.Tf&&b.uniform1f(this.Tf,0);this.Zd=!1}function m(b,d){return b[0]===d[0]&&b[1]===d[1]&&b[2]===d[2]&&b[3]===d[3]&&b[4]===d[4]&&b[5]===d[5]&&b[6]===d[6]&&b[7]===d[7]&&b[8]===d[8]&&b[9]===d[9]&&b[10]===d[10]&&b[11]===d[11]&&b[12]===d[12]&&b[13]===d[13]&&b[14]===d[14]&&b[15]===
d[15]}function q(b,d){this.type=b;this.p=d;this.n=d.n;this.rc=this.Qa=this.wm=0;this.F=this.Sb=null;this.Um=[]}var u=dc();k.prototype.tl=function(){var b=this.n,d;this.Il=1;this.ee=this.zd=null;this.wg=1;b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA);b.disable(b.CULL_FACE);b.disable(b.STENCIL_TEST);b.disable(b.DITHER);this.S?(b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL)):b.disable(b.DEPTH_TEST);this.Jl=b.ONE;this.Hl=b.ONE_MINUS_SRC_ALPHA;
this.Uh=new Float32Array(8E3*(this.S?3:2));this.Lh=new Float32Array(16E3);this.Bm=new Float32Array(32E3);this.Gj=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.Gj);b.bufferData(b.ARRAY_BUFFER,this.Bm.byteLength,b.DYNAMIC_DRAW);this.qg=Array(4);this.kg=Array(4);for(d=0;4>d;d++)this.qg[d]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.qg[d]),b.bufferData(b.ARRAY_BUFFER,this.Uh.byteLength,b.DYNAMIC_DRAW),this.kg[d]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.kg[d]),b.bufferData(b.ARRAY_BUFFER,
this.Lh.byteLength,b.DYNAMIC_DRAW);this.Ec=0;this.Kq=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.Kq);for(var c=new Uint16Array(12E3),a=d=0;12E3>d;)c[d++]=a,c[d++]=a+1,c[d++]=a+2,c[d++]=a,c[d++]=a+2,c[d++]=a+3,a+=4;b.bufferData(b.ELEMENT_ARRAY_BUFFER,c,b.STATIC_DRAW);this.Hj=this.Ye=this.dd=0;this.ga=[];d=this.S?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.of({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},d,"<default>");this.ga.push(c);c=this.of({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ga.push(c);c=this.of({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},d,"<earlyz>");this.ga.push(c);c=this.of({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
d,"<fill>");this.ga.push(c);for(var e in hc)hc.hasOwnProperty(e)&&this.ga.push(this.of(hc[e],d,e));b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,null);this.ld=[];this.Dc=0;this.Ka=!1;this.Wk=this.Lf=-1;this.ye=null;this.Gi=b.createFramebuffer();this.yg=this.xh=null;this.Hk=!1;this.S&&(this.yg=b.createRenderbuffer());this.Ld=cc([0,0,0]);this.fm=b.getParameter(b.ALIASED_POINT_SIZE_RANGE)[1];2048<this.fm&&(this.fm=2048);this.Ya(0)};p.prototype.hk=function(b){m(this.Xl,b)||(ec(b,this.Xl),this.n.uniformMatrix4fv(this.eh,
!1,b))};k.prototype.of=function(b,d,c){var a=this.n,e=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(e,b.src);a.compileShader(e);if(!a.getShaderParameter(e,a.COMPILE_STATUS))return a.deleteShader(e),null;var g=a.createShader(a.VERTEX_SHADER);a.shaderSource(g,d);a.compileShader(g);if(!a.getShaderParameter(g,a.COMPILE_STATUS))return a.deleteShader(e),a.deleteShader(g),null;d=a.createProgram();a.attachShader(d,e);a.attachShader(d,g);a.linkProgram(d);if(!a.getProgramParameter(d,a.LINK_STATUS))return a.deleteShader(e),
a.deleteShader(g),a.deleteProgram(d),null;a.useProgram(d);a.deleteShader(e);a.deleteShader(g);c=new p(a,d,c);c.Ei=b.Ei||0;c.Fi=b.Fi||0;c.Vk=!!b.Vk;c.fc=!!b.fc;c.Dk=!!b.Dk;c.G=b.G||[];b=0;for(e=c.G.length;b<e;b++)c.G[b][1]=a.getUniformLocation(d,c.G[b][0]),c.lj.push(0),a.uniform1f(c.G[b][1],0);return c};k.prototype.Ti=function(b){var d,c;d=0;for(c=this.ga.length;d<c;d++)if(this.ga[d].name===b)return d;return-1};k.prototype.Fm=function(b,d,c){var a=this.rb,e=this.ih,g=[0,0,0,0,0,0,0,0];g[0]=a[0]*b+
a[4]*d+a[12];g[1]=a[1]*b+a[5]*d+a[13];g[2]=a[2]*b+a[6]*d+a[14];g[3]=a[3]*b+a[7]*d+a[15];g[4]=e[0]*g[0]+e[4]*g[1]+e[8]*g[2]+e[12]*g[3];g[5]=e[1]*g[0]+e[5]*g[1]+e[9]*g[2]+e[13]*g[3];g[6]=e[2]*g[0]+e[6]*g[1]+e[10]*g[2]+e[14]*g[3];g[7]=-g[2];0!==g[7]&&(g[7]=1/g[7],g[4]*=g[7],g[5]*=g[7],g[6]*=g[7],c[0]=(.5*g[4]+.5)*this.width,c[1]=(.5*g[5]+.5)*this.height)};k.prototype.ne=function(b,d,c){if(this.width!==b||this.height!==d||c){this.pd();c=this.n;this.width=b;this.height=d;c.viewport(0,0,b,d);gc(this.ii,
this.Ql,this.sn,this.rb);if(this.S){var a=-b/2;b=b/2;var e=d/2;d=-d/2;var g=this.Wh,f=this.lk,r=this.ih;r||(r=dc());var n=b-a,h=d-e,l=f-g;r[0]=2/n;r[1]=0;r[2]=0;r[3]=0;r[4]=0;r[5]=2/h;r[6]=0;r[7]=0;r[8]=0;r[9]=0;r[10]=-2/l;r[11]=0;r[12]=-(a+b)/n;r[13]=-(d+e)/h;r[14]=-(f+g)/l;r[15]=1;this.rg[0]=1;this.rg[1]=1}else d=b/d,a=this.Wh,b=this.lk,r=this.ih,f=a*Math.tan(45*Math.PI/360),d*=f,e=-d,g=-f,r||(r=dc()),n=d-e,h=f-g,l=b-a,r[0]=2*a/n,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=2*a/h,r[6]=0,r[7]=0,r[8]=(d+e)/n,
r[9]=(f+g)/h,r[10]=-(b+a)/l,r[11]=-1,r[12]=0,r[13]=0,r[14]=-(b*a*2)/l,r[15]=0,a=[0,0],b=[0,0],this.Fm(0,0,a),this.Fm(1,1,b),this.rg[0]=1/(b[0]-a[0]),this.rg[1]=-1/(b[1]-a[1]);a=0;for(b=this.ga.length;a<b;a++)e=this.ga[a],e.Zd=!1,e.Ol&&(c.useProgram(e.fg),c.uniformMatrix4fv(e.Ol,!1,this.ih));c.useProgram(this.ga[this.Lf].fg);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.ee=this.zd=null;this.yg&&(c.bindFramebuffer(c.FRAMEBUFFER,
this.Gi),c.bindRenderbuffer(c.RENDERBUFFER,this.yg),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.Hk||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.yg),this.Hk=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.xh=null)}};k.prototype.Ob=function(){gc(this.ii,this.Ql,this.sn,this.rb);fc(this.rb,this.rg)};k.prototype.translate=function(b,d){if(0!==b||0!==d){this.Ld[0]=b;this.Ld[1]=d;this.Ld[2]=
0;var c=this.rb,a=this.Ld,e=a[0],g=a[1],a=a[2];c[12]=c[0]*e+c[4]*g+c[8]*a+c[12];c[13]=c[1]*e+c[5]*g+c[9]*a+c[13];c[14]=c[2]*e+c[6]*g+c[10]*a+c[14];c[15]=c[3]*e+c[7]*g+c[11]*a+c[15]}};k.prototype.scale=function(b,d){if(1!==b||1!==d)this.Ld[0]=b,this.Ld[1]=d,this.Ld[2]=1,fc(this.rb,this.Ld)};k.prototype.Ah=function(b){if(0!==b){var d=this.rb,c,a=Math.sin(b);b=Math.cos(b);var e=d[0],g=d[1],f=d[2],r=d[3],n=d[4],h=d[5],l=d[6],w=d[7];c?d!==c&&(c[8]=d[8],c[9]=d[9],c[10]=d[10],c[11]=d[11],c[12]=d[12],c[13]=
d[13],c[14]=d[14],c[15]=d[15]):c=d;c[0]=e*b+n*a;c[1]=g*b+h*a;c[2]=f*b+l*a;c[3]=r*b+w*a;c[4]=e*-a+n*b;c[5]=g*-a+h*b;c[6]=f*-a+l*b;c[7]=r*-a+w*b}};k.prototype.wb=function(){if(!m(this.mj,this.rb)){var b=this.jb();b.type=5;b.F?ec(this.rb,b.F):b.F=dc(this.rb);ec(this.rb,this.mj);this.Ka=!1}};k.prototype.Ch=function(b){this.S&&(32760<b&&(b=32760),this.ti=this.ii[2]-this.Wh-b*this.qs)};q.prototype.ip=function(){var b=this.n,d=this.p;0!==this.Qa?(b.depthMask(!0),b.colorMask(!1,!1,!1,!1),b.disable(b.BLEND),
b.bindFramebuffer(b.FRAMEBUFFER,d.Gi),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.clear(b.DEPTH_BUFFER_BIT),b.bindFramebuffer(b.FRAMEBUFFER,null),d.Og=!0):(b.depthMask(!1),b.colorMask(!0,!0,!0,!0),b.enable(b.BLEND),d.Og=!1)};q.prototype.mp=function(){this.n.bindTexture(this.n.TEXTURE_2D,this.Sb)};q.prototype.np=function(){var b=this.n;b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,this.Sb);b.activeTexture(b.TEXTURE0)};q.prototype.jp=function(){var b=this.wm,
d=this.p;d.wg=b;d=d.ye;d.Le&&d.hh!==b&&(d.hh=b,this.n.uniform1f(d.Le,b))};q.prototype.dp=function(){this.n.drawElements(this.n.TRIANGLES,this.rc,this.n.UNSIGNED_SHORT,this.Qa)};q.prototype.fp=function(){this.n.blendFunc(this.Qa,this.rc)};q.prototype.op=function(){var b,d,c,a=this.p.ga,e=this.p.Wk;b=0;for(d=a.length;b<d;b++)c=a[b],b===e&&c.eh?(c.hk(this.F),c.Zd=!0):c.Zd=!1;ec(this.F,this.p.si)};q.prototype.ep=function(){var b=this.n,d=this.p;this.Sb?(d.ee===this.Sb&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,
null),d.ee=null,b.activeTexture(b.TEXTURE0)),b.bindFramebuffer(b.FRAMEBUFFER,d.Gi),d.Og||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.Sb,0)):(d.S||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.bindFramebuffer(b.FRAMEBUFFER,null))};q.prototype.bp=function(){var b=this.n,d=this.Qa;0===d?(b.clearColor(this.F[0],this.F[1],this.F[2],this.F[3]),b.clear(b.COLOR_BUFFER_BIT)):1===d?(b.enable(b.SCISSOR_TEST),b.scissor(this.F[0],this.F[1],this.F[2],
this.F[3]),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.disable(b.SCISSOR_TEST)):b.clear(b.DEPTH_BUFFER_BIT)};q.prototype.hp=function(){var b=this.n;0!==this.Qa?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)};q.prototype.cp=function(){var b=this.n,d=this.p;d.S&&b.disable(b.DEPTH_TEST);var c=d.ga[1];b.useProgram(c.fg);!c.Zd&&c.eh&&(c.hk(d.si),c.Zd=!0);b.enableVertexAttribArray(c.Lb);b.bindBuffer(b.ARRAY_BUFFER,d.Gj);b.vertexAttribPointer(c.Lb,4,b.FLOAT,!1,0,0);b.drawArrays(b.POINTS,this.Qa/
4,this.rc);c=d.ye;b.useProgram(c.fg);0<=c.Lb&&(b.enableVertexAttribArray(c.Lb),b.bindBuffer(b.ARRAY_BUFFER,d.qg[d.Ec]),b.vertexAttribPointer(c.Lb,d.S?3:2,b.FLOAT,!1,0,0));0<=c.Dd&&(b.enableVertexAttribArray(c.Dd),b.bindBuffer(b.ARRAY_BUFFER,d.kg[d.Ec]),b.vertexAttribPointer(c.Dd,2,b.FLOAT,!1,0,0));d.S&&b.enable(b.DEPTH_TEST)};q.prototype.kp=function(){var b=this.n,d=this.p,c=d.ga[this.Qa];d.Wk=this.Qa;d.ye=c;b.useProgram(c.fg);!c.Zd&&c.eh&&(c.hk(d.si),c.Zd=!0);c.Le&&c.hh!==d.wg&&(c.hh=d.wg,b.uniform1f(c.Le,
d.wg));0<=c.Lb&&(b.enableVertexAttribArray(c.Lb),b.bindBuffer(b.ARRAY_BUFFER,d.qg[d.Ec]),b.vertexAttribPointer(c.Lb,d.S?3:2,b.FLOAT,!1,0,0));0<=c.Dd&&(b.enableVertexAttribArray(c.Dd),b.bindBuffer(b.ARRAY_BUFFER,d.kg[d.Ec]),b.vertexAttribPointer(c.Dd,2,b.FLOAT,!1,0,0))};q.prototype.gp=function(){var b=this.F;this.n.uniform4f(this.p.ye.rj,b[0],b[1],b[2],b[3])};q.prototype.lp=function(){var b,d,c=this.p.ye,a=this.n;b=this.F;c.Rf&&this.p.ee!==this.Sb&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,
this.Sb),this.p.ee=this.Sb,a.activeTexture(a.TEXTURE0));var e=b[0];c.tj&&e!==c.Zl&&(c.Zl=e,a.uniform1f(c.tj,e));e=b[1];c.sj&&e!==c.Yl&&(c.Yl=e,a.uniform1f(c.sj,e));e=b[2];d=b[3];!c.ie||e===c.Tl&&d===c.Ul||(c.Tl=e,c.Ul=d,a.uniform2f(c.ie,e,d));e=b[4];d=b[5];!c.he||e===c.Rl&&d===c.Sl||(c.Rl=e,c.Sl=d,a.uniform2f(c.he,e,d));e=b[6];c.Qf&&e!==c.Wl&&(c.Wl=e,a.uniform1f(c.Qf,e));e=b[7];c.Pf&&e!==c.Vl&&(c.Vl=e,a.uniform1f(c.Pf,e));e=b[8];d=b[9];!c.Uf||e===c.dm&&d===c.em||(c.dm=e,c.em=d,a.uniform2f(c.Uf,e,
d));e=b[10];d=b[11];!c.Sf||e===c.$l&&d===c.am||(c.$l=e,c.am=d,a.uniform2f(c.Sf,e,d));e=b[12];c.Tf&&e!==c.cm&&(c.cm=e,a.uniform1f(c.Tf,e));if(c.G.length)for(b=0,d=c.G.length;b<d;b++)e=this.Um[b],e!==c.lj[b]&&(c.lj[b]=e,a.uniform1f(c.G[b][1],e))};k.prototype.jb=function(){this.Dc===this.ld.length&&this.ld.push(new q(0,this));return this.ld[this.Dc++]};k.prototype.pd=function(){if(0!==this.Dc&&!this.n.isContextLost()){var b=this.n;0<this.Hj&&(b.bindBuffer(b.ARRAY_BUFFER,this.Gj),b.bufferSubData(b.ARRAY_BUFFER,
0,this.Bm.subarray(0,this.Hj)),d&&0<=d.Lb&&"<point>"===d.name&&b.vertexAttribPointer(d.Lb,4,b.FLOAT,!1,0,0));if(0<this.dd){var d=this.ye;b.bindBuffer(b.ARRAY_BUFFER,this.qg[this.Ec]);b.bufferSubData(b.ARRAY_BUFFER,0,this.Uh.subarray(0,this.dd));d&&0<=d.Lb&&"<point>"!==d.name&&b.vertexAttribPointer(d.Lb,this.S?3:2,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,this.kg[this.Ec]);b.bufferSubData(b.ARRAY_BUFFER,0,this.Lh.subarray(0,this.Ye));d&&0<=d.Dd&&"<point>"!==d.name&&b.vertexAttribPointer(d.Dd,2,b.FLOAT,
!1,0,0)}for(var c,b=0,d=this.Dc;b<d;b++)switch(c=this.ld[b],c.type){case 1:c.dp();break;case 2:c.mp();break;case 3:c.jp();break;case 4:c.fp();break;case 5:c.op();break;case 6:c.ep();break;case 7:c.bp();break;case 8:c.cp();break;case 9:c.kp();break;case 10:c.lp();break;case 11:c.np();break;case 12:c.gp();break;case 13:c.hp();break;case 14:c.ip()}this.Hj=this.Ye=this.dd=this.Dc=0;this.Og=this.Ka=!1;this.Ec++;4<=this.Ec&&(this.Ec=0)}};k.prototype.Ue=function(b){if(b!==this.Il&&!this.Ff){var d=this.jb();
d.type=3;this.Il=d.wm=b;this.Ka=!1}};k.prototype.sb=function(b){if(b!==this.zd){var d=this.jb();d.type=2;this.zd=d.Sb=b;this.Ka=!1}};k.prototype.Hd=function(b,d){if((b!==this.Jl||d!==this.Hl)&&!this.Ff){var c=this.jb();c.type=4;c.Qa=b;c.rc=d;this.Jl=b;this.Hl=d;this.Ka=!1}};k.prototype.Om=function(){this.Hd(this.n.ONE,this.n.ONE_MINUS_SRC_ALPHA)};k.prototype.bg=function(b,d,c,a,e,g,f,r){15992<=this.dd&&this.pd();var n=this.dd,h=this.Ye,l=this.Uh,w=this.Lh,A=this.ti;if(this.Ka)this.ld[this.Dc-1].rc+=
6;else{var m=this.jb();m.type=1;m.Qa=this.S?n:n/2*3;m.rc=6;this.Ka=!0}this.S?(l[n++]=b,l[n++]=d,l[n++]=A,l[n++]=c,l[n++]=a,l[n++]=A,l[n++]=e,l[n++]=g,l[n++]=A,l[n++]=f,l[n++]=r,l[n++]=A):(l[n++]=b,l[n++]=d,l[n++]=c,l[n++]=a,l[n++]=e,l[n++]=g,l[n++]=f,l[n++]=r);w[h++]=0;w[h++]=0;w[h++]=1;w[h++]=0;w[h++]=1;w[h++]=1;w[h++]=0;w[h++]=1;this.dd=n;this.Ye=h};k.prototype.Gd=function(b,d,c,a,e,g,f,r,n){15992<=this.dd&&this.pd();var h=this.dd,l=this.Ye,w=this.Uh,A=this.Lh,m=this.ti;if(this.Ka)this.ld[this.Dc-
1].rc+=6;else{var k=this.jb();k.type=1;k.Qa=this.S?h:h/2*3;k.rc=6;this.Ka=!0}var k=n.left,p=n.top,q=n.right;n=n.bottom;this.S?(w[h++]=b,w[h++]=d,w[h++]=m,w[h++]=c,w[h++]=a,w[h++]=m,w[h++]=e,w[h++]=g,w[h++]=m,w[h++]=f,w[h++]=r,w[h++]=m):(w[h++]=b,w[h++]=d,w[h++]=c,w[h++]=a,w[h++]=e,w[h++]=g,w[h++]=f,w[h++]=r);A[l++]=k;A[l++]=p;A[l++]=q;A[l++]=p;A[l++]=q;A[l++]=n;A[l++]=k;A[l++]=n;this.dd=h;this.Ye=l};k.prototype.Ya=function(b){if(this.Lf!==b){if(!this.ga[b]){if(0===this.Lf)return;b=0}var d=this.jb();
d.type=9;this.Lf=d.Qa=b;this.Ka=!1}};k.prototype.$f=function(b){b=this.ga[b];return!(!b.ie&&!b.he)};k.prototype.Jj=function(b){b=this.ga[b];return!!(b.ie||b.he||b.Vk)};k.prototype.Ij=function(b){return this.ga[b].fc};k.prototype.Dr=function(b){b=this.ga[b];return 0!==b.Ei||0!==b.Fi};k.prototype.qq=function(b){return this.ga[b].Ei};k.prototype.rq=function(b){return this.ga[b].Fi};k.prototype.sq=function(b,d){return this.ga[b].G[d][2]};k.prototype.uh=function(b){return this.ga[b].Dk};k.prototype.Ve=
function(b,d,c,a,e,g,f,r,n,h,l,w,A,m,k){var p=this.ga[this.Lf],q,t;if(p.Iq||k.length){q=this.jb();q.type=10;q.F?ec(this.rb,q.F):q.F=dc();t=q.F;t[0]=d;t[1]=c;t[2]=a;t[3]=e;t[4]=g;t[5]=f;t[6]=r;t[7]=n;t[8]=h;t[9]=l;t[10]=w;t[11]=A;t[12]=m;p.Rf?q.Sb=b:q.Sb=null;if(k.length)for(c=q.Um,c.length=k.length,b=0,d=k.length;b<d;b++)c[b]=k[b];this.Ka=!1}};k.prototype.clear=function(b,d,c,a){var e=this.jb();e.type=7;e.Qa=0;e.F||(e.F=dc());e.F[0]=b;e.F[1]=d;e.F[2]=c;e.F[3]=a;this.Ka=!1};k.prototype.clearRect=function(b,
d,c,a){if(!(0>c||0>a)){var e=this.jb();e.type=7;e.Qa=1;e.F||(e.F=dc());e.F[0]=b;e.F[1]=d;e.F[2]=c;e.F[3]=a;this.Ka=!1}};k.prototype.Rm=function(b){if(this.S&&(b=!!b,this.Ff!==b)){var d=this.jb();d.type=14;d.Qa=b?1:0;this.Ka=!1;this.Ff=b;this.xh=null;this.Ff?this.Ya(2):this.Ya(0)}};k.prototype.Qm=function(b){if(this.S){var d=this.jb();d.type=13;d.Qa=b?1:0;this.Ka=!1}};k.prototype.el=function(){ec(this.mj,u);this.Ob();this.wb();var b=this.width/2,d=this.height/2;this.bg(-b,d,b,d,b,-d,-b,-d);ec(u,this.rb);
this.wb()};k.prototype.Pm=function(b,d,c){this.Ya(3);var a=this.jb();a.type=12;a.F||(a.F=dc());a.F[0]=b;a.F[1]=d;a.F[2]=c;a.F[3]=1;this.Ka=!1};k.prototype.Sr=function(){this.Ya(0)};k.prototype.Gr=function(){this.Ya(2)};k.prototype.Ar=function(){this.pd();this.n.flush()};var t=[],h={};k.prototype.Ro=function(){R(t);h={}};k.prototype.Nl=function(b,d,c){var a;a=!1;d=!!d;var e=b.src+","+a+","+d+(a?",undefined":""),g=null;if("undefined"!==typeof b.src&&h.hasOwnProperty(e))return g=h[e],g.sg++,g;this.pd();
var f=this.n,r=fa(b.width)&&fa(b.height),g=f.createTexture();f.bindTexture(f.TEXTURE_2D,g);f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var n=f.RGBA,x=f.RGBA,l=f.UNSIGNED_BYTE;if(c&&!this.Qc)switch(c){case 1:x=n=f.RGB;break;case 2:l=f.UNSIGNED_SHORT_4_4_4_4;break;case 3:l=f.UNSIGNED_SHORT_5_5_5_1;break;case 4:x=n=f.RGB,l=f.UNSIGNED_SHORT_5_6_5}if(!r&&a){c=document.createElement("canvas");c.width=ga(b.width);c.height=ga(b.height);var w=c.getContext("2d");w.webkitImageSmoothingEnabled=d;w.mozImageSmoothingEnabled=
d;w.msImageSmoothingEnabled=d;w.imageSmoothingEnabled=d;w.drawImage(b,0,0,b.width,b.height,0,0,c.width,c.height);f.texImage2D(f.TEXTURE_2D,0,n,x,l,c)}else f.texImage2D(f.TEXTURE_2D,0,n,x,l,b);a?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE));d?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),r&&
this.Zk?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR_MIPMAP_LINEAR),f.generateMipmap(f.TEXTURE_2D)):f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST));f.bindTexture(f.TEXTURE_2D,null);this.zd=null;g.Td=b.width;g.Sd=b.height;g.sg=1;g.Pk=e;t.push(g);return h[e]=g};k.prototype.mb=function(b,d,c,a){this.pd();var e=this.n;this.Qc&&(a=!1);var g=e.createTexture();
e.bindTexture(e.TEXTURE_2D,g);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,b,d,0,e.RGBA,a?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,c?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,c?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.zd=null;g.Td=b;g.Sd=d;t.push(g);return g};k.prototype.ms=function(b,
d,c){this.pd();var a=this.n;this.Qc&&(c=!1);a.bindTexture(a.TEXTURE_2D,d);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,c?a.UNSIGNED_SHORT_4_4_4_4:a.UNSIGNED_BYTE,b)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}a.bindTexture(a.TEXTURE_2D,null);this.zd=null};k.prototype.deleteTexture=function(b){b&&("undefined"!==typeof b.sg&&1<b.sg?b.sg--:(this.pd(),b===this.zd&&(this.n.bindTexture(this.n.TEXTURE_2D,null),this.zd=
null),b===this.ee&&(this.n.activeTexture(this.n.TEXTURE1),this.n.bindTexture(this.n.TEXTURE_2D,null),this.n.activeTexture(this.n.TEXTURE0),this.ee=null),Ha(t,b),"undefined"!==typeof b.Pk&&delete h[b.Pk],this.n.deleteTexture(b)))};k.prototype.Qb=function(b){if(b!==this.xh){var d=this.jb();d.type=6;this.xh=d.Sb=b;this.Ka=!1}};lb=k})();
(function(){function k(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function p(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function m(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Jb=(this.Qg=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.td=!!a.dc;this.Mq="undefined"!==typeof window.AppMobi||this.td;this.Ib=!!window.c2cocoonjs;this.cc=!!window.c2ejecta;this.Ib&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.cc&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",
function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.na=this.td||this.Ib||this.cc;this.Hf=/edge\//i.test(navigator.userAgent);this.Qc=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Hf;this.Bl=/tizen/i.test(navigator.userAgent);this.zl=/android/i.test(navigator.userAgent)&&!this.Bl&&!this.Qc&&!this.Hf;this.kj=(/iphone/i.test(navigator.userAgent)||
/ipod/i.test(navigator.userAgent))&&!this.Qc&&!this.Hf;this.Gl=/ipad/i.test(navigator.userAgent);this.Tg=this.kj||this.Gl||this.cc;this.Vq=this.kj&&/os\s6/i.test(navigator.userAgent);this.Pg=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.Qc&&!this.Hf;this.yl=/amazonwebappplatform/i.test(navigator.userAgent);this.Oq=/firefox/i.test(navigator.userAgent);this.Rq=/safari/i.test(navigator.userAgent)&&!this.Pg&&!this.Qc&&!this.Hf;this.wd="undefined"!==typeof window.c2nodewebkit||
"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.El=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Tq=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Ge=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.ij=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Dl=!!window.cr_windows10;this.Cl=this.El||this.Tq||this.ij||
this.Dl;this.Nq=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Al=this.zl&&!this.Pg&&!this.Qg&&!this.Oq&&!this.yl&&!this.na;this.devicePixelRatio=1;this.vd=this.Jb||this.Qg||this.Mq||this.Ib||this.zl||this.Tg||this.Ge||this.ij||this.Nq||this.Bl||this.cc;this.vd||(this.vd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.wd||"?nw"!==window.location.search&&
!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.wd=!0);this.canvas=a;this.Rk=document.getElementById("c2canvasdiv");this.p=this.n=null;this.Ui="(unavailable)";this.S=!1;this.Vd=0;this.N=null;this.Ji="";this.Dg=!1;this.om=this.pm=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.td&&(window.c2runtime=this);this.wd&&(window.ondragover=function(a){a.preventDefault();
return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Al&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.A=this.width;this.u=this.height;this.ug=this.width;this.qf=this.height;this.Nf=window.innerWidth;this.Mf=window.innerHeight;this.dq=!1;this.M=!0;this.de=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.j=
[];this.ka=[];this.pj={};this.ec=[];this.Di={};this.Lc=[];this.df=[];this.Ph=[];this.Go=[];this.Ho=[];this.Ud={};this.fj=this.sd=!1;this.Rc=0;this.ej=this.hj=!1;this.oc=[];this.Gf=!1;this.Sc=this.La=this.$g=this.Uj="";this.ig=this.Wm=!1;this.Cg=[];this.Kc=this.Ae=0;this.hm=30;this.ri=this.Vf=0;this.lg=1;this.qb=new bb;this.Vh=new bb;this.lh=this.Gg=this.Ag=this.bd=this.ge=this.Ii=this.Vg=0;this.oi=null;this.Ai=[];this.Ci=[];this.zg=-1;this.uj=[[]];this.ck=this.fh=0;this.Lj(null);this.uf=this.mm=this.Xf=
0;this.jg=[];this.$j=this.Mj=-1;this.Ug=!0;this.dh=0;this.If=!1;this.Ur=0;this.kf=null;this.ud=this.pl=!1;this.yj=new ba;this.zj=new ba;this.Aj=new ba;this.Km=[];new db([]);new db([]);this.we=[];this.Kg={};this.xe={};this.ve={};this.cf={};this.Mk={};this.Ml=this.Zg=this.la=this.pa=this.Ll=this.Yg=this.O=null;this.$e=this.jj=!1;this.Ki=[null,null];this.Yd=0;this.Vc={};this.gg=this.Bd=null;this.Zm="";this.kh=[];this.Fr()}}function q(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function u(a){a.target.result.createObjectStore("saves",
{keyPath:"slot"})}function t(a,b,e,f){var g=indexedDB.open("_C2SaveStates");g.onupgradeneeded=u;g.onerror=f;g.onsuccess=function(g){g=g.target.result;g.onerror=f;g.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=e}}function h(a,b,e){var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=u;f.onerror=e;f.onsuccess=function(f){f=f.target.result;f.onerror=e;var g=f.transaction(["saves"]).objectStore("saves").get(a);g.onsuccess=function(){g.result?b(g.result.data):
b(null)}}}function b(){y("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function d(a){var b,e={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ba||a[b]&&"undefined"!==typeof a[b].Dt||"spriteCreatedDestroyCallback"!==b&&(e[b]=a[b]);return e}var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||
window.oRequestAnimationFrame;m.prototype.Fr=function(){var a=this,b;this.Ge?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var e="data.js";if(this.El||this.Ge||this.ij||this.Dl)e="data.json";b.open("GET",e,!0);var f=!1;if(!this.na&&"response"in b&&"responseType"in b)try{b.responseType="json",f="json"===b.responseType}catch(g){f=!1}if(!f&&"responseType"in b)try{b.responseType="text"}catch(d){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(l){}this.Ge?
b.onreadystatechange=function(){4===b.readyState&&a.bh(JSON.parse(b.responseText))}:(b.onload=function(){if(f)a.bh(b.response);else if(a.cc){var e=b.responseText,e=e.substr(e.indexOf("{"));a.bh(JSON.parse(e))}else a.bh(JSON.parse(b.responseText))},b.onerror=function(a){da("Error requesting "+e+":");da(a)});b.send()};m.prototype.Lq=function(){var a=this,b,e,f,g,d,l,c,n,r;this.be=(!this.na||this.cc||this.Jb)&&this.js&&!this.Al;0===this.Ua&&this.Tg&&(this.be=!1);this.devicePixelRatio=this.be?window.devicePixelRatio||
window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Ga();e=!(!this.dq&&(!this.$h||this.wd||this.Cl||this.Ge||this.Qg||this.Jb||this.yl));0<this.Ua&&this.setSize(k(),p(),!0);try{this.xp&&(this.Ib||this.cc||!this.na)&&(b={alpha:e,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.n=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(h){}if(this.n){if(b=this.n.getExtension("WEBGL_debug_renderer_info"))this.Ui=this.n.getParameter(b.UNMASKED_RENDERER_WEBGL)+
" ["+this.n.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.S&&(this.Ui+=" [front-to-back enabled]");this.na||(this.Ea=document.createElement("canvas"),jQuery(this.Ea).appendTo(this.canvas.parentNode),this.Ea.oncontextmenu=function(){return!1},this.Ea.onselectstart=function(){return!1},this.Ea.width=Math.round(this.ug*this.devicePixelRatio),this.Ea.height=Math.round(this.qf*this.devicePixelRatio),jQuery(this.Ea).css({width:this.ug+"px",height:this.qf+"px"}),this.Dm(),this.Fj=this.Ea.getContext("2d"));
this.p=new lb(this.n,this.vd,this.S);this.p.ne(this.canvas.width,this.canvas.height);this.p.Zk=0!==this.pp;this.N=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.jr();y("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.p.tl();a.p.ne(a.p.width,a.p.height,!0);a.pa=null;a.la=null;a.Ki[0]=null;a.Ki[1]=null;a.kr();a.M=!0;y("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},
!1);b=0;for(e=this.j.length;b<e;b++)for(d=this.j[b],f=0,g=d.B.length;f<g;f++)c=d.B[f],c.ma=this.p.Ti(c.id),c.fc=this.p.Ij(c.ma),this.$e=this.$e||this.p.$f(c.ma);b=0;for(e=this.ec.length;b<e;b++){n=this.ec[b];f=0;for(g=n.B.length;f<g;f++)c=n.B[f],c.ma=this.p.Ti(c.id),c.fc=this.p.Ij(c.ma);n.jc();f=0;for(g=n.C.length;f<g;f++){r=n.C[f];d=0;for(l=r.B.length;d<l;d++)c=r.B[d],c.ma=this.p.Ti(c.id),c.fc=this.p.Ij(c.ma),this.$e=this.$e||this.p.$f(c.ma);r.jc()}}}else{if(0<this.Ua&&this.td){this.canvas=null;
document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.N=AppMobi.canvas.getContext("2d");try{this.N.samplingMode=this.J?"smooth":"sharp",this.N.globalScale=1,this.N.HTML5CompatibilityMode=!0,this.N.imageSmoothingEnabled=this.J}catch(w){}0!==this.width&&0!==this.height&&(this.N.width=this.width,this.N.height=this.height)}this.N||(this.Ib?(b={antialias:!!this.J,alpha:e},this.N=this.canvas.getContext("2d",b)):(b={alpha:e},this.N=this.canvas.getContext("2d",b)),this.N.webkitImageSmoothingEnabled=
this.J,this.N.mozImageSmoothingEnabled=this.J,this.N.msImageSmoothingEnabled=this.J,this.N.imageSmoothingEnabled=this.J);this.Fj=this.Ea=null}this.hn=function(b){a.Kd(!1,b)};window==window.top||this.na||this.Cl||this.Ge||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Ib&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&
(y("Reloading for continuous preview"),this.$g="__c2_continuouspreview",this.ig=!0),this.qr&&!this.vd&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));window.addEventListener("blur",function(){});this.na||(b=function(a){if(kb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",
b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Ua&&this.be&&1<this.devicePixelRatio&&this.setSize(this.ra,this.qa,!0);this.nn();this.Fq();this.go();this.ea={}};m.prototype.setSize=function(a,b,e){var f=0,g=0,d=0,l=0,l=0,c=this.Vq&&this.Rq&&!navigator.standalone&&!this.na&&!this.Jb;c&&(b+=60);if(this.Nf!==a||this.Mf!==b||e){this.Nf=a;this.Mf=b;var n=this.Ua,r=(document.mozFullScreen||
document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.If)&&!this.Jb;if(r||0!==this.Ua||e)r&&0<this.Yd&&(n=this.Yd),e=this.devicePixelRatio,4<=n?(d=this.ra/this.qa,a/b>d?(d*=b,5===n?(l=d*e/this.ra,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),d=this.ra*l/e,l=this.qa*l/e,f=(a-d)/2,g=(b-l)/2,a=d,b=l):(f=(a-d)/2,a=d)):(l=a/d,5===n?(l=l*e/this.qa,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),d=this.ra*l/e,l=this.qa*l/e,f=(a-d)/2,g=(b-l)/2,a=d):g=(b-l)/2,b=l),r&&!this.wd&&
(g=f=0)):this.wd&&this.If&&0===this.fl&&(f=Math.floor((a-this.ra)/2),g=Math.floor((b-this.qa)/2),a=this.ra,b=this.qa),2>n&&(this.jf=e),this.be&&this.Gl&&1<e&&(1024<=a&&(a=1023),1024<=b&&(b=1023)),this.ug=Math.round(a),this.qf=Math.round(b),this.width=Math.round(a*e),this.height=Math.round(b*e),this.M=!0,this.xn?(this.A=this.width,this.u=this.height,this.ob=!0):this.width<this.ra&&this.height<this.qa||1===n?(this.A=this.width,this.u=this.height,this.ob=!0):(this.A=this.ra,this.u=this.qa,this.ob=!1,
2===n?(d=this.ra/this.qa,n=this.Nf/this.Mf,n<d?this.A=this.u*n:n>d&&(this.u=this.A/n)):3===n&&(d=this.ra/this.qa,n=this.Nf/this.Mf,n>d?this.A=this.u*n:n<d&&(this.u=this.A/n))),this.Rk&&!this.na&&(jQuery(this.Rk).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(f)+"px","margin-top":Math.floor(g)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*e),this.canvas.height=
Math.round(b*e),this.cc?(this.canvas.style.left=Math.floor(f)+"px",this.canvas.style.top=Math.floor(g)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.be&&!this.na&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.Ea&&(this.Ea.width=Math.round(a*e),this.Ea.height=Math.round(b*e),this.Ea.style.width=this.ug+"px",this.Ea.style.height=this.qf+"px"),this.p&&this.p.ne(Math.round(a*e),Math.round(b*e)),this.td&&
this.N&&(this.N.width=Math.round(a),this.N.height=Math.round(b)),this.N&&(this.N.webkitImageSmoothingEnabled=this.J,this.N.mozImageSmoothingEnabled=this.J,this.N.msImageSmoothingEnabled=this.J,this.N.imageSmoothingEnabled=this.J),this.nn(),this.na||!c&&!this.kj||window.setTimeout(function(){window.scrollTo(0,1)},100)}};m.prototype.nn=function(){if(this.Ko&&0!==this.Ej){var a="portrait";2===this.Ej&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?
screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",b)}}};m.prototype.jr=function(){this.p.Ro();this.jj=!0;var a,b,e;a=0;for(b=this.j.length;a<b;a++)e=this.j[a],e.Cj&&e.Cj()};m.prototype.kr=function(){this.jj=!1;var a,b,e;a=0;for(b=this.j.length;a<b;a++)e=this.j[a],e.tm&&e.tm()};m.prototype.Dm=
function(){if(!this.na){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.If)&&!this.Jb?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Ea).css(a)}};var a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;m.prototype.setSuspended=function(b){var e;if(b&&!this.de)for(y("[Construct 2] Suspending"),
this.de=!0,-1!==this.Mj&&a&&a(this.Mj),-1!==this.$j&&clearTimeout(this.$j),b=0,e=this.jg.length;b<e;b++)this.jg[b](!0);else if(!b&&this.de){y("[Construct 2] Resuming");this.de=!1;this.Vg=U();this.ge=U();b=this.Vf=this.Gg=0;for(e=this.jg.length;b<e;b++)this.jg[b](!1);this.Kd(!1)}};m.prototype.Fo=function(a){this.jg.push(a)};m.prototype.hd=function(a){return this.kh[a]};m.prototype.bh=function(a){a&&a.project||da("Project model unavailable");a=a.project;this.name=a[0];this.dl=a[1];this.Ua=a[12];this.fl=
a[12];this.ra=a[10];this.qa=a[11];this.xm=this.ra/2;this.ym=this.qa/2;this.na&&!this.cc&&(4<=a[12]||0===a[12])&&(y("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.fl=this.Ua=3);this.jk=a[18];this.Cd=a[19];if(0===this.Cd){var b=new Image;b.crossOrigin="anonymous";b.src="loading-logo.png";this.Bd={gh:b}}else if(4===this.Cd){b=new Image;b.src="";var e=new Image;e.src="";var f=new Image;f.src="";var g=new Image;g.src="";var d=new Image;
d.src="";var l=new Image;l.src="";var c=new Image;c.src="";var n=new Image;n.src="";var r=new Image;r.src="";var h=new Image;h.src="";var w=new Image;w.src="";var x=new Image;x.src="";this.Bd={gh:[b,e,f,g],ur:[d,l,c,n],os:[r,h,w,x]}}this.Xf=a[21];this.kh=ic();this.zc=new X(this);b=0;for(e=a[2].length;b<e;b++)c=a[2][b],f=this.hd(c[0]),mb(c,f.prototype),n=new f(this),n.Fh=c[1],n.xd=c[2],n.km=c[9],n.Aa&&n.Aa(),this.plugins.push(n);this.kh=ic();b=0;for(e=a[3].length;b<e;b++){c=a[3][b];d=this.hd(c[1]);
n=null;f=0;for(g=this.plugins.length;f<g;f++)if(this.plugins[f]instanceof d){n=this.plugins[f];break}r=new n.Bc(n);r.name=c[0];r.I=c[2];r.cj=c[3].slice(0);r.ls=c[3].length;r.Lo=c[4];r.fq=c[5];r.H=c[11];r.I?(r.jh=[],r.Mc=this.uf++,r.Y=null):(r.jh=null,r.Mc=-1,r.Y=[]);r.Bg=null;r.De=null;r.$k=null;r.Kb=!1;r.cb=null;c[6]?(r.en=c[6][0],r.gn=c[6][1],r.Wr=c[6][2]):(r.en=null,r.gn=0,r.Wr=0);c[7]?r.Ta=c[7]:r.Ta=null;r.index=b;r.d=[];r.xg=[];r.Jd=[new nb(r)];r.Hc=0;r.Fb=null;r.Xk=0;r.Xe=!0;r.Qh=ob;r.kq=pb;
r.pq=qb;r.Q=rb;r.ag=sb;r.Kj=tb;r.Pe=ub;r.Hg=vb;r.Li=wb;r.Ni=xb;r.kd=yb;r.Pi=zb;r.Sk=new eb(this.ra,this.qa);r.Ek=!0;r.Fk=!1;r.ea={};r.toString=Ab;r.ka=[];f=0;for(g=c[8].length;f<g;f++){h=c[8][f];w=this.hd(h[1]);x=null;d=0;for(l=this.ka.length;d<l;d++)if(this.ka[d]instanceof w){x=this.ka[d];break}x||(x=new w(this),x.lm=[],x.wj=new ba,x.Aa&&x.Aa(),this.ka.push(x));-1===x.lm.indexOf(r)&&x.lm.push(r);d=new x.Bc(x,r);d.name=h[0];d.H=h[2];d.Aa();r.ka.push(d)}r.global=c[9];r.gj=c[10];r.B=[];f=0;for(g=c[12].length;f<
g;f++)r.B.push({id:c[12][f][0],name:c[12][f][1],ma:-1,fc:!1,kb:!0,index:f});r.Mt=c[13];this.jk&&!r.I&&!r.gj&&n.xd||r.Aa();r.name&&(this.types[r.name]=r);this.j.push(r);n.Fh&&(f=new n.yb(r),f.uid=this.Xf++,f.Hm=this.mm++,f.$d=0,f.zf=Bb,f.toString=Cb,f.Ma=c[14],f.Aa(),r.d.push(f),this.Vc[f.uid.toString()]=f)}b=0;for(e=a[4].length;b<e;b++)for(d=a[4][b],l=this.j[d[0]],f=1,g=d.length;f<g;f++)c=this.j[d[f]],c.Y.push(l),l.jh.push(c);b=0;for(e=a[28].length;b<e;b++){d=a[28][b];l=[];f=0;for(g=d.length;f<g;f++)l.push(this.j[d[f]]);
f=0;for(g=l.length;f<g;f++)l[f].Kb=!0,l[f].cb=l}if(0<this.uf)for(b=0,e=this.j.length;b<e;b++)if(c=this.j[b],!c.I&&c.Y.length){c.Bg=Array(this.uf);c.De=Array(this.uf);c.$k=Array(this.uf);r=[];f=x=w=h=0;for(g=c.Y.length;f<g;f++)for(n=c.Y[f],c.Bg[n.Mc]=h,h+=n.ls,c.De[n.Mc]=w,w+=n.Lo,c.$k[n.Mc]=x,x+=n.fq,d=0,l=n.B.length;d<l;d++)r.push(ya({},n.B[d]));c.B=r.concat(c.B);f=0;for(g=c.B.length;f<g;f++)c.B[f].index=f}b=0;for(e=a[5].length;b<e;b++)c=a[5][b],f=new Db(this,c),this.pj[f.name]=f,this.ec.push(f);
b=0;for(e=a[6].length;b<e;b++)c=a[6][b],f=new Eb(this,c),this.Di[f.name]=f,this.Lc.push(f);b=0;for(e=this.Lc.length;b<e;b++)this.Lc[b].ja();b=0;for(e=this.Lc.length;b<e;b++)this.Lc[b].gk();b=0;for(e=this.Ph.length;b<e;b++)this.Ph[b].ja();R(this.Ph);this.Jo=a[7];this.Zc=a[9];this.jf=1;this.xp=a[13];this.J=a[14];this.$h=a[15];this.js=a[17];this.Ej=a[20];this.Ko=0<this.Ej;this.qr=a[22];this.ob=this.xn=a[23];this.pp=a[24];this.xr=a[25];this.S=a[27]&&!this.Qc;this.Gh=Date.now();R(this.kh);this.Lq()};var e=
!1;m.prototype.ns=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){e=a.Ok=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.cc?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(f){e=a.Ok=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",f)}):(a.crossOrigin="anonymous",a.src=b));this.df.push(a)};m.prototype.cq=function(a){var b,e;b=0;for(e=this.df.length;b<e;b++)if(this.df[b].Uo===
a)return this.df[b];return null};var g=0,f=!1;m.prototype.Fq=function(){this.kf&&(g=this.kf.Jt(this.Jo))};m.prototype.Gk=function(){var a=g,b=0,e=0,d=!0,l,c,e=0;for(l=this.df.length;e<l;e++){c=this.df[e];var n=c.To;if(!n||0>=n)n=5E4;a+=n;c.src&&(c.complete||c.loaded)&&!c.Ok?b+=n:d=!1}d&&this.xr&&this.kf&&(f||(this.kf.Kt(),f=!0),e=this.kf.Gt(),b+=e,e<g&&(d=!1));this.gc=0==a?1:b/a;return d};var r=!1;m.prototype.go=function(){if(this.N||this.p){var a=this.N||this.Fj;this.Ea&&this.Dm();this.gc=0;this.Kl=
-1;var b=this;if(this.Gk()&&(4!==this.Cd||r))this.Gq();else{var f=Date.now()-this.Gh;if(a){var g=this.width,d=this.height,l=this.devicePixelRatio;if(3>this.Cd&&(this.Ib||500<=f&&this.Kl!=this.gc)){a.clearRect(0,0,g,d);var f=g/2,d=d/2,g=0===this.Cd&&this.Bd.gh.complete,n=40*l,h=0,w=80*l,x;if(g){var m=this.Bd.gh,w=m.width*l;x=m.height*l;n=w/2;h=x/2;a.drawImage(m,O(f-n),O(d-h),w,x)}1>=this.Cd?(f=O(f-n)+.5,d=O(d+(h+(g?12*l:0)))+.5,a.fillStyle=e?"red":"DodgerBlue",a.fillRect(f,d,Math.floor(w*this.gc),
6*l),a.strokeStyle="black",a.strokeRect(f,d,w,6*l),a.strokeStyle="white",a.strokeRect(f-1*l,d-1*l,w+2*l,8*l)):2===this.Cd&&(a.font=this.cc?"12pt ArialMT":"12pt Arial",a.fillStyle=e?"#f00":"#999",a.Lt="middle",l=Math.round(100*this.gc)+"%",g=a.measureText?a.measureText(l):null,a.fillText(l,f-(g?g.width:0)/2,d));this.Kl=this.gc}else if(4===this.Cd){this.up(a);c?c(function(){b.go()}):setTimeout(function(){b.go()},16);return}}setTimeout(function(){b.go()},this.Ib?10:100)}}};var n=-1,x="undefined"===typeof cr_is_preview?
200:0,l=!0,w=!1,A=0,ha=0,Ca="undefined"===typeof cr_is_preview?3E3:0,I=null,M=null,J=0;m.prototype.up=function(a){if(!r){for(var b=Math.ceil(this.width),f=Math.ceil(this.height),g=this.Bd.gh,d=this.Bd.ur,c=this.Bd.os,h=0;4>h;++h)if(!g[h].complete||!d[h].complete||!c[h].complete)return;0===J&&(n=Date.now());var h=Date.now(),m=!1,k=a,p,t;l||w?(a.clearRect(0,0,b,f),I&&I.width===b&&I.height===f||(I=document.createElement("canvas"),I.width=b,I.height=f,M=I.getContext("2d")),k=M,m=!0,l&&1===J&&(n=Date.now())):
a.globalAlpha=1;k.fillStyle="#333333";k.fillRect(0,0,b,f);256<this.qf?(p=Ia(.22*f,105,.6*b),t=.25*p,k.drawImage(q(d,p),.5*b-p/2,.2*f-t/2,p,t),t=p=Math.min(.395*f,.95*b),k.drawImage(q(g,p),.5*b-p/2,.485*f-t/2,p,t),p=Ia(.22*f,105,.6*b),t=.25*p,k.drawImage(q(c,p),.5*b-p/2,.868*f-t/2,p,t),k.fillStyle="#3C3C3C",p=b,t=Math.max(.005*f,2),k.fillRect(0,.8*f-t/2,p,t),k.fillStyle=e?"red":"#E0FF65",p=b*this.gc,k.fillRect(.5*b-p/2,.8*f-t/2,p,t)):(t=p=.55*f,k.drawImage(q(g,p),.5*b-p/2,.45*f-t/2,p,t),k.fillStyle=
"#3C3C3C",p=b,t=Math.max(.005*f,2),k.fillRect(0,.85*f-t/2,p,t),k.fillStyle=e?"red":"#E0FF65",p=b*this.gc,k.fillRect(.5*b-p/2,.85*f-t/2,p,t));m&&(l?a.globalAlpha=0===J?0:Math.min((h-n)/300,1):w&&(a.globalAlpha=Math.max(1-(h-ha)/300,0)),a.drawImage(I,0,0,b,f));l&&300<=h-n&&2<=J&&(l=!1,A=h);!l&&h-A>=Ca&&!w&&1<=this.gc&&(w=!0,ha=h);if(w&&h-ha>=300+x||"undefined"!==typeof cr_is_preview&&1<=this.gc&&500>Date.now()-n)r=!0,w=l=!1,this.Bd=M=I=null;++J}};m.prototype.Gq=function(){this.Ea&&(this.canvas.parentNode.removeChild(this.Ea),
this.Ea=this.Fj=null);this.Gh=Date.now();this.ge=U();var a,b,e;if(this.jk)for(a=0,b=this.j.length;a<b;a++)e=this.j[a],e.I||e.gj||!e.ia.xd||e.Aa();else this.Ug=!1;a=0;for(b=this.ec.length;a<b;a++)this.ec[a].Vo();2<=this.Ua&&(a=this.ra/this.qa,b=this.width/this.height,this.jf=2!==this.Ua&&b>a||2===this.Ua&&b<a?this.height/this.qa:this.width/this.ra);this.dl?this.pj[this.dl].Xj():this.ec[0].Xj();this.jk||(this.dh=1,this.trigger(X.prototype.i.nk,null));navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(b=this.j.length;a<b;a++)e=this.j[a],e.ir&&e.ir();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Kd(!1);this.td&&AppMobi.webview.execute("onGameReady();")};m.prototype.Kd=function(a,b,e){if(this.O){var f=U();if(e||!this.de||a){a||(c?this.Mj=c(this.hn):this.$j=setTimeout(this.hn,this.vd?1:16));b=b||f;var g=this.Ua;((e=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.Jb)||this.If)&&0<this.Yd&&(g=this.Yd);0<g&&(!this.Tg||window.self!==window.top)&&(g=window.innerHeight,this.Nf===window.innerWidth&&this.Mf===g||this.setSize(k(),p()));this.na||(e?(this.Dg||(this.Ji=jQuery(this.canvas).css("margin")||"0",this.Dg=!0),this.Pg||this.wd||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Dg?(this.Pg||this.wd||jQuery(this.canvas).css("margin",
this.Ji),this.Ji="",this.Dg=!1,0===this.Ua&&this.setSize(Math.round(this.pm/this.devicePixelRatio),Math.round(this.om/this.devicePixelRatio),!0)):(this.pm=this.width,this.om=this.height));this.Ug&&(e=this.Gk(),this.dh=this.gc,e&&(this.Ug=!1,this.gc=1,this.trigger(X.prototype.i.nk,null)));this.$q(b);!this.M&&!this.Ib||this.jj||this.ig||a||(this.M=!1,this.p?this.Gb():this.Jc(),this.gg&&(this.canvas&&this.canvas.toDataURL&&(this.Zm=this.canvas.toDataURL(this.gg[0],this.gg[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Zm),
this.trigger(X.prototype.i.On,null)),this.gg=null));this.Ht||(this.bd++,this.Ag++,this.Gg++);this.Vf+=U()-f}}};m.prototype.$q=function(a){var b,e,f,g,d,l,c,n;1E3<=a-this.ge&&(this.ge+=1E3,1E3<=a-this.ge&&(this.ge=a),this.Ii=this.Gg,this.Gg=0,this.ri=this.Vf,this.Vf=0);0!==this.Vg&&(b=a-this.Vg,0>b&&(b=0),this.Kc=b/1E3,.5<this.Kc?this.Kc=0:this.Kc>1/this.hm&&(this.Kc=1/this.hm));this.Vg=a;this.Ae=this.Kc*this.lg;this.qb.add(this.Ae);this.Vh.add(this.Kc);a=(document.mozFullScreen||document.webkitIsFullScreen||
document.fullScreen||!!document.msFullscreenElement||this.If)&&!this.Jb;2<=this.Ua||a&&0<this.Yd?(b=this.ra/this.qa,e=this.width/this.height,f=this.Ua,a&&0<this.Yd&&(f=this.Yd),this.jf=2!==f&&e>b||2===f&&e<b?this.height/this.qa:this.width/this.ra,this.O&&(this.O.Mm(this.O.scrollX),this.O.Nm(this.O.scrollY))):this.jf=this.be?this.devicePixelRatio:1;this.Ga();this.Rc++;this.zc.Kr();this.Rc--;this.Ga();this.Rc++;e=this.yj.Md();a=0;for(b=e.length;a<b;a++)e[a].Br();a=0;for(b=this.j.length;a<b;a++)if(l=
this.j[a],!l.I&&(l.ka.length||l.Y.length))for(e=0,f=l.d.length;e<f;e++)for(c=l.d[e],g=0,d=c.D.length;g<d;g++)c.D[g].Kd();a=0;for(b=this.j.length;a<b;a++)if(l=this.j[a],!l.I&&(l.ka.length||l.Y.length))for(e=0,f=l.d.length;e<f;e++)for(c=l.d[e],g=0,d=c.D.length;g<d;g++)n=c.D[g],n.tr&&n.tr();e=this.zj.Md();a=0;for(b=e.length;a<b;a++)e[a].Kd();this.Rc--;this.Hq();for(a=0;this.oi&&10>a++;)this.Yk(this.oi);a=0;for(b=this.Lc.length;a<b;a++)this.Lc[a].Xi=!1;this.O.Wd&&this.O.Wd.ta();R(this.Km);this.Rc++;a=
0;for(b=this.j.length;a<b;a++)if(l=this.j[a],!l.I&&(l.ka.length||l.Y.length))for(e=0,f=l.d.length;e<f;e++)for(c=l.d[e],g=0,d=c.D.length;g<d;g++)n=c.D[g],n.Zj&&n.Zj();e=this.Aj.Md();a=0;for(b=e.length;a<b;a++)e[a].Zj();this.Rc--};m.prototype.Yk=function(a){var b=this.O;this.O.Vr();var e,f,g,d,l,c,n;if(this.p)for(e=0,f=this.j.length;e<f;e++)l=this.j[e],l.I||!l.rn||l.global&&0!==l.d.length||-1!==a.Ef.indexOf(l)||l.rn();b==a&&R(this.zc.$a);R(this.Km);a.Xj();e=0;for(f=this.j.length;e<f;e++)if(l=this.j[e],
l.global||l.ia.Fh)for(a=0,b=l.d.length;a<b;a++)if(c=l.d[a],c.Bj&&c.Bj(),c.D)for(g=0,d=c.D.length;g<d;g++)n=c.D[g],n.Bj&&n.Bj();this.M=!0;this.Ga()};m.prototype.Cr=function(a){this.yj.add(a)};m.prototype.jn=function(a){this.zj.add(a)};m.prototype.Xr=function(a){this.Aj.add(a)};m.prototype.jl=function(a){return a&&-1!==a.Wf?this.Kc*a.Wf:this.Ae};m.prototype.Jc=function(){this.O.Jc(this.N);this.td&&this.N.present()};m.prototype.Gb=function(){this.S&&(this.Vd=1,this.O.ze(this.p));this.O.Gb(this.p);this.p.Ar()};
m.prototype.Do=function(a){a&&this.Ai.push(a)};m.prototype.Ri=function(a){a=a.toString();return this.Vc.hasOwnProperty(a)?this.Vc[a]:null};var C=[];m.prototype.lc=function(a){var b,e;b=a.type.name;var f=null;if(this.Ud.hasOwnProperty(b)){if(f=this.Ud[b],f.contains(a))return}else f=C.length?C.pop():new ba,this.Ud[b]=f;f.add(a);this.sd=!0;if(a.Kb)for(b=0,e=a.siblings.length;b<e;b++)this.lc(a.siblings[b]);this.fj&&f.bf.push(a);this.ej||(this.Rc++,this.trigger(Object.getPrototypeOf(a.type.ia).i.Qn,a),
this.Rc--)};m.prototype.Ga=function(){if(this.sd){var a,b,e,f,g,d;this.fj=!0;e=0;for(g=this.oc.length;e<g;++e)for(a=this.oc[e],b=a.type,b.d.push(a),f=0,d=b.Y.length;f<d;++f)b.Y[f].d.push(a),b.Y[f].Xe=!0;R(this.oc);this.Jn();Ya(this.Ud);this.sd=this.fj=!1}};m.prototype.Jn=function(){for(var a in this.Ud)this.Ud.hasOwnProperty(a)&&this.Cn(this.Ud[a])};m.prototype.Cn=function(a){var b=a.Md(),e=b[0].type,f,g,d,l,c,n;Za(e.d,a);e.Xe=!0;0===e.d.length&&(e.Fk=!1);f=0;for(g=e.Y.length;f<g;++f)n=e.Y[f],Za(n.d,
a),n.Xe=!0;f=0;for(g=this.zc.$a.length;f<g;++f)if(c=this.zc.$a[f],c.Pa.hasOwnProperty(e.index)&&Za(c.Pa[e.index].Oc,a),!e.I)for(d=0,l=e.Y.length;d<l;++d)n=e.Y[d],c.Pa.hasOwnProperty(n.index)&&Za(c.Pa[n.index].Oc,a);if(c=b[0].e){if(c.xb)for(d=c.d,f=0,g=d.length;f<g;++f)l=d[f],a.contains(l)&&(l.ua(),c.Fa.update(l,l.Wa,null),l.Wa.set(0,0,-1,-1));Za(c.d,a);c.dg(0)}for(f=0;f<b.length;++f)this.Bn(b[f],e);a.clear();C.push(a);this.M=!0};m.prototype.Bn=function(a,b){var e,f,g;e=0;for(f=this.Ai.length;e<f;++e)this.Ai[e](a);
a.nd&&b.Sk.update(a,a.nd,null);(e=a.e)&&e.Se(a,!0);if(a.D)for(e=0,f=a.D.length;e<f;++e)g=a.D[e],g.Yf&&g.Yf(),g.behavior.wj.remove(a);this.yj.remove(a);this.zj.remove(a);this.Aj.remove(a);a.Yf&&a.Yf();this.Vc.hasOwnProperty(a.uid.toString())&&delete this.Vc[a.uid.toString()];this.lh--;100>b.xg.length&&b.xg.push(a)};m.prototype.Uk=function(a,b,e,f){if(a.I){var g=O(Math.random()*a.jh.length);return this.Uk(a.jh[g],b,e,f)}return a.Fb?this.od(a.Fb,b,!1,e,f,!1):null};var B=[];m.prototype.od=function(a,
b,e,f,g,d){var l,c,n,r;if(!a)return null;var h=this.j[a[1]],w=h.ia.xd;if(this.Ug&&w&&!h.gj||w&&!this.p&&11===a[0][11])return null;var x=b;w||(b=null);var k;h.xg.length?(k=h.xg.pop(),k.Nb=!0,h.ia.yb.call(k,h)):(k=new h.ia.yb(h),k.Nb=!1);!e||d||this.Vc.hasOwnProperty(a[2].toString())?k.uid=this.Xf++:k.uid=a[2];this.Vc[k.uid.toString()]=k;k.Hm=this.mm++;k.$d=h.d.length;l=0;for(c=this.oc.length;l<c;++l)this.oc[l].type===h&&k.$d++;k.zf=Bb;k.toString=Cb;n=a[3];if(k.Nb)Ya(k.ea);else{k.ea={};if("undefined"!==
typeof cr_is_preview)for(k.xl=[],k.xl.length=n.length,l=0,c=n.length;l<c;l++)k.xl[l]=n[l][1];k.P=[];k.P.length=n.length}l=0;for(c=n.length;l<c;l++)k.P[l]=n[l][0];if(w){var m=a[0];k.x=ea(f)?m[0]:f;k.y=ea(g)?m[1]:g;k.z=m[2];k.width=m[3];k.height=m[4];k.depth=m[5];k.g=m[6];k.opacity=m[7];k.gb=m[8];k.hb=m[9];k.Ha=m[10];l=m[11];!this.p&&h.B.length&&(k.Ha=l);k.mf=gb(k.Ha);this.n&&hb(k,k.Ha,this.n);if(k.Nb){l=0;for(c=m[12].length;l<c;l++)for(n=0,r=m[12][l].length;n<r;n++)k.da[l][n]=m[12][l][n];k.Ba.set(0,
0,0,0);k.nd.set(0,0,-1,-1);k.Wa.set(0,0,-1,-1);k.Rd.Eh(k.Ba);R(k.ei)}else{k.da=m[12].slice(0);l=0;for(c=k.da.length;l<c;l++)k.da[l]=m[12][l].slice(0);k.K=[];k.jd=[];k.jd.length=h.B.length;k.Ba=new P(0,0,0,0);k.nd=new P(0,0,-1,-1);k.Wa=new P(0,0,-1,-1);k.Rd=new ta;k.ei=[];k.T=Fb;k.Ct=Gb;k.Db=Hb;k.ua=Ib;k.hs=Jb;k.Nt=Kb;k.qc=Lb}k.Zr=!1;k.as=0;k.$r=0;k.Yr=null;14===m.length&&(k.Zr=!0,k.as=m[13][0],k.$r=m[13][1],k.Yr=m[13][2]);l=0;for(c=h.B.length;l<c;l++)k.jd[l]=!0;k.$c=!0;k.jc=Mb;k.jc();k.vn=!!k.K.length;
k.di=!0;k.ji=!0;h.Ek=!0;k.visible=!0;k.Wf=-1;k.e=b;k.kc=b.d.length;k.Vd=0;"undefined"===typeof k.nc&&(k.nc=null);this.M=k.lf=!0}var A;R(B);l=0;for(c=h.Y.length;l<c;l++)B.push.apply(B,h.Y[l].ka);B.push.apply(B,h.ka);if(k.Nb)for(l=0,c=B.length;l<c;l++){var p=B[l];A=k.D[l];A.Nb=!0;p.behavior.yb.call(A,p,k);m=a[4][l];n=0;for(r=m.length;n<r;n++)A.Ma[n]=m[n];A.Aa();p.behavior.wj.add(k)}else for(k.D=[],l=0,c=B.length;l<c;l++)p=B[l],A=new p.behavior.yb(p,k),A.Nb=!1,A.Ma=a[4][l].slice(0),A.Aa(),k.D.push(A),
p.behavior.wj.add(k);m=a[5];if(k.Nb)for(l=0,c=m.length;l<c;l++)k.Ma[l]=m[l];else k.Ma=m.slice(0);this.oc.push(k);this.sd=!0;b&&(b.hf(k,!0),1!==b.Wc||1!==b.Xc)&&(h.Fk=!0);this.lh++;if(h.Kb){if(k.Kb=!0,k.Nb?R(k.siblings):k.siblings=[],!e&&!d){l=0;for(c=h.cb.length;l<c;l++)if(h.cb[l]!==h){if(!h.cb[l].Fb)return null;k.siblings.push(this.od(h.cb[l].Fb,x,!1,w?k.x:f,w?k.y:g,!0))}l=0;for(c=k.siblings.length;l<c;l++)for(k.siblings[l].siblings.push(k),n=0;n<c;n++)l!==n&&k.siblings[l].siblings.push(k.siblings[n])}}else k.Kb=
!1,k.siblings=null;k.Aa();l=0;for(c=k.D.length;l<c;l++)k.D[l].sr&&k.D[l].sr();return k};m.prototype.Qi=function(a){var b,e;b=0;for(e=this.O.C.length;b<e;b++){var f=this.O.C[b];if(jb(f.name,a))return f}return null};m.prototype.wf=function(a){a=O(a);0>a&&(a=0);a>=this.O.C.length&&(a=this.O.C.length-1);return this.O.C[a]};m.prototype.pi=function(a){var b,e;b=0;for(e=a.length;b<e;b++)a[b].Q().W=!0};m.prototype.ag=function(a){var b,e;b=0;for(e=a.length;b<e;b++)a[b].ag()};m.prototype.Kj=function(a){var b,
e;b=0;for(e=a.length;b<e;b++)a[b].Kj()};m.prototype.Pe=function(a){var b,e;b=0;for(e=a.length;b<e;b++)a[b].Pe()};m.prototype.Kh=function(a,b,e){var f=a.Q(),g,l,d,c,n,r;if(f.W)for(f.W=!1,R(f.d),g=0,c=a.d.length;g<c;g++)d=a.d[g],d.ua(),n=d.e.Oa(b,e,!0),r=d.e.Oa(b,e,!1),d.Db(n,r)&&f.d.push(d);else{g=l=0;for(c=f.d.length;g<c;g++)d=f.d[g],d.ua(),n=d.e.Oa(b,e,!0),r=d.e.Oa(b,e,!1),d.Db(n,r)&&(f.d[l]=f.d[g],l++);f.d.length=l}a.kd();return f.Wi()};new ta;new P(0,0,0,0);m.prototype.pn=function(a,b){if(!b)return!1;
var e,f,g,l,d;e=0;for(f=a.ka.length;e<f;e++)if(a.ka[e].behavior instanceof b)return!0;if(!a.I)for(e=0,f=a.Y.length;e<f;e++)for(d=a.Y[e],g=0,l=d.ka.length;g<l;g++)if(d.ka[g].behavior instanceof b)return!0;return!1};m.prototype.dk=function(a){return this.pn(a,ac.Us)};m.prototype.ek=function(a){return this.pn(a,ac.Vs)};var na=-1;m.prototype.trigger=function(a,b,e){if(!this.O)return!1;var f=this.O.Wd;if(!f)return!1;var g=!1,l,d,c;na++;var n=f.xi;d=0;for(c=n.length;d<c;++d)l=this.ln(a,b,n[d],e),g=g||l;
l=this.ln(a,b,f,e);na--;return g||l};m.prototype.ln=function(a,b,e,f){var g=!1,l,d,c,n;if(b)for(c=this.bk(a,b,b.type.name,e,f),g=g||c,n=b.type.Y,l=0,d=n.length;l<d;++l)c=this.bk(a,b,n[l].name,e,f),g=g||c;else c=this.bk(a,b,"system",e,f),g=g||c;return g};m.prototype.bk=function(a,b,e,f,g){var l,d=!1,c=!1,c="undefined"!==typeof g,n=(c?f.bl:f.mn)[e];if(!n)return d;var r=null;f=0;for(l=n.length;f<l;++f)if(n[f].method==a){r=n[f].tf;break}if(!r)return d;var h;c?h=r[g]:h=r;if(!h)return null;f=0;for(l=h.length;f<
l;f++)a=h[f][0],g=h[f][1],c=this.bq(b,e,a,g),d=d||c;return d};m.prototype.bq=function(a,b,e,f){var g,l,d=!1;this.ck++;var c=this.Va().nb;c&&this.ag(c.Id);var n=1<this.ck;this.ag(e.Id);n&&this.Er();var r=this.Lj(e);r.nb=e;a&&(g=this.types[b].Q(),g.W=!1,R(g.d),g.d[0]=a,this.types[b].kd());a=!0;if(e.parent){b=r.bn;for(g=e.parent;g;)b.push(g),g=g.parent;b.reverse();g=0;for(l=b.length;g<l;g++)if(!b[g].Mr()){a=!1;break}}a&&(this.Ag++,e.vc?e.Lr(f):e.ta(),d=d||r.fe);this.Cm();n&&this.rr();this.Pe(e.Id);c&&
this.Pe(c.Id);this.sd&&0===this.Rc&&0===na&&!this.hj&&this.Ga();this.ck--;return d};m.prototype.jq=function(){var a=this.Va();return a.nb.Ia[a.bb]};m.prototype.Er=function(){this.fh++;this.fh>=this.uj.length&&this.uj.push([])};m.prototype.rr=function(){this.fh--};m.prototype.il=function(){return this.uj[this.fh]};m.prototype.Lj=function(a){this.zg++;this.zg>=this.Ci.length&&this.Ci.push(new Nb);var b=this.Va();b.reset(a);return b};m.prototype.Cm=function(){this.zg--};m.prototype.Va=function(){return this.Ci[this.zg]};
m.prototype.kl=function(a,b){for(var e,f,g,l,d,c;b;){e=0;for(f=b.Rb.length;e<f;e++)if(c=b.Rb[e],c instanceof Ob&&jb(a,c.name))return c;b=b.parent}e=0;for(f=this.Lc.length;e<f;e++)for(d=this.Lc[e],g=0,l=d.qd.length;g<l;g++)if(c=d.qd[g],c instanceof Ob&&jb(a,c.name))return c;return null};m.prototype.nl=function(a){var b,e;b=0;for(e=this.ec.length;b<e;b++)if(this.ec[b].H===a)return this.ec[b];return null};m.prototype.Jg=function(a){var b,e;b=0;for(e=this.j.length;b<e;b++)if(this.j[b].H===a)return this.j[b];
return null};m.prototype.lq=function(a){var b,e;b=0;for(e=this.we.length;b<e;b++)if(this.we[b].H===a)return this.we[b];return null};m.prototype.Yo=function(a,b){this.gg=[a,b];this.M=!0};m.prototype.Hq=function(){var a=this,e=this.Uj,f=this.Sc,g=this.$g,l=!1;this.Wm&&(l=!0,e="__c2_continuouspreview",this.Wm=!1);if(e.length){this.Ga();f=this.Qr();if(window.indexedDB&&!this.Ib)t(e,f,function(){y("Saved state to IndexedDB storage ("+f.length+" bytes)");a.Sc=f;a.trigger(X.prototype.i.Zh,null);a.Sc="";
l&&b()},function(g){try{localStorage.setItem("__c2save_"+e,f),y("Saved state to WebStorage ("+f.length+" bytes)"),a.Sc=f,a.trigger(X.prototype.i.Zh,null),a.Sc="",l&&b()}catch(d){y("Failed to save game state: "+g+"; "+d)}});else try{localStorage.setItem("__c2save_"+e,f),y("Saved state to WebStorage ("+f.length+" bytes)"),a.Sc=f,this.trigger(X.prototype.i.Zh,null),a.Sc="",l&&b()}catch(d){y("Error saving to WebStorage: "+d)}this.La=this.$g=this.Uj=""}if(g.length){if(window.indexedDB&&!this.Ib)h(g,function(b){b?
(a.La=b,y("Loaded state from IndexedDB storage ("+a.La.length+" bytes)")):(a.La=localStorage.getItem("__c2save_"+g)||"",y("Loaded state from WebStorage ("+a.La.length+" bytes)"));a.ig=!1;a.La.length||a.trigger(X.prototype.i.Yh,null)},function(){a.La=localStorage.getItem("__c2save_"+g)||"";y("Loaded state from WebStorage ("+a.La.length+" bytes)");a.ig=!1;a.La.length||a.trigger(X.prototype.i.Yh,null)});else{try{this.La=localStorage.getItem("__c2save_"+g)||"",y("Loaded state from WebStorage ("+this.La.length+
" bytes)")}catch(c){this.La=""}this.ig=!1;a.La.length||a.trigger(X.prototype.i.Yh,null)}this.Uj=this.$g=""}this.La.length&&(this.Ga(),this.Yq(this.La),this.Sc=this.La,this.trigger(X.prototype.i.Xn,null),this.La=this.Sc="")};m.prototype.Qr=function(){var a,b,e,f,g,l,c,n={c2save:!0,version:1,rt:{time:this.qb.Z,walltime:this.Vh.Z,timescale:this.lg,tickcount:this.bd,execcount:this.Ag,next_uid:this.Xf,running_layout:this.O.H,start_time_offset:Date.now()-this.Gh},types:{},layouts:{},events:{groups:{},cnds:{},
acts:{},vars:{}}};a=0;for(b=this.j.length;a<b;a++)if(g=this.j[a],!g.I&&!this.dk(g)){l={instances:[]};Xa(g.ea)&&(l.ex=d(g.ea));e=0;for(f=g.d.length;e<f;e++)l.instances.push(this.Tj(g.d[e]));n.types[g.H.toString()]=l}a=0;for(b=this.ec.length;a<b;a++)e=this.ec[a],n.layouts[e.H.toString()]=e.Pb();f=n.events.groups;a=0;for(b=this.we.length;a<b;a++)e=this.we[a],f[e.H.toString()]=this.Kg[e.Bf].Af;b=n.events.cnds;for(c in this.xe)this.xe.hasOwnProperty(c)&&(a=this.xe[c],Xa(a.ea)&&(b[c]={ex:d(a.ea)}));b=n.events.acts;
for(c in this.ve)this.ve.hasOwnProperty(c)&&(a=this.ve[c],Xa(a.ea)&&(b[c]={ex:a.ea}));b=n.events.vars;for(c in this.cf)this.cf.hasOwnProperty(c)&&(a=this.cf[c],a.Rg||a.parent&&!a.Jf||(b[c]=a.data));n.system=this.zc.Pb();return JSON.stringify(n)};m.prototype.Jm=function(){var a,b,e,f,g,l;this.Vc={};a=0;for(b=this.j.length;a<b;a++)if(e=this.j[a],!e.I)for(f=0,g=e.d.length;f<g;f++)l=e.d[f],this.Vc[l.uid.toString()]=l};m.prototype.Yq=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.Gf=!0;
var b=a.rt;this.qb.reset();this.qb.Z=b.time;this.Vh.reset();this.Vh.Z=b.walltime||0;this.lg=b.timescale;this.bd=b.tickcount;this.Ag=b.execcount;this.Gh=Date.now()-b.start_time_offset;var e=b.running_layout;if(e!==this.O.H)if(e=this.nl(e))this.Yk(e);else return;var f,g,l,d,c,n,r;n=a.types;for(g in n)if(n.hasOwnProperty(g)&&(d=this.Jg(parseInt(g,10)))&&!d.I&&!this.dk(d)){n[g].ex?d.ea=n[g].ex:Ya(d.ea);c=d.d;l=n[g].instances;e=0;for(f=la(c.length,l.length);e<f;e++)this.ah(c[e],l[e]);e=l.length;for(f=
c.length;e<f;e++)this.lc(c[e]);e=c.length;for(f=l.length;e<f;e++){c=null;if(d.ia.xd&&(c=this.O.Ig(l[e].w.l),!c))continue;c=this.od(d.Fb,c,!1,0,0,!0);this.ah(c,l[e])}d.Xe=!0}this.Ga();this.Jm();f=a.layouts;for(g in f)f.hasOwnProperty(g)&&(e=this.nl(parseInt(g,10)))&&e.sc(f[g]);f=a.events.groups;for(g in f)f.hasOwnProperty(g)&&(e=this.lq(parseInt(g,10)))&&this.Kg[e.Bf]&&this.Kg[e.Bf].Rr(f[g]);e=a.events.cnds;for(g in e)e.hasOwnProperty(g)&&this.xe.hasOwnProperty(g)&&(this.xe[g].ea=e[g].ex);e=a.events.acts;
for(g in e)e.hasOwnProperty(g)&&this.ve.hasOwnProperty(g)&&(this.ve[g].ea=e[g].ex);e=a.events.vars;for(g in e)e.hasOwnProperty(g)&&this.cf.hasOwnProperty(g)&&(this.cf[g].data=e[g]);this.Xf=b.next_uid;this.Gf=!1;e=0;for(f=this.Cg.length;e<f;++e)c=this.Cg[e],this.trigger(Object.getPrototypeOf(c.type.ia).i.Xh,c);R(this.Cg);this.zc.sc(a.system);e=0;for(f=this.j.length;e<f;e++)if(d=this.j[e],!d.I&&!this.dk(d))for(g=0,a=d.d.length;g<a;g++){c=d.d[g];if(d.Kb)for(n=c.zf(),R(c.siblings),b=0,l=d.cb.length;b<
l;b++)r=d.cb[b],d!==r&&c.siblings.push(r.d[n]);c.Nd&&c.Nd();if(c.D)for(b=0,l=c.D.length;b<l;b++)n=c.D[b],n.Nd&&n.Nd()}this.M=!0}};m.prototype.Tj=function(a,b){var e,f,g,l,c;l=a.type;g=l.ia;var n={};b?n.c2=!0:n.uid=a.uid;Xa(a.ea)&&(n.ex=d(a.ea));if(a.P&&a.P.length)for(n.ivs={},e=0,f=a.P.length;e<f;e++)n.ivs[a.type.cj[e].toString()]=a.P[e];if(g.xd){g={x:a.x,y:a.y,w:a.width,h:a.height,l:a.e.H,zi:a.qc()};0!==a.g&&(g.a=a.g);1!==a.opacity&&(g.o=a.opacity);.5!==a.gb&&(g.hX=a.gb);.5!==a.hb&&(g.hY=a.hb);0!==
a.Ha&&(g.bm=a.Ha);a.visible||(g.v=a.visible);a.lf||(g.ce=a.lf);-1!==a.Wf&&(g.mts=a.Wf);if(l.B.length)for(g.fx=[],e=0,f=l.B.length;e<f;e++)c=l.B[e],g.fx.push({name:c.name,active:a.jd[c.index],params:a.da[c.index]});n.w=g}if(a.D&&a.D.length)for(n.behs={},e=0,f=a.D.length;e<f;e++)l=a.D[e],l.Pb&&(n.behs[l.type.H.toString()]=l.Pb());a.Pb&&(n.data=a.Pb());return n};m.prototype.nq=function(a,b){var e,f;e=0;for(f=a.cj.length;e<f;e++)if(a.cj[e]===b)return e;return-1};m.prototype.iq=function(a,b){var e,f;e=
0;for(f=a.D.length;e<f;e++)if(a.D[e].type.H===b)return e;return-1};m.prototype.ah=function(a,b,e){var f,g,l,d,c;c=a.type;d=c.ia;if(e){if(!b.c2)return}else a.uid=b.uid;b.ex?a.ea=b.ex:Ya(a.ea);if(g=b.ivs)for(f in g)g.hasOwnProperty(f)&&(l=this.nq(c,parseInt(f,10)),0>l||l>=a.P.length||(a.P[l]=g[f]));if(d.xd){l=b.w;a.e.H!==l.l&&(g=a.e,a.e=this.O.Ig(l.l),a.e?(g.Se(a,!0),a.e.hf(a,!0),a.T(),a.e.dg(0)):(a.e=g,e||this.lc(a)));a.x=l.x;a.y=l.y;a.width=l.w;a.height=l.h;a.kc=l.zi;a.g=l.hasOwnProperty("a")?l.a:
0;a.opacity=l.hasOwnProperty("o")?l.o:1;a.gb=l.hasOwnProperty("hX")?l.hX:.5;a.hb=l.hasOwnProperty("hY")?l.hY:.5;a.visible=l.hasOwnProperty("v")?l.v:!0;a.lf=l.hasOwnProperty("ce")?l.ce:!0;a.Wf=l.hasOwnProperty("mts")?l.mts:-1;a.Ha=l.hasOwnProperty("bm")?l.bm:0;a.mf=gb(a.Ha);this.n&&hb(a,a.Ha,this.n);a.T();if(l.hasOwnProperty("fx"))for(e=0,g=l.fx.length;e<g;e++)d=c.Ni(l.fx[e].name),0>d||(a.jd[d]=l.fx[e].active,a.da[d]=l.fx[e].params);a.jc()}if(c=b.behs)for(f in c)c.hasOwnProperty(f)&&(e=this.iq(a,parseInt(f,
10)),0>e||a.D[e].sc(c[f]));b.data&&a.sc(b.data)};Pb=function(a){return new m(document.getElementById(a))};Qb=function(a,b){return new m({dc:!0,width:a,height:b})};window.cr_createRuntime=Pb;window.cr_createDCRuntime=Qb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.ci=!0;document.body.appendChild(a);a=new m(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,
window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new m(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var k=document.getElementById("c2canvas");return k?k.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(k,p){var m=window.cr_getC2Runtime();m&&m.Yo(k,p)};
window.cr_sizeCanvas=function(k,p){if(0!==k&&0!==p){var m=window.cr_getC2Runtime();m&&m.setSize(k,p)}};window.cr_setSuspended=function(k){var p=window.cr_getC2Runtime();p&&p.setSuspended(k)};
(function(){function k(a,b){this.b=a;this.Wd=null;this.scrollX=this.b.ra/2;this.scrollY=this.b.qa/2;this.scale=1;this.g=0;this.Ee=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.qn=b[3];this.Vm=b[4];this.H=b[5];var g=b[6],f,d;this.C=[];this.Ef=[];f=0;for(d=g.length;f<d;f++){var c=new Rb(this,g[f]);c.nm=f;this.C.push(c)}g=b[7];this.ae=[];f=0;for(d=g.length;f<d;f++){var c=g[f],h=this.b.j[c[1]];h.Fb||(h.Fb=c);this.ae.push(c);-1===this.Ef.indexOf(h)&&this.Ef.push(h)}this.B=[];this.K=[];this.$c=
!0;this.da=[];f=0;for(d=b[8].length;f<d;f++)this.B.push({id:b[8][f][0],name:b[8][f][1],ma:-1,fc:!1,kb:!0,index:f}),this.da.push(b[8][f][2].slice(0));this.jc();this.Re=new P(0,0,1,1);this.Nj=new P(0,0,1,1);this.Ed={}}function p(a,b){return a.kc-b.kc}function m(a,b){this.ya=a;this.b=a.b;this.d=[];this.scale=1;this.g=0;this.Ic=!1;this.cd=new P(0,0,0,0);this.kn=new ta;this.aa=this.V=this.ba=this.U=0;this.re=!1;this.fd=-1;this.qi=0;this.name=b[0];this.index=b[1];this.H=b[2];this.visible=b[3];this.Yb=b[4];
this.ic=b[5];this.Wc=b[6];this.Xc=b[7];this.opacity=b[8];this.Fg=b[9];this.xb=b[10];this.gd=b[11];this.Ha=b[12];this.wp=b[13];this.mf="source-over";this.Ja=this.Na=0;this.Fa=null;this.Tc=q();this.hc=!0;this.Ke=new P(0,0,-1,-1);this.Ca=new P(0,0,-1,-1);this.xb&&(this.Fa=new fb(this.b.ra,this.b.qa));this.xc=!1;var g=b[14],f,d;this.an=[];this.pb=[];this.pf=[];f=0;for(d=g.length;f<d;f++){var c=g[f],h=this.b.j[c[1]];h.Fb||(h.Fb=c,h.Xk=this.index);this.pb.push(c);-1===this.ya.Ef.indexOf(h)&&this.ya.Ef.push(h)}Ba(this.an,
this.pb);this.B=[];this.K=[];this.$c=!0;this.da=[];f=0;for(d=b[15].length;f<d;f++)this.B.push({id:b[15][f][0],name:b[15][f][1],ma:-1,fc:!1,kb:!0,index:f}),this.da.push(b[15][f][2].slice(0));this.jc();this.Re=new P(0,0,1,1);this.Nj=new P(0,0,1,1)}function q(){return b.length?b.pop():[]}function u(a){R(a);b.push(a)}k.prototype.Pr=function(a){var b=a.type.H.toString();this.Ed.hasOwnProperty(b)||(this.Ed[b]=[]);this.Ed[b].push(this.b.Tj(a))};k.prototype.ql=function(){var a=this.C[0];return!a.ic&&1===
a.opacity&&!a.Fg&&a.visible};k.prototype.jc=function(){R(this.K);this.$c=!0;var a,b,g;a=0;for(b=this.B.length;a<b;a++)g=this.B[a],g.kb&&(this.K.push(g),g.fc||(this.$c=!1))};k.prototype.Mi=function(a){var b,g,f;b=0;for(g=this.B.length;b<g;b++)if(f=this.B[b],f.name===a)return f;return null};var t=[],h=!0;k.prototype.Xj=function(){this.Vm&&(this.Wd=this.b.Di[this.Vm],this.Wd.gk());this.b.O=this;this.scrollX=this.b.ra/2;this.scrollY=this.b.qa/2;var a,b,g,f,d,c,k;a=0;for(g=this.b.j.length;a<g;a++)if(b=
this.b.j[a],!b.I)for(d=b.d,b=0,f=d.length;b<f;b++)if(c=d[b],c.e){var l=c.e.nm;l>=this.C.length&&(l=this.C.length-1);c.e=this.C[l];-1===c.e.d.indexOf(c)&&c.e.d.push(c);c.e.re=!0}if(!h)for(a=0,g=this.C.length;a<g;++a)this.C[a].d.sort(p);R(t);this.Mo();a=0;for(g=this.C.length;a<g;a++)c=this.C[a],c.Wo(),c.Rh();d=!1;if(!this.Ee){for(k in this.Ed)if(this.Ed.hasOwnProperty(k)&&(b=this.b.Jg(parseInt(k,10)))&&!b.I&&this.b.ek(b)){f=this.Ed[k];a=0;for(g=f.length;a<g;a++){c=null;if(b.ia.xd&&(c=this.Ig(f[a].w.l),
!c))continue;c=this.b.od(b.Fb,c,!1,0,0,!0);this.b.ah(c,f[a]);d=!0;t.push(c)}R(f)}a=0;for(g=this.C.length;a<g;a++)this.C[a].d.sort(p),this.C[a].re=!0}d&&(this.b.Ga(),this.b.Jm());for(a=0;a<t.length;a++)if(c=t[a],c.type.Kb)for(g=c.zf(),b=0,f=c.type.cb.length;b<f;b++)k=c.type.cb[b],c.type!==k&&(k.d.length>g?c.siblings.push(k.d[g]):k.Fb&&(d=this.b.od(k.Fb,c.e,!0,c.x,c.y,!0),this.b.Ga(),k.Qh(),c.siblings.push(d),t.push(d)));a=0;for(g=this.ae.length;a<g;a++)this.b.od(this.ae[a],null,!0);this.b.oi=null;
this.b.Ga();if(this.b.N&&!this.b.na)for(a=0,g=this.b.j.length;a<g;a++)k=this.b.j[a],!k.I&&k.d.length&&k.Em&&k.Em(this.b.N);if(this.b.Gf)Ba(this.b.Cg,t);else for(a=0,g=t.length;a<g;a++)c=t[a],this.b.trigger(Object.getPrototypeOf(c.type.ia).i.Xh,c);R(t);this.b.Gf||this.b.trigger(X.prototype.i.mk,null);this.Ee=!1};k.prototype.Vo=function(){var a,b,g,f,d;b=a=0;for(g=this.ae.length;a<g;a++)f=this.ae[a],d=this.b.j[f[1]],d.global?d.Kb||this.b.od(f,null,!0):(this.ae[b]=f,b++);Aa(this.ae,b)};k.prototype.Vr=
function(){this.b.Gf||this.b.trigger(X.prototype.i.Wn,null);this.b.ej=!0;R(this.b.zc.$a);var a,b,g,f,d,c;if(!this.Ee)for(a=0,b=this.C.length;a<b;a++)for(this.C[a].ik(),d=this.C[a].d,g=0,f=d.length;g<f;g++)c=d[g],c.type.global||this.b.ek(c.type)&&this.Pr(c);a=0;for(b=this.C.length;a<b;a++){d=this.C[a].d;g=0;for(f=d.length;g<f;g++)c=d[g],c.type.global||this.b.lc(c);this.b.Ga();R(d);this.C[a].re=!0}a=0;for(b=this.b.j.length;a<b;a++)if(d=this.b.j[a],!(d.global||d.ia.xd||d.ia.Fh||d.I)){g=0;for(f=d.d.length;g<
f;g++)this.b.lc(d.d[g]);this.b.Ga()}h=!1;this.b.ej=!1};new P(0,0,0,0);k.prototype.Jc=function(a){var b,g=a,f=!1,d=!this.b.ob;d&&(this.b.Zg||(this.b.Zg=document.createElement("canvas"),b=this.b.Zg,b.width=this.b.A,b.height=this.b.u,this.b.Ml=b.getContext("2d"),f=!0),b=this.b.Zg,g=this.b.Ml,b.width!==this.b.A&&(b.width=this.b.A,f=!0),b.height!==this.b.u&&(b.height=this.b.u,f=!0),f&&(g.webkitImageSmoothingEnabled=this.b.J,g.mozImageSmoothingEnabled=this.b.J,g.msImageSmoothingEnabled=this.b.J,g.imageSmoothingEnabled=
this.b.J));g.globalAlpha=1;g.globalCompositeOperation="source-over";this.b.$h&&!this.ql()&&g.clearRect(0,0,this.b.A,this.b.u);var c,h,f=0;for(c=this.C.length;f<c;f++)h=this.C[f],h.visible&&0<h.opacity&&11!==h.Ha&&(h.d.length||!h.ic)?h.Jc(g):h.Rh();d&&a.drawImage(b,0,0,this.b.width,this.b.height)};k.prototype.ze=function(a){a.Rm(!0);this.b.la||(this.b.la=a.mb(this.b.A,this.b.u,this.b.J));if(this.b.la.Td!==this.b.A||this.b.la.Sd!==this.b.u)a.deleteTexture(this.b.la),this.b.la=a.mb(this.b.A,this.b.u,
this.b.J);a.Qb(this.b.la);this.b.ob||a.ne(this.b.A,this.b.u);var b,g;for(b=this.C.length-1;0<=b;--b)g=this.C[b],g.visible&&1===g.opacity&&g.$c&&0===g.Ha&&(g.d.length||!g.ic)?g.ze(a):g.Rh();a.Rm(!1)};k.prototype.Gb=function(a){var b=0<this.K.length||this.b.$e||!this.b.ob||this.b.S;if(b){this.b.la||(this.b.la=a.mb(this.b.A,this.b.u,this.b.J));if(this.b.la.Td!==this.b.A||this.b.la.Sd!==this.b.u)a.deleteTexture(this.b.la),this.b.la=a.mb(this.b.A,this.b.u,this.b.J);a.Qb(this.b.la);this.b.ob||a.ne(this.b.A,
this.b.u)}else this.b.la&&(a.Qb(null),a.deleteTexture(this.b.la),this.b.la=null);this.b.$h&&!this.ql()&&a.clear(0,0,0,0);var g,f,d;g=0;for(f=this.C.length;g<f;g++)d=this.C[g],d.visible&&0<d.opacity&&(d.d.length||!d.ic)?d.Gb(a):d.Rh();b&&(0===this.K.length||1===this.K.length&&this.b.ob?(1===this.K.length?(b=this.K[0].index,a.Ya(this.K[0].ma),a.Ve(null,1/this.b.A,1/this.b.u,0,0,1,1,this.scale,this.g,0,0,this.b.A/2,this.b.u/2,this.b.qb.Z,this.da[b]),a.uh(this.K[0].ma)&&(this.b.M=!0)):a.Ya(0),this.b.ob||
a.ne(this.b.width,this.b.height),a.Qb(null),a.Qm(!1),a.Ue(1),a.sb(this.b.la),a.Om(),a.Ob(),a.wb(),b=this.b.width/2,g=this.b.height/2,a.bg(-b,g,b,g,b,-g,-b,-g),a.sb(null),a.Qm(!0)):this.Oj(a,null,null,null))};k.prototype.xf=function(){return 0<this.K.length||this.b.$e||!this.b.ob||this.b.S?this.b.la:null};k.prototype.ol=function(){var a=this.C[0].fb(),b,g,f;b=1;for(g=this.C.length;b<g;b++)f=this.C[b],(0!==f.Wc||0!==f.Xc)&&f.fb()<a&&(a=f.fb());return a};k.prototype.Mm=function(a){if(!this.qn){var b=
1/this.ol()*this.b.A/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.M=!0)};k.prototype.Nm=function(a){if(!this.qn){var b=1/this.ol()*this.b.u/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.M=!0)};k.prototype.Mo=function(){this.Mm(this.scrollX);this.Nm(this.scrollY)};k.prototype.Oj=function(a,b,g,f){var d=g?g.K:b?b.K:this.K,c=1,h=0,l=0,w=0,k=this.b.A,m=this.b.u;g?(c=g.e.fb(),h=g.e.eb(),l=g.e.U,w=g.e.V,k=g.e.ba,m=g.e.aa):
b&&(c=b.fb(),h=b.eb(),l=b.U,w=b.V,k=b.ba,m=b.aa);var p=this.b.Ki,q,t,u,C,B=0,na=1,v,Q=this.b.A,N=this.b.u,Da=Q/2,Ea=N/2,W=b?b.Re:this.Re,D=b?b.Nj:this.Nj,E=0,S=0,F=0,z=0,G=Q,oa=Q,K=N,pa=N,ia=u=0;C=g?g.e.eb():0;if(g){q=0;for(t=d.length;q<t;q++)u+=a.qq(d[q].ma),ia+=a.rq(d[q].ma);z=g.Ba;E=b.oa(z.left,z.top,!0);F=b.oa(z.left,z.top,!1);G=b.oa(z.right,z.bottom,!0);K=b.oa(z.right,z.bottom,!1);0!==C&&(q=b.oa(z.right,z.top,!0),t=b.oa(z.right,z.top,!1),S=b.oa(z.left,z.bottom,!0),z=b.oa(z.left,z.bottom,!1),
C=Math.min(E,G,q,S),G=Math.max(E,G,q,S),E=C,C=Math.min(F,K,t,z),K=Math.max(F,K,t,z),F=C);E-=u;F-=ia;G+=u;K+=ia;D.left=E/Q;D.top=1-F/N;D.right=G/Q;D.bottom=1-K/N;S=E=O(E);z=F=O(F);oa=G=qa(G);pa=K=qa(K);S-=u;z-=ia;oa+=u;pa+=ia;0>E&&(E=0);0>F&&(F=0);G>Q&&(G=Q);K>N&&(K=N);0>S&&(S=0);0>z&&(z=0);oa>Q&&(oa=Q);pa>N&&(pa=N);W.left=E/Q;W.top=1-F/N;W.right=G/Q;W.bottom=1-K/N}else W.left=D.left=0,W.top=D.top=0,W.right=D.right=1,W.bottom=D.bottom=1;ia=g&&(a.$f(d[0].ma)||0!==u||0!==ia||1!==g.opacity||g.type.ia.km)||
b&&!g&&1!==b.opacity;a.Om();if(ia){p[B]||(p[B]=a.mb(Q,N,this.b.J));if(p[B].Td!==Q||p[B].Sd!==N)a.deleteTexture(p[B]),p[B]=a.mb(Q,N,this.b.J);a.Ya(0);a.Qb(p[B]);v=pa-z;a.clearRect(S,N-z-v,oa-S,v);g?g.Gb(a):(a.sb(this.b.pa),a.Ue(b.opacity),a.Ob(),a.translate(-Da,-Ea),a.wb(),a.Gd(E,K,G,K,G,F,E,F,W));D.left=D.top=0;D.right=D.bottom=1;g&&(C=W.top,W.top=W.bottom,W.bottom=C);B=1;na=0}a.Ue(1);u=d.length-1;var Ua=a.Jj(d[u].ma)||!b&&!g&&!this.b.ob,sa=0;q=0;for(t=d.length;q<t;q++){p[B]||(p[B]=a.mb(Q,N,this.b.J));
if(p[B].Td!==Q||p[B].Sd!==N)a.deleteTexture(p[B]),p[B]=a.mb(Q,N,this.b.J);a.Ya(d[q].ma);sa=d[q].index;a.uh(d[q].ma)&&(this.b.M=!0);0!=q||ia?(a.Ve(f,1/Q,1/N,D.left,D.top,D.right,D.bottom,c,h,l,w,(l+k)/2,(w+m)/2,this.b.qb.Z,g?g.da[sa]:b?b.da[sa]:this.da[sa]),a.sb(null),q!==u||Ua?(a.Qb(p[B]),v=pa-z,C=N-z-v,a.clearRect(S,C,oa-S,v)):(g?a.Hd(g.Na,g.Ja):b&&a.Hd(b.Na,b.Ja),a.Qb(f)),a.sb(p[na]),a.Ob(),a.translate(-Da,-Ea),a.wb(),a.Gd(E,K,G,K,G,F,E,F,W),q!==u||Ua||a.sb(null)):(a.Qb(p[B]),v=pa-z,C=N-z-v,a.clearRect(S,
C,oa-S,v),g?(a.Ve(f,1/g.width,1/g.height,D.left,D.top,D.right,D.bottom,c,h,l,w,(l+k)/2,(w+m)/2,this.b.qb.Z,g.da[sa]),g.Gb(a)):(a.Ve(f,1/Q,1/N,0,0,1,1,c,h,l,w,(l+k)/2,(w+m)/2,this.b.qb.Z,b?b.da[sa]:this.da[sa]),a.sb(b?this.b.pa:this.b.la),a.Ob(),a.translate(-Da,-Ea),a.wb(),a.Gd(E,K,G,K,G,F,E,F,W)),D.left=D.top=0,D.right=D.bottom=1,g&&!Ua&&(C=K,K=F,F=C));B=0===B?1:0;na=0===B?1:0}Ua&&(a.Ya(0),g?a.Hd(g.Na,g.Ja):b?a.Hd(b.Na,b.Ja):this.b.ob||(a.ne(this.b.width,this.b.height),Da=this.b.width/2,Ea=this.b.height/
2,F=E=0,G=this.b.width,K=this.b.height),a.Qb(f),a.sb(p[na]),a.Ob(),a.translate(-Da,-Ea),a.wb(),g&&1===d.length&&!ia?a.Gd(E,F,G,F,G,K,E,K,W):a.Gd(E,K,G,K,G,F,E,F,W),a.sb(null))};k.prototype.Ig=function(a){var b,g;b=0;for(g=this.C.length;b<g;b++)if(this.C[b].H===a)return this.C[b];return null};k.prototype.Pb=function(){var a,b,g,f={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.g,w:this.width,h:this.height,fv:this.Ee,persist:this.Ed,fx:[],layers:{}};a=0;for(b=this.B.length;a<b;a++)g=this.B[a],
f.fx.push({name:g.name,active:g.kb,params:this.da[g.index]});a=0;for(b=this.C.length;a<b;a++)g=this.C[a],f.layers[g.H.toString()]=g.Pb();return f};k.prototype.sc=function(a){var b,g,f,d;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.g=a.a;this.width=a.w;this.height=a.h;this.Ed=a.persist;"undefined"!==typeof a.fv&&(this.Ee=a.fv);var c=a.fx;b=0;for(g=c.length;b<g;b++)if(f=this.Mi(c[b].name))f.kb=c[b].active,this.da[f.index]=c[b].params;this.jc();b=a.layers;for(d in b)b.hasOwnProperty(d)&&(a=
this.Ig(parseInt(d,10)))&&a.sc(b[d])};Db=k;m.prototype.jc=function(){R(this.K);this.$c=!0;var a,b,g;a=0;for(b=this.B.length;a<b;a++)g=this.B[a],g.kb&&(this.K.push(g),g.fc||(this.$c=!1))};m.prototype.Mi=function(a){var b,g,f;b=0;for(g=this.B.length;b<g;b++)if(f=this.B[b],f.name===a)return f;return null};m.prototype.Wo=function(){var a,b,g,f,d,c;b=a=0;for(g=this.pb.length;a<g;a++){f=this.pb[a];d=this.b.j[f[1]];c=this.b.ek(d);d=!0;if(!c||this.ya.Ee)f=this.b.od(f,this,!0),t.push(f),f.type.global&&(d=
!1,this.pf.push(f.uid));d&&(this.pb[b]=this.pb[a],b++)}this.pb.length=b;this.b.Ga();!this.b.p&&this.B.length&&(this.Ha=this.wp);this.mf=gb(this.Ha);this.b.n&&hb(this,this.Ha,this.b.n);this.hc=!0};m.prototype.Se=function(a,b){var g=Ga(this.d,a);0>g||(b&&this.xb&&a.Wa&&a.Wa.right>=a.Wa.left&&(a.ua(),this.Fa.update(a,a.Wa,null),a.Wa.set(0,0,-1,-1)),g===this.d.length-1?this.d.pop():(za(this.d,g),this.dg(g)),this.hc=!0)};m.prototype.hf=function(a,b){a.kc=this.d.length;this.d.push(a);b&&this.xb&&a.Wa&&
a.T();this.hc=!0};m.prototype.yr=function(a){this.d.unshift(a);this.dg(0)};m.prototype.er=function(a,b,g){var f=a.qc();b=b.qc();za(this.d,f);f<b&&b--;g&&b++;b===this.d.length?this.d.push(a):this.d.splice(b,0,a);this.dg(f<b?f:b)};m.prototype.dg=function(a){-1===this.fd?this.fd=a:a<this.fd&&(this.fd=a);this.hc=this.re=!0};m.prototype.ik=function(){if(this.re){-1===this.fd&&(this.fd=0);var a,b,g;if(this.xb)for(a=this.fd,b=this.d.length;a<b;++a)g=this.d[a],g.kc=a,this.Fa.br(g.Wa);else for(a=this.fd,b=
this.d.length;a<b;++a)this.d[a].kc=a;this.re=!1;this.fd=-1}};m.prototype.fb=function(a){return this.oq()*(this.b.ob||a?this.b.jf:1)};m.prototype.oq=function(){return(this.scale*this.ya.scale-1)*this.gd+1};m.prototype.eb=function(){return this.Ic?0:La(this.ya.g+this.g)};var b=[],d=[],c=[];m.prototype.Si=function(){this.ik();this.Fa.Im(this.U,this.V,this.ba,this.aa,c);if(!c.length)return q();if(1===c.length){var a=q();Ba(a,c[0]);R(c);return a}for(var b=!0;1<c.length;){for(var a=c,g=void 0,f=void 0,
h=void 0,n=void 0,k=void 0,g=0,f=a.length;g<f-1;g+=2){var h=a[g],n=a[g+1],k=q(),l=h,w=n,m=k,p=0,t=0,I=0,M=l.length,J=w.length,C=void 0,B=void 0;for(m.length=M+J;p<M&&t<J;++I)C=l[p],B=w[t],C.kc<B.kc?(m[I]=C,++p):(m[I]=B,++t);for(;p<M;++p,++I)m[I]=l[p];for(;t<J;++t,++I)m[I]=w[t];b||(u(h),u(n));d.push(k)}1===f%2&&(b?(h=q(),Ba(h,a[f-1]),d.push(h)):d.push(a[f-1]));Ba(a,d);R(d);b=!1}a=c[0];R(c);return a};m.prototype.Jc=function(a){this.xc=this.Fg||1!==this.opacity||0!==this.Ha;var b=this.b.canvas,g=a,f=
!1;this.xc&&(this.b.Yg||(this.b.Yg=document.createElement("canvas"),b=this.b.Yg,b.width=this.b.A,b.height=this.b.u,this.b.Ll=b.getContext("2d"),f=!0),b=this.b.Yg,g=this.b.Ll,b.width!==this.b.A&&(b.width=this.b.A,f=!0),b.height!==this.b.u&&(b.height=this.b.u,f=!0),f&&(g.webkitImageSmoothingEnabled=this.b.J,g.mozImageSmoothingEnabled=this.b.J,g.msImageSmoothingEnabled=this.b.J,g.imageSmoothingEnabled=this.b.J),this.ic&&g.clearRect(0,0,this.b.A,this.b.u));g.globalAlpha=1;g.globalCompositeOperation="source-over";
this.ic||(g.fillStyle="rgb("+this.Yb[0]+","+this.Yb[1]+","+this.Yb[2]+")",g.fillRect(0,0,this.b.A,this.b.u));g.save();this.Ic=!0;var f=this.Oa(0,0,!0,!0),d=this.Oa(0,0,!1,!0);this.Ic=!1;this.b.Zc&&(f=Math.round(f),d=Math.round(d));this.zh(f,d,g);var c=this.fb();g.scale(c,c);g.translate(-f,-d);this.xb?(this.Ca.left=this.Fa.Ra(this.U),this.Ca.top=this.Fa.Sa(this.V),this.Ca.right=this.Fa.Ra(this.ba),this.Ca.bottom=this.Fa.Sa(this.aa),this.hc||!this.Ca.sf(this.Ke)?(u(this.Tc),f=this.Si(),this.hc=!1,this.Ke.nf(this.Ca)):
f=this.Tc):f=this.d;for(var h,l=null,d=0,c=f.length;d<c;++d)h=f[d],h!==l&&(this.qp(h,g),l=h);this.xb&&(this.Tc=f);g.restore();this.xc&&(a.globalCompositeOperation=this.mf,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};m.prototype.qp=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ua();var g=a.Ba;g.right<this.U||g.bottom<this.V||g.left>this.ba||g.top>this.aa||(b.globalCompositeOperation=a.mf,a.Jc(b))}};m.prototype.Rh=function(){this.Ic=!0;var a=this.Oa(0,0,!0,!0),b=this.Oa(0,0,!1,!0);this.Ic=
!1;this.b.Zc&&(a=Math.round(a),b=Math.round(b));this.zh(a,b,null)};m.prototype.zh=function(a,b,g){var f=this.fb();this.U=a;this.V=b;this.ba=a+1/f*this.b.A;this.aa=b+1/f*this.b.u;a=this.eb();0!==a&&(g&&(g.translate(this.b.A/2,this.b.u/2),g.rotate(-a),g.translate(this.b.A/-2,this.b.u/-2)),this.cd.set(this.U,this.V,this.ba,this.aa),this.cd.offset((this.U+this.ba)/-2,(this.V+this.aa)/-2),this.kn.Tm(this.cd,a),this.kn.Nk(this.cd),this.cd.offset((this.U+this.ba)/2,(this.V+this.aa)/2),this.U=this.cd.left,
this.V=this.cd.top,this.ba=this.cd.right,this.aa=this.cd.bottom)};m.prototype.ze=function(a){if(this.xc=this.Fg){this.b.pa||(this.b.pa=a.mb(this.b.A,this.b.u,this.b.J));if(this.b.pa.Td!==this.b.A||this.b.pa.Sd!==this.b.u)a.deleteTexture(this.b.pa),this.b.pa=a.mb(this.b.A,this.b.u,this.b.J);a.Qb(this.b.pa)}this.Ic=!0;var b=this.Oa(0,0,!0,!0),g=this.Oa(0,0,!1,!0);this.Ic=!1;this.b.Zc&&(b=Math.round(b),g=Math.round(g));this.zh(b,g,null);b=this.fb();a.Ob();a.scale(b,b);a.Ah(-this.eb());a.translate((this.U+
this.ba)/-2,(this.V+this.aa)/-2);a.wb();this.xb?(this.Ca.left=this.Fa.Ra(this.U),this.Ca.top=this.Fa.Sa(this.V),this.Ca.right=this.Fa.Ra(this.ba),this.Ca.bottom=this.Fa.Sa(this.aa),this.hc||!this.Ca.sf(this.Ke)?(u(this.Tc),b=this.Si(),this.hc=!1,this.Ke.nf(this.Ca)):b=this.Tc):b=this.d;for(var f,d=null,g=b.length-1;0<=g;--g)f=b[g],f!==d&&(this.sp(b[g],a),d=f);this.xb&&(this.Tc=b);this.ic||(this.qi=this.b.Vd++,a.Ch(this.qi),a.Pm(1,1,1),a.el(),a.Gr())};m.prototype.Gb=function(a){var b=0,d=0;if(this.xc=
this.Fg||1!==this.opacity||0<this.K.length||0!==this.Ha){this.b.pa||(this.b.pa=a.mb(this.b.A,this.b.u,this.b.J));if(this.b.pa.Td!==this.b.A||this.b.pa.Sd!==this.b.u)a.deleteTexture(this.b.pa),this.b.pa=a.mb(this.b.A,this.b.u,this.b.J);a.Qb(this.b.pa);this.ic&&a.clear(0,0,0,0)}this.ic||(this.b.S?(a.Ch(this.qi),a.Pm(this.Yb[0]/255,this.Yb[1]/255,this.Yb[2]/255),a.el(),a.Sr()):a.clear(this.Yb[0]/255,this.Yb[1]/255,this.Yb[2]/255,1));this.Ic=!0;var f=this.Oa(0,0,!0,!0),b=this.Oa(0,0,!1,!0);this.Ic=!1;
this.b.Zc&&(f=Math.round(f),b=Math.round(b));this.zh(f,b,null);f=this.fb();a.Ob();a.scale(f,f);a.Ah(-this.eb());a.translate((this.U+this.ba)/-2,(this.V+this.aa)/-2);a.wb();this.xb?(this.Ca.left=this.Fa.Ra(this.U),this.Ca.top=this.Fa.Sa(this.V),this.Ca.right=this.Fa.Ra(this.ba),this.Ca.bottom=this.Fa.Sa(this.aa),this.hc||!this.Ca.sf(this.Ke)?(u(this.Tc),b=this.Si(),this.hc=!1,this.Ke.nf(this.Ca)):b=this.Tc):b=this.d;var c,n,h=null,d=0;for(c=b.length;d<c;++d)n=b[d],n!==h&&(this.rp(b[d],a),h=n);this.xb&&
(this.Tc=b);this.xc&&(b=this.K.length?this.K[0].ma:0,d=this.K.length?this.K[0].index:0,0===this.K.length||1===this.K.length&&!a.Jj(b)&&1===this.opacity?(1===this.K.length?(a.Ya(b),a.Ve(this.ya.xf(),1/this.b.A,1/this.b.u,0,0,1,1,f,this.eb(),this.U,this.V,(this.U+this.ba)/2,(this.V+this.aa)/2,this.b.qb.Z,this.da[d]),a.uh(b)&&(this.b.M=!0)):a.Ya(0),a.Qb(this.ya.xf()),a.Ue(this.opacity),a.sb(this.b.pa),a.Hd(this.Na,this.Ja),a.Ob(),a.wb(),f=this.b.A/2,b=this.b.u/2,a.bg(-f,b,f,b,f,-b,-f,-b),a.sb(null)):
this.ya.Oj(a,this,null,this.ya.xf()))};m.prototype.rp=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ua();var d=a.Ba;d.right<this.U||d.bottom<this.V||d.left>this.ba||d.top>this.aa||(b.Ch(a.Vd),a.vn?this.tp(a,b):(b.Ya(0),b.Hd(a.Na,a.Ja),a.Gb(b)))}};m.prototype.sp=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ua();var d=a.Ba;d.right<this.U||d.bottom<this.V||d.left>this.ba||d.top>this.aa||(a.Vd=this.b.Vd++,0===a.Ha&&1===a.opacity&&a.$c&&a.ze&&(b.Ch(a.Vd),a.ze(b)))}};m.prototype.tp=
function(a,b){var d=a.K[0].ma,f=a.K[0].index,c=this.fb();if(1!==a.K.length||b.Jj(d)||b.Dr(d)||(a.g||a.e.eb())&&b.$f(d)||1!==a.opacity||a.type.ia.km)this.ya.Oj(b,this,a,this.xc?this.b.pa:this.ya.xf()),b.Ob(),b.scale(c,c),b.Ah(-this.eb()),b.translate((this.U+this.ba)/-2,(this.V+this.aa)/-2),b.wb();else{b.Ya(d);b.Hd(a.Na,a.Ja);b.uh(d)&&(this.b.M=!0);var n=0,h=0,l=0,w=0;b.$f(d)&&(d=a.Ba,n=this.oa(d.left,d.top,!0),h=this.oa(d.left,d.top,!1),l=this.oa(d.right,d.bottom,!0),d=this.oa(d.right,d.bottom,!1),
n=n/windowWidth,h=1-h/windowHeight,l=l/windowWidth,w=1-d/windowHeight);b.Ve(this.xc?this.b.pa:this.ya.xf(),1/a.width,1/a.height,n,h,l,w,c,this.eb(),this.U,this.V,(this.U+this.ba)/2,(this.V+this.aa)/2,this.b.qb.Z,a.da[f]);a.Gb(b)}};m.prototype.Oa=function(a,b,d,f){var c=this.b.devicePixelRatio;this.b.be&&(a*=c,b*=c);var c=this.b.xm,n=this.b.ym,c=(this.ya.scrollX-c)*this.Wc+c,n=(this.ya.scrollY-n)*this.Xc+n,h=c,l=n,w=1/this.fb(!f);f?(h-=this.b.A*w/2,l-=this.b.u*w/2):(h-=this.b.width*w/2,l-=this.b.height*
w/2);h+=a*w;l+=b*w;b=this.eb();0!==b&&(h-=c,l-=n,a=Math.cos(b),b=Math.sin(b),f=h*a-l*b,l=l*a+h*b,h=f+c,l+=n);return d?h:l};m.prototype.oa=function(a,b,d){var f=this.b.xm,c=this.b.ym,f=(this.ya.scrollX-f)*this.Wc+f,n=(this.ya.scrollY-c)*this.Xc+c,c=f,h=n,l=this.eb();if(0!==l){a-=f;b-=n;var w=Math.cos(-l),l=Math.sin(-l),k=a*w-b*l;b=b*w+a*l;a=k+f;b+=n}f=1/this.fb(!1);c-=this.b.A*f/2;h-=this.b.u*f/2;c=(a-c)/f;return d?c:(b-h)/f};m.prototype.Pb=function(){var a,b,d,f={s:this.scale,a:this.g,vl:this.U,vt:this.V,
vr:this.ba,vb:this.aa,v:this.visible,bc:this.Yb,t:this.ic,px:this.Wc,py:this.Xc,o:this.opacity,zr:this.gd,fx:[],cg:this.pf,instances:[]};a=0;for(b=this.B.length;a<b;a++)d=this.B[a],f.fx.push({name:d.name,active:d.kb,params:this.da[d.index]});return f};m.prototype.sc=function(a){var b,d,f;this.scale=a.s;this.g=a.a;this.U=a.vl;this.V=a.vt;this.ba=a.vr;this.aa=a.vb;this.visible=a.v;this.Yb=a.bc;this.ic=a.t;this.Wc=a.px;this.Xc=a.py;this.opacity=a.o;this.gd=a.zr;this.pf=a.cg||[];Ba(this.pb,this.an);var c=
new ba;b=0;for(f=this.pf.length;b<f;++b)c.add(this.pf[b]);d=b=0;for(f=this.pb.length;b<f;++b)c.contains(this.pb[b][2])||(this.pb[d]=this.pb[b],++d);Aa(this.pb,d);d=a.fx;b=0;for(f=d.length;b<f;b++)if(a=this.Mi(d[b].name))a.kb=d[b].active,this.da[a.index]=d[b].params;this.jc();this.d.sort(p);this.re=!0};Rb=m})();
(function(){function k(a,b){var f,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(f=0;f<d;f++)if(a[f]!==b[f])return!1;return!0}}function p(a,b){return a.index-b.index}function m(a){var b,f,d,c;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(p);a.length>=r.length&&(r.length=a.length+1);r[a.length]||(r[a.length]=[]);c=r[a.length];b=0;for(f=c.length;b<f;b++)if(d=c[b],k(a,d))return d;c.push(a);return a}
function q(a,b){this.b=a;this.mn={};this.bl={};this.Xi=!1;this.sl=new ba;this.xi=[];this.ai=[];this.name=b[0];var f=b[1];this.qd=[];var d,c;d=0;for(c=f.length;d<c;d++)this.ul(f[d],null,this.qd)}function u(a){this.type=a;this.d=[];this.L=[];this.W=!0}function t(a,b,f){this.sheet=a;this.parent=b;this.b=a.b;this.X=[];this.Id=[];this.rl=this.Nh=this.ak=this.$i=this.group=this.$m=!1;this.Ia=[];this.Wb=[];this.Rb=[];this.Bf="";this.Af=this.$i=this.group=!1;this.tg=null;f[1]&&(this.Bf=f[1][1].toLowerCase(),
this.group=!0,this.$i=!!f[1][0],this.tg=[],this.Af=this.$i,this.b.we.push(this),this.b.Kg[this.Bf]=this);this.vc=f[2];this.H=f[4];this.group||(this.b.Mk[this.H.toString()]=this);var d=f[5];a=0;for(b=d.length;a<b;a++){var c=new Sb(this,d[a]);c.index=a;this.Ia.push(c);this.Bk(c.type)}d=f[6];a=0;for(b=d.length;a<b;a++)c=new Tb(this,d[a]),c.index=a,this.Wb.push(c);if(8===f.length)for(f=f[7],a=0,b=f.length;a<b;a++)this.sheet.ul(f[a],this,this.Rb);this.Sg=!1;this.Ia.length&&(this.Sg=null==this.Ia[0].type&&
this.Ia[0].Da==X.prototype.i.En)}function h(a,b){var f,d,c;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Kb))for(f=0,d=a.cb.length;f<d;f++)c=a.cb[f],a!==c&&-1===b.indexOf(c)&&b.push(c)}function b(a,b){this.lb=a;this.sheet=a.sheet;this.b=a.b;this.G=[];this.fa=[];this.ea={};this.index=-1;this.ff=!1;this.Da=this.b.hd(b[1]);this.trigger=0<b[3];this.al=2===b[3];this.dj=b[5];this.Wq=b[6];this.H=b[7];this.b.xe[this.H.toString()]=this;-1===b[0]?(this.type=null,this.ta=this.Sj,this.Qd=null,this.Zb=-1):(this.type=
this.b.j[b[0]],this.ta=this.Wq?this.Nr:this.Rj,b[2]?(this.Qd=this.type.Hg(b[2]),this.Zb=this.type.Li(b[2])):(this.Qd=null,this.Zb=-1),this.lb.parent&&this.lb.parent.Dh());this.al&&(this.ta=this.Or);if(10===b.length){var f,d,c=b[9];f=0;for(d=c.length;f<d;f++){var g=new Ub(this,c[f]);this.G.push(g)}this.fa.length=c.length}}function d(a,b){this.lb=a;this.sheet=a.sheet;this.b=a.b;this.G=[];this.fa=[];this.ea={};this.index=-1;this.ff=!1;this.Da=this.b.hd(b[1]);-1===b[0]?(this.type=null,this.ta=this.Sj,
this.Qd=null,this.Zb=-1):(this.type=this.b.j[b[0]],this.ta=this.Rj,b[2]?(this.Qd=this.type.Hg(b[2]),this.Zb=this.type.Li(b[2])):(this.Qd=null,this.Zb=-1));this.H=b[3];this.b.ve[this.H.toString()]=this;if(6===b.length){var f,d,c=b[5];f=0;for(d=c.length;f<d;f++){var g=new Ub(this,c[f]);this.G.push(g)}this.fa.length=c.length}}function c(){x++;n.length===x&&n.push(new Vb);return n[x]}function a(a,b){this.Mb=a;this.lb=a.lb;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.pc=null;this.ad=0;this.get=null;
this.Tk=0;this.ya=null;this.key=0;this.object=null;this.index=0;this.og=this.pe=this.og=this.pe=this.cl=this.Xd=this.pg=null;this.Vb=!1;var f,d,c;switch(b[0]){case 0:case 7:this.pc=new Wb(this,b[1]);this.ad=0;this.get=this.wq;break;case 1:this.pc=new Wb(this,b[1]);this.ad=0;this.get=this.xq;break;case 5:this.pc=new Wb(this,b[1]);this.ad=0;this.get=this.Bq;break;case 3:case 8:this.Tk=b[1];this.get=this.uq;break;case 6:this.ya=this.b.pj[b[1]];this.get=this.Cq;break;case 9:this.key=b[1];this.get=this.Aq;
break;case 4:this.object=this.b.j[b[1]];this.get=this.Dq;this.lb.Bk(this.object);this.Mb instanceof Tb?this.lb.Dh():this.lb.parent&&this.lb.parent.Dh();break;case 10:this.index=b[1];a.type.I?(this.get=this.yq,this.Vb=!0):this.get=this.zq;break;case 11:this.pg=b[1];this.Xd=null;this.get=this.vq;break;case 2:case 12:this.cl=b[1];this.get=this.tq;break;case 13:for(this.get=this.Eq,this.pe=[],this.og=[],f=1,d=b.length;f<d;f++)c=new Ub(this.Mb,b[f]),this.pe.push(c),this.og.push(0)}}function e(a,b,f){this.sheet=
a;this.parent=b;this.b=a.b;this.X=[];this.name=f[1];this.Th=f[2];this.Zi=f[3];this.Jf=!!f[4];this.Rg=!!f[5];this.H=f[6];this.b.cf[this.H.toString()]=this;this.data=this.Zi;this.parent?(this.je=this.Jf||this.Rg?-1:this.b.Ur++,this.b.Ho.push(this)):(this.je=-1,this.b.Go.push(this))}function g(a,b,f){this.sheet=a;this.parent=b;this.b=a.b;this.X=[];this.Df=null;this.Jq=f[1];this.kb=!0}function f(){this.bn=[];this.reset(null)}var r=[];q.prototype.toString=function(){return this.name};q.prototype.ul=function(a,
b,f){switch(a[0]){case 0:a=new Xb(this,b,a);if(a.vc)for(f.push(a),f=0,b=a.Ia.length;f<b;f++)a.Ia[f].trigger&&this.wl(a,f);else a.Fl()?this.wl(a,0):f.push(a);break;case 1:a=new Ob(this,b,a);f.push(a);break;case 2:a=new Yb(this,b,a),f.push(a)}};q.prototype.ja=function(){var a,b;a=0;for(b=this.qd.length;a<b;a++)this.qd[a].ja(a<b-1&&this.qd[a+1].Sg)};q.prototype.gk=function(){R(this.xi);R(this.ai);this.Ak(this);R(this.ai)};q.prototype.Ak=function(a){var b,f,d,c,g=a.xi,e=a.ai,n=this.sl.Md();b=0;for(f=
n.length;b<f;++b)d=n[b],c=d.Df,!d.kb||a===c||-1<e.indexOf(c)||(e.push(c),c.Ak(a),g.push(c))};q.prototype.ta=function(a){this.b.It||(this.Xi=!0,a||(this.b.hj=!0));var b,f;b=0;for(f=this.qd.length;b<f;b++){var d=this.qd[b];d.ta();this.b.pi(d.X);this.b.sd&&this.b.Ga()}a||(this.b.hj=!1)};q.prototype.wl=function(a,b){a.vc||this.b.Ph.push(a);var f,d,c=a.Ia[b],g;c.type?g=c.type.name:g="system";var e=(f=c.al)?this.bl:this.mn;e[g]||(e[g]=[]);g=e[g];e=c.Da;if(f){if(c.G.length&&(c=c.G[0],1===c.type&&2===c.pc.type)){c=
c.pc.value.toLowerCase();f=0;for(d=g.length;f<d;f++)if(g[f].method==e){f=g[f].tf;f[c]?f[c].push([a,b]):f[c]=[[a,b]];return}f={};f[c]=[[a,b]];g.push({method:e,tf:f})}}else{f=0;for(d=g.length;f<d;f++)if(g[f].method==e){g[f].tf.push([a,b]);return}jc&&e===jc.prototype.i.ue?g.unshift({method:e,tf:[[a,b]]}):g.push({method:e,tf:[[a,b]]})}};Eb=q;u.prototype.Wi=function(){return this.W?this.type.d.length:this.d.length};u.prototype.$b=function(){return this.W?this.type.d:this.d};u.prototype.Zf=function(a){a&&
(a.b.Va().nb.vc?(this.W&&(R(this.d),Ba(this.L,a.type.d),this.W=!1),a=this.L.indexOf(a),-1!==a&&(this.d.push(this.L[a]),this.L.splice(a,1))):(this.W=!1,R(this.d),this.d[0]=a))};nb=u;window._c2hh_="16B0DA034D2C00A7E57316F5F2489155A009F9EE";t.prototype.ja=function(a){var b,f=this.parent;if(this.group)for(this.Nh=!0;f;){if(!f.group){this.Nh=!1;break}f=f.parent}this.ak=!this.Fl()&&(!this.parent||this.parent.group&&this.parent.Nh);this.rl=!!a;this.Id=this.X.slice(0);for(f=this.parent;f;){a=0;for(b=f.X.length;a<
b;a++)this.Eo(f.X[a]);f=f.parent}this.X=m(this.X);this.Id=m(this.Id);a=0;for(b=this.Ia.length;a<b;a++)this.Ia[a].ja();a=0;for(b=this.Wb.length;a<b;a++)this.Wb[a].ja();a=0;for(b=this.Rb.length;a<b;a++)this.Rb[a].ja(a<b-1&&this.Rb[a+1].Sg)};t.prototype.Rr=function(a){if(this.Af!==!!a){this.Af=!!a;var b;a=0;for(b=this.tg.length;a<b;++a)this.tg[a].tn();0<b&&this.b.O.Wd&&this.b.O.Wd.gk()}};t.prototype.Bk=function(a){h(a,this.X)};t.prototype.Eo=function(a){h(a,this.Id)};t.prototype.Dh=function(){this.$m=
!0;this.parent&&this.parent.Dh()};t.prototype.Fl=function(){return this.Ia.length?this.Ia[0].trigger:!1};t.prototype.ta=function(){var a,b,f=!1,d=this.b,c=this.b.Va();c.nb=this;var g=this.Ia;this.Sg||(c.Bi=!1);if(this.vc){0===g.length&&(f=!0);c.bb=0;for(a=g.length;c.bb<a;c.bb++)b=g[c.bb],b.trigger||(b=b.ta())&&(f=!0);(c.fe=f)&&this.Qj()}else{c.bb=0;for(a=g.length;c.bb<a;c.bb++)if(b=g[c.bb].ta(),!b){c.fe=!1;this.ak&&d.sd&&d.Ga();return}c.fe=!0;this.Qj()}this.yp(c)};t.prototype.yp=function(a){a.fe&&
this.rl&&(a.Bi=!0);this.ak&&this.b.sd&&this.b.Ga()};t.prototype.Lr=function(a){this.b.Va().nb=this;this.Ia[a].ta()&&(this.Qj(),this.b.Va().fe=!0)};t.prototype.Qj=function(){var a=this.b.Va(),b;a.ab=0;for(b=this.Wb.length;a.ab<b;a.ab++)if(this.Wb[a.ab].ta())return;this.Lm()};t.prototype.Hr=function(){var a=this.b.Va(),b;for(b=this.Wb.length;a.ab<b;a.ab++)if(this.Wb[a.ab].ta())return;this.Lm()};t.prototype.Lm=function(){if(this.Rb.length){var a,b,f,d,c=this.Rb.length-1;this.b.Lj(this);if(this.$m)for(a=
0,b=this.Rb.length;a<b;a++)f=this.Rb[a],(d=!this.Nh||!this.group&&a<c)&&this.b.Kj(f.X),f.ta(),d?this.b.Pe(f.X):this.b.pi(f.X);else for(a=0,b=this.Rb.length;a<b;a++)this.Rb[a].ta();this.b.Cm()}};t.prototype.Mr=function(){var a=this.b.Va();a.nb=this;var b=!1,f;a.bb=0;for(f=this.Ia.length;a.bb<f;a.bb++)if(this.Ia[a.bb].ta())b=!0;else if(!this.vc)return!1;return this.vc?b:!0};t.prototype.Pq=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Ia[b].type===a.type)return!1;return!0};Xb=
t;b.prototype.ja=function(){var a,b,f;a=0;for(b=this.G.length;a<b;a++)f=this.G[a],f.ja(),f.Vb&&(this.ff=!0)};b.prototype.Or=function(){return!0};b.prototype.Sj=function(){var a,b;a=0;for(b=this.G.length;a<b;a++)this.fa[a]=this.G[a].get();return Ta(this.Da.apply(this.b.zc,this.fa),this.dj)};b.prototype.Nr=function(){var a,b;a=0;for(b=this.G.length;a<b;a++)this.fa[a]=this.G[a].get();a=this.Da.apply(this.Qd?this.Qd:this.type,this.fa);this.type.kd();return a};b.prototype.Rj=function(){var a,b,f,d,c,g,
e,n,h=this.type,r=h.Q(),k=this.lb.vc&&!this.trigger;b=0;var m=h.Kb,p=h.I,x=h.Mc,q=this.Zb,t=-1<q,u=this.ff,D=this.G,E=this.fa,S=this.dj,F=this.Da,z;if(u)for(b=0,c=D.length;b<c;++b)g=D[b],g.Vb||(E[b]=g.get(0));else for(b=0,c=D.length;b<c;++b)E[b]=D[b].get(0);if(r.W){R(r.d);R(r.L);z=h.d;a=0;for(d=z.length;a<d;++a){n=z[a];if(u)for(b=0,c=D.length;b<c;++b)g=D[b],g.Vb&&(E[b]=g.get(a));t?(b=0,p&&(b=n.type.De[x]),b=F.apply(n.D[q+b],E)):b=F.apply(n,E);(e=Ta(b,S))?r.d.push(n):k&&r.L.push(n)}h.finish&&h.finish(!0);
r.W=!1;h.kd();return r.Wi()}f=0;z=(e=k&&!this.lb.Pq(this))?r.L:r.d;var G=!1;a=0;for(d=z.length;a<d;++a){n=z[a];if(u)for(b=0,c=D.length;b<c;++b)g=D[b],g.Vb&&(E[b]=g.get(a));t?(b=0,p&&(b=n.type.De[x]),b=F.apply(n.D[q+b],E)):b=F.apply(n,E);if(Ta(b,S))if(G=!0,e){if(r.d.push(n),m)for(b=0,c=n.siblings.length;b<c;b++)g=n.siblings[b],g.type.Q().d.push(g)}else{z[f]=n;if(m)for(b=0,c=n.siblings.length;b<c;b++)g=n.siblings[b],g.type.Q().d[f]=g;f++}else if(e){z[f]=n;if(m)for(b=0,c=n.siblings.length;b<c;b++)g=
n.siblings[b],g.type.Q().L[f]=g;f++}else if(k&&(r.L.push(n),m))for(b=0,c=n.siblings.length;b<c;b++)g=n.siblings[b],g.type.Q().L.push(g)}Aa(z,f);if(m)for(p=h.cb,a=0,d=p.length;a<d;a++)n=p[a].Q(),e?Aa(n.L,f):Aa(n.d,f);f=G;if(e&&!G)for(a=0,d=r.d.length;a<d;a++){n=r.d[a];if(u)for(b=0,c=D.length;b<c;b++)g=D[b],g.Vb&&(E[b]=g.get(a));b=t?F.apply(n.D[q],E):F.apply(n,E);if(Ta(b,S)){G=!0;break}}h.finish&&h.finish(f||k);return k?G:r.Wi()};Sb=b;d.prototype.ja=function(){var a,b,f;a=0;for(b=this.G.length;a<b;a++)f=
this.G[a],f.ja(),f.Vb&&(this.ff=!0)};d.prototype.Sj=function(){var a=this.b,b,f,d=this.G,c=this.fa;b=0;for(f=d.length;b<f;++b)c[b]=d[b].get();return this.Da.apply(a.zc,c)};d.prototype.Rj=function(){var a=this.type,b=this.Zb,f=a.Mc,d=this.ff,c=this.G,g=this.fa,e=this.Da,n=a.Q().$b(),a=a.I,h=-1<b,r,k,m,p,x,q;if(d)for(k=0,p=c.length;k<p;++k)x=c[k],x.Vb||(g[k]=x.get(0));else for(k=0,p=c.length;k<p;++k)g[k]=c[k].get(0);r=0;for(m=n.length;r<m;++r){q=n[r];if(d)for(k=0,p=c.length;k<p;++k)x=c[k],x.Vb&&(g[k]=
x.get(r));h?(k=0,a&&(k=q.type.De[f]),e.apply(q.D[b+k],g)):e.apply(q,g)}return!1};Tb=d;var n=[],x=-1;a.prototype.ja=function(){var a,b;if(11===this.type)this.Xd=this.b.kl(this.pg,this.lb.parent);else if(13===this.type)for(a=0,b=this.pe.length;a<b;a++)this.pe[a].ja();this.pc&&this.pc.ja()};a.prototype.dr=function(a){this.Vb||!a||a.ia.Fh||(this.Vb=!0)};a.prototype.Sm=function(){this.Vb=!0};a.prototype.wq=function(a){this.ad=a||0;a=c();this.pc.get(a);x--;return a.data};a.prototype.xq=function(a){this.ad=
a||0;a=c();this.pc.get(a);x--;return L(a.data)?a.data:""};a.prototype.Dq=function(){return this.object};a.prototype.uq=function(){return this.Tk};a.prototype.Bq=function(a){this.ad=a||0;a=c();this.pc.get(a);x--;return a.xa()?this.b.wf(a.data):this.b.Qi(a.data)};a.prototype.Cq=function(){return this.ya};a.prototype.Aq=function(){return this.key};a.prototype.zq=function(){return this.index};a.prototype.yq=function(a){a=a||0;var b=this.Mb.type,f=null,f=b.Q(),d=f.$b();if(d.length)f=d[a%d.length].type;
else if(f.L.length)f=f.L[a%f.L.length].type;else if(b.d.length)f=b.d[a%b.d.length].type;else return 0;return this.index+f.Bg[b.Mc]};a.prototype.vq=function(){return this.Xd};a.prototype.tq=function(){return this.cl};a.prototype.Eq=function(){var a,b;a=0;for(b=this.pe.length;a<b;a++)this.og[a]=this.pe[a].get();return this.og};Ub=a;e.prototype.ja=function(){this.X=m(this.X)};e.prototype.oe=function(a){var b=this.b.il();this.parent&&!this.Jf&&b?(this.je>=b.length&&(b.length=this.je+1),b[this.je]=a):
this.data=a};e.prototype.yf=function(){var a=this.b.il();return!this.parent||this.Jf||!a||this.Rg?this.data:this.je>=a.length||"undefined"===typeof a[this.je]?this.Zi:a[this.je]};e.prototype.ta=function(){!this.parent||this.Jf||this.Rg||this.oe(this.Zi)};Ob=e;g.prototype.toString=function(){return"include:"+this.Df.toString()};g.prototype.ja=function(){this.Df=this.b.Di[this.Jq];this.sheet.sl.add(this);this.X=m(this.X);for(var a=this.parent;a;)a.group&&a.tg.push(this),a=a.parent;this.tn()};g.prototype.ta=
function(){this.parent&&this.b.ag(this.b.j);this.Df.Xi||this.Df.ta(!0);this.parent&&this.b.Pe(this.b.j)};g.prototype.tn=function(){for(var a=this.parent;a;){if(a.group&&!a.Af){this.kb=!1;return}a=a.parent}this.kb=!0};Yb=g;f.prototype.reset=function(a){this.nb=a;this.ab=this.bb=0;R(this.bn);this.Bi=this.fe=!1};Nb=f})();
(function(){function k(h,b){this.Mb=h;this.b=h.b;this.type=b[0];this.get=[this.Pp,this.Lp,this.Yp,this.aq,this.Ap,this.Zp,this.Tp,this.Ip,this.Sp,this.Xp,this.Bp,this.Wp,this.Jp,this.Up,this.Qp,this.Rp,this.Mp,this.Np,this.Hp,this.$p,this.Vp,this.Op,this.Gp,this.Kp][this.type];var d=null;this.Uc=this.G=this.fa=this.Da=this.Mh=this.second=this.first=this.value=null;this.Zb=-1;this.ac=null;this.wn=-1;this.Xd=this.pg=null;this.Te=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Wb(h,b[1]);break;case 18:this.first=new Wb(h,b[1]);this.second=new Wb(h,b[2]);this.Mh=new Wb(h,b[3]);break;case 19:this.Da=this.b.hd(b[1]);this.Da!==X.prototype.Hb.random&&this.Da!==X.prototype.Hb.Qo||this.Mb.Sm();this.fa=[];this.G=[];3===b.length?(d=b[2],this.fa.length=d.length+1):this.fa.length=1;break;case 20:this.Uc=this.b.j[b[1]];this.Zb=-1;this.Da=this.b.hd(b[2]);this.Te=b[3];$b.Function&&this.Da===$b.Function.prototype.Hb.xs&&this.Mb.Sm();b[4]?this.ac=new Wb(h,b[4]):this.ac=null;this.fa=
[];this.G=[];6===b.length?(d=b[5],this.fa.length=d.length+1):this.fa.length=1;break;case 21:this.Uc=this.b.j[b[1]];this.Te=b[2];b[3]?this.ac=new Wb(h,b[3]):this.ac=null;this.wn=b[4];break;case 22:this.Uc=this.b.j[b[1]];this.Uc.Hg(b[2]);this.Zb=this.Uc.Li(b[2]);this.Da=this.b.hd(b[3]);this.Te=b[4];b[5]?this.ac=new Wb(h,b[5]):this.ac=null;this.fa=[];this.G=[];7===b.length?(d=b[6],this.fa.length=d.length+1):this.fa.length=1;break;case 23:this.pg=b[1],this.Xd=null}this.Mb.dr(this.Uc);4<=this.type&&17>=
this.type&&(this.first=new Wb(h,b[1]),this.second=new Wb(h,b[2]));if(d){var c,a;c=0;for(a=d.length;c<a;c++)this.G.push(new Wb(h,d[c]))}}function p(){++t;u.length===t&&u.push(new Vb);return u[t]}function m(h,b,d){var c,a;c=0;for(a=h.length;c<a;++c)h[c].get(d),b[c+1]=d.data}function q(h,b){this.type=h||V.te;this.data=b||0;this.le=null;this.type==V.te&&(this.data=Math.floor(this.data))}k.prototype.ja=function(){23===this.type&&(this.Xd=this.Mb.b.kl(this.pg,this.Mb.lb.parent));this.first&&this.first.ja();
this.second&&this.second.ja();this.Mh&&this.Mh.ja();this.ac&&this.ac.ja();if(this.G){var h,b;h=0;for(b=this.G.length;h<b;h++)this.G[h].ja()}};var u=[],t=-1;k.prototype.$p=function(h){var b=this.G,d=this.fa;d[0]=h;h=p();m(b,d,h);--t;this.Da.apply(this.b.zc,d)};k.prototype.Vp=function(h){var b=this.Uc,d=this.fa,c=this.G,a=this.ac,e=this.Da,g=this.Mb.ad,f=b.Q(),r=f.$b();if(!r.length)if(f.L.length)r=f.L;else{this.Te?h.Xa(""):h.R(0);return}d[0]=h;h.le=b;h=p();m(c,d,h);a&&(a.get(h),h.xa()&&(g=h.data,r=
b.d));--t;b=r.length;if(g>=b||g<=-b)g%=b;0>g&&(g+=b);e.apply(r[g],d)};k.prototype.Gp=function(h){var b=this.Uc,d=this.fa,c=this.G,a=this.ac,e=this.Zb,g=this.Da,f=this.Mb.ad,r=b.Q(),n=r.$b();if(!n.length)if(r.L.length)n=r.L;else{this.Te?h.Xa(""):h.R(0);return}d[0]=h;h.le=b;h=p();m(c,d,h);a&&(a.get(h),h.xa()&&(f=h.data,n=b.d));--t;c=n.length;if(f>=c||f<=-c)f%=c;0>f&&(f+=c);f=n[f];n=0;b.I&&(n=f.type.De[b.Mc]);g.apply(f.D[e+n],d)};k.prototype.Op=function(h){var b=this.ac,d=this.Uc,c=this.wn,a=this.Mb.ad,
e=d.Q(),g=e.$b();if(!g.length)if(e.L.length)g=e.L;else{this.Te?h.Xa(""):h.R(0);return}if(b){e=p();b.get(e);if(e.xa()){a=e.data;g=d.d;0!==g.length&&(a%=g.length,0>a&&(a+=g.length));a=d.Pi(a);d=a.P[c];L(d)?h.Xa(d):h.r(d);--t;return}--t}b=g.length;if(a>=b||a<=-b)a%=b;0>a&&(a+=b);a=g[a];g=0;d.I&&(g=a.type.Bg[d.Mc]);d=a.P[c+g];L(d)?h.Xa(d):h.r(d)};k.prototype.Pp=function(h){h.type=V.te;h.data=this.value};k.prototype.Lp=function(h){h.type=V.se;h.data=this.value};k.prototype.Yp=function(h){h.type=V.String;
h.data=this.value};k.prototype.aq=function(h){this.first.get(h);h.xa()&&(h.data=-h.data)};k.prototype.Ap=function(h){this.first.get(h);var b=p();this.second.get(b);h.xa()&&b.xa()&&(h.data+=b.data,b.He()&&h.Me());--t};k.prototype.Zp=function(h){this.first.get(h);var b=p();this.second.get(b);h.xa()&&b.xa()&&(h.data-=b.data,b.He()&&h.Me());--t};k.prototype.Tp=function(h){this.first.get(h);var b=p();this.second.get(b);h.xa()&&b.xa()&&(h.data*=b.data,b.He()&&h.Me());--t};k.prototype.Ip=function(h){this.first.get(h);
var b=p();this.second.get(b);h.xa()&&b.xa()&&(h.data/=b.data,h.Me());--t};k.prototype.Sp=function(h){this.first.get(h);var b=p();this.second.get(b);h.xa()&&b.xa()&&(h.data%=b.data,b.He()&&h.Me());--t};k.prototype.Xp=function(h){this.first.get(h);var b=p();this.second.get(b);h.xa()&&b.xa()&&(h.data=Math.pow(h.data,b.data),b.He()&&h.Me());--t};k.prototype.Bp=function(h){this.first.get(h);var b=p();this.second.get(b);b.Je()||h.Je()?this.Dp(h,b):this.Cp(h,b);--t};k.prototype.Dp=function(h,b){h.Je()&&
b.Je()?this.Fp(h,b):this.Ep(h,b)};k.prototype.Fp=function(h,b){h.data+=b.data};k.prototype.Ep=function(h,b){h.Je()?h.data+=(Math.round(1E10*b.data)/1E10).toString():h.Xa(h.data.toString()+b.data)};k.prototype.Cp=function(h,b){h.R(h.data&&b.data?1:0)};k.prototype.Wp=function(h){this.first.get(h);var b=p();this.second.get(b);h.xa()&&b.xa()&&(h.data||b.data?h.R(1):h.R(0));--t};k.prototype.Hp=function(h){this.first.get(h);h.data?this.second.get(h):this.Mh.get(h)};k.prototype.Jp=function(h){this.first.get(h);
var b=p();this.second.get(b);h.R(h.data===b.data?1:0);--t};k.prototype.Up=function(h){this.first.get(h);var b=p();this.second.get(b);h.R(h.data!==b.data?1:0);--t};k.prototype.Qp=function(h){this.first.get(h);var b=p();this.second.get(b);h.R(h.data<b.data?1:0);--t};k.prototype.Rp=function(h){this.first.get(h);var b=p();this.second.get(b);h.R(h.data<=b.data?1:0);--t};k.prototype.Mp=function(h){this.first.get(h);var b=p();this.second.get(b);h.R(h.data>b.data?1:0);--t};k.prototype.Np=function(h){this.first.get(h);
var b=p();this.second.get(b);h.R(h.data>=b.data?1:0);--t};k.prototype.Kp=function(h){var b=this.Xd.yf();H(b)?h.r(b):h.Xa(b)};Wb=k;q.prototype.He=function(){return this.type===V.se};q.prototype.xa=function(){return this.type===V.te||this.type===V.se};q.prototype.Je=function(){return this.type===V.String};q.prototype.Me=function(){this.He()||(this.Je()&&(this.data=parseFloat(this.data)),this.type=V.se)};q.prototype.R=function(h){this.type=V.te;this.data=Math.floor(h)};q.prototype.r=function(h){this.type=
V.se;this.data=h};q.prototype.Xa=function(h){this.type=V.String;this.data=h};q.prototype.Tr=function(h){H(h)?(this.type=V.se,this.data=h):L(h)?(this.type=V.String,this.data=h.toString()):(this.type=V.te,this.data=0)};Vb=q;V={te:0,se:1,String:2}})();function X(k){this.b=k;this.$a=[]}
X.prototype.Pb=function(){var k={},p,m,q,u,t,h,b,d;k.waits=[];var c=k.waits,a;p=0;for(m=this.$a.length;p<m;p++){h=this.$a[p];a={t:h.time,st:h.Ym,s:h.Wj,ev:h.Be.H,sm:[],sols:{}};h.Be.Wb[h.ab]&&(a.act=h.Be.Wb[h.ab].H);q=0;for(u=h.X.length;q<u;q++)a.sm.push(h.X[q].H);for(t in h.Pa)if(h.Pa.hasOwnProperty(t)){b=this.b.j[parseInt(t,10)];d={sa:h.Pa[t].Bh,insts:[]};q=0;for(u=h.Pa[t].Oc.length;q<u;q++)d.insts.push(h.Pa[t].Oc[q].uid);a.sols[b.H.toString()]=d}c.push(a)}return k};
X.prototype.sc=function(k){k=k.waits;var p,m,q,u,t,h,b,d,c,a,e;R(this.$a);p=0;for(m=k.length;p<m;p++)if(h=k[p],d=this.b.Mk[h.ev.toString()]){c=-1;q=0;for(u=d.Wb.length;q<u;q++)if(d.Wb[q].H===h.act){c=q;break}if(-1!==c){b={Pa:{},X:[],yi:!1};b.time=h.t;b.Ym=h.st||"";b.Wj=!!h.s;b.Be=d;b.ab=c;q=0;for(u=h.sm.length;q<u;q++)(d=this.b.Jg(h.sm[q]))&&b.X.push(d);for(t in h.sols)if(h.sols.hasOwnProperty(t)&&(d=this.b.Jg(parseInt(t,10)))){c=h.sols[t];a={Bh:c.sa,Oc:[]};q=0;for(u=c.insts.length;q<u;q++)(e=this.b.Ri(c.insts[q]))&&
a.Oc.push(e);b.Pa[d.index.toString()]=a}this.$a.push(b)}}};
(function(){function k(){}function p(){}function m(){}var q=X.prototype;k.prototype.Fn=function(){return!0};k.prototype.mk=function(){return!0};k.prototype.Wn=function(){return!0};k.prototype.Dn=function(h,b,d){return Zb(h.yf(),b,d)};k.prototype.En=function(){var h=this.b.Va();return h.Bi?!1:!h.fe};k.prototype.nk=function(){return!0};k.prototype.On=function(){return!0};k.prototype.Zh=function(){return!0};k.prototype.Xn=function(){return!0};k.prototype.Yh=function(){return!0};k.prototype.zn=function(h,
b,d){return Pa(T(h),T(d))<=T(b)};k.prototype.In=function(h,b){return Ra(T(h),T(b))};k.prototype.Hn=function(h,b,d){h=Na(h);b=Na(b);d=Na(d);return Ra(d,b)?Ra(h,b)&&!Ra(h,d):!(!Ra(h,b)&&Ra(h,d))};q.i=new k;p.prototype.no=function(h,b){h&&h.visible!==b&&(h.visible=b,this.b.M=!0)};p.prototype.mo=function(h,b){h&&(b=Ia(b/100,0,1),h.opacity!==b&&(h.opacity=b,this.b.M=!0))};p.prototype.po=function(h,b){0===h.Th?H(b)?h.oe(b):h.oe(parseFloat(b)):1===h.Th&&h.oe(b.toString())};p.prototype.yn=function(h,b){0===
h.Th?H(b)?h.oe(h.yf()+b):h.oe(h.yf()+parseFloat(b)):1===h.Th&&h.oe(h.yf()+b.toString())};var u=[],t=[];p.prototype.vo=function(h){if(!(0>h)){var b,d,c,a=this.b.Va(),e;u.length?e=u.pop():e={Pa:{},X:[]};e.yi=!1;e.time=this.b.qb.Z+h;e.Ym="";e.Wj=!1;e.Be=a.nb;e.ab=a.ab+1;h=0;for(b=this.b.j.length;h<b;h++)c=this.b.j[h],d=c.Q(),d.W&&-1===a.nb.X.indexOf(c)||(e.X.push(c),c=void 0,t.length?c=t.pop():c={Oc:[]},c.Bh=!1,c.Bh=d.W,Ba(c.Oc,d.d),e.Pa[h.toString()]=c);this.$a.push(e);return!0}};q.wa=new p;m.prototype["int"]=
function(h,b){L(b)?(h.R(parseInt(b,10)),isNaN(h.data)&&(h.data=0)):h.R(b)};m.prototype["float"]=function(h,b){L(b)?(h.r(parseFloat(b)),isNaN(h.data)&&(h.data=0)):h.r(b)};m.prototype.random=function(h,b,d){void 0===d?h.r(Math.random()*b):h.r(Math.random()*(d-b)+b)};m.prototype.sqrt=function(h,b){h.r(Math.sqrt(b))};m.prototype.abs=function(h,b){h.r(Math.abs(b))};m.prototype.round=function(h,b){h.R(Math.round(b))};m.prototype.floor=function(h,b){h.R(Math.floor(b))};m.prototype.ceil=function(h,b){h.R(Math.ceil(b))};
m.prototype.sin=function(h,b){h.r(Math.sin(T(b)))};m.prototype.cos=function(h,b){h.r(Math.cos(T(b)))};m.prototype.tan=function(h,b){h.r(Math.tan(T(b)))};m.prototype.asin=function(h,b){h.r(Ja(Math.asin(b)))};m.prototype.acos=function(h,b){h.r(Ja(Math.acos(b)))};m.prototype.atan=function(h,b){h.r(Ja(Math.atan(b)))};m.prototype.exp=function(h,b){h.r(Math.exp(b))};m.prototype.log10=function(h,b){h.r(Math.log(b)/Math.LN10)};m.prototype.max=function(h){var b=arguments[1];"number"!==typeof b&&(b=0);var d,
c,a;d=2;for(c=arguments.length;d<c;d++)a=arguments[d],"number"===typeof a&&b<a&&(b=a);h.r(b)};m.prototype.min=function(h){var b=arguments[1];"number"!==typeof b&&(b=0);var d,c,a;d=2;for(c=arguments.length;d<c;d++)a=arguments[d],"number"===typeof a&&b>a&&(b=a);h.r(b)};m.prototype.Ae=function(h){h.r(this.b.Ae)};m.prototype.lg=function(h){h.r(this.b.lg)};m.prototype.time=function(h){h.r(this.b.qb.Z)};m.prototype.bd=function(h){h.R(this.b.bd)};m.prototype.lh=function(h){h.R(this.b.lh)};m.prototype.Ii=
function(h){h.R(this.b.Ii)};m.prototype.g=function(h,b,d,c,a){h.r(Ja(Oa(b,d,c,a)))};m.prototype.left=function(h,b,d){h.Xa(L(b)?b.substr(0,d):"")};m.prototype.right=function(h,b,d){h.Xa(L(b)?b.substr(b.length-d):"")};m.prototype.replace=function(h,b,d,c){L(b)&&L(d)&&L(c)?h.Xa(b.replace(new RegExp(cb(d),"gi"),c)):h.Xa(L(b)?b:"")};m.prototype.trim=function(h,b){h.Xa(L(b)?b.trim():"")};m.prototype.Qo=function(h){var b=O(Math.random()*(arguments.length-1));h.Tr(arguments[b+1])};m.prototype.Ir=function(h,
b,d,c){h.R(ua(b,d,c))};m.prototype.ri=function(h){h.r(this.b.ri/1E3)};m.prototype.dh=function(h){h.r(this.b.dh)};q.Hb=new m;q.Kr=function(){var h,b,d,c,a,e,g=this.b.Va();h=0;for(d=this.$a.length;h<d;h++){c=this.$a[h];if(-1===c.time){if(!c.Wj)continue}else if(c.time>this.b.qb.Z)continue;g.nb=c.Be;g.ab=c.ab;g.bb=0;for(b in c.Pa)c.Pa.hasOwnProperty(b)&&(a=this.b.j[parseInt(b,10)].Q(),e=c.Pa[b],a.W=e.Bh,Ba(a.d,e.Oc),a=e,R(a.Oc),t.push(a));c.Be.Hr();this.b.pi(c.X);c.yi=!0}b=h=0;for(d=this.$a.length;h<
d;h++)c=this.$a[h],this.$a[b]=c,c.yi?(Ya(c.Pa),R(c.X),u.push(c)):b++;Aa(this.$a,b)}})();
(function(){mb=function(k,m){var q=k[1],u=k[3],t=k[4],h=k[5],b=k[6],d=k[7],c=k[8];m.i||(m.i={});m.wa||(m.wa={});m.Hb||(m.Hb={});var a=m.i,e=m.wa,g=m.Hb;u&&(a.Cs=function(a,b){return Zb(this.x,a,b)},a.Ds=function(a,b){return Zb(this.y,a,b)},a.Ks=function(){var a=this.e;this.ua();var b=this.Ba;return!(b.right<a.U||b.bottom<a.V||b.left>a.ba||b.top>a.aa)},a.Ls=function(){this.ua();var a=this.Ba,b=this.b.O;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},a.Xs=function(a,b,d){var c=this.Q(),
g=c.$b();if(!g.length)return!1;var e=g[0],h=e,k=Sa(e.x,e.y,b,d),m,p,q;m=1;for(p=g.length;m<p;m++)if(e=g[m],q=Sa(e.x,e.y,b,d),0===a&&q<k||1===a&&q>k)k=q,h=e;c.Zf(h);return!0},e.tt=function(a){this.x!==a&&(this.x=a,this.T())},e.ut=function(a){this.y!==a&&(this.y=a,this.T())},e.mt=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.T()},e.nt=function(a,b){var d=a.pq(this);if(d){var c;d.Oi?(c=d.Oi(b,!0),d=d.Oi(b,!1)):(c=d.x,d=d.y);if(this.x!==c||this.y!==d)this.x=c,this.y=d,this.T()}},e.Qs=
function(a){0!==a&&(this.x+=Math.cos(this.g)*a,this.y+=Math.sin(this.g)*a,this.T())},e.Ps=function(a,b){0!==b&&(this.x+=Math.cos(T(a))*b,this.y+=Math.sin(T(a))*b,this.T())},g.yo=function(a){a.r(this.x)},g.zo=function(a){a.r(this.y)},g.Ae=function(a){a.r(this.b.jl(this))});t&&(a.Bs=function(a,b){return Zb(this.width,a,b)},a.ys=function(a,b){return Zb(this.height,a,b)},e.qo=function(a){this.width!==a&&(this.width=a,this.T())},e.jt=function(a){this.height!==a&&(this.height=a,this.T())},e.ot=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.T()},g.zt=function(a){a.r(this.width)},g.Gs=function(a){a.r(this.height)},g.us=function(a){this.ua();a.r(this.Ba.left)},g.ws=function(a){this.ua();a.r(this.Ba.top)},g.vs=function(a){this.ua();a.r(this.Ba.right)},g.ts=function(a){this.ua();a.r(this.Ba.bottom)});h&&(a.zn=function(a,b){return Pa(this.g,T(b))<=T(a)},a.In=function(a){return Ra(this.g,T(a))},a.Hn=function(a,b){var d=Na(a),c=Na(b),g=La(this.g);return Ra(c,d)?Ra(g,d)&&
!Ra(g,c):!(!Ra(g,d)&&Ra(g,c))},e.ft=function(a){a=T(Ka(a));isNaN(a)||this.g===a||(this.g=a,this.T())},e.bt=function(a){0===a||isNaN(a)||(this.g+=T(a),this.g=La(this.g),this.T())},e.ct=function(a){0===a||isNaN(a)||(this.g-=T(a),this.g=La(this.g),this.T())},e.dt=function(a,b){var d=Qa(this.g,T(b),T(a));isNaN(d)||this.g===d||(this.g=d,this.T())},e.et=function(a,b,d){a=Qa(this.g,Math.atan2(d-this.y,b-this.x),T(a));isNaN(a)||this.g===a||(this.g=a,this.T())},e.pt=function(a,b){var d=Math.atan2(b-this.y,
a-this.x);isNaN(d)||this.g===d||(this.g=d,this.T())},g.ss=function(a){a.r(Ma(this.g))});q||(a.zs=function(a,b,d){return Zb(this.P[a],b,d)},a.Is=function(a){return this.P[a]},a.Ys=function(a,b){var d=this.Q(),c=d.$b();if(!c.length)return!1;var g=c[0],e=g,h=g.P[b],k,m,p;k=1;for(m=c.length;k<m;k++)if(g=c[k],p=g.P[b],0===a&&p<h||1===a&&p>h)h=p,e=g;d.Zf(e);return!0},a.Ws=function(a){var b,d,c,g,e;if(this.b.jq().dj){e=this.Q();if(e.W)for(e.W=!1,R(e.d),R(e.L),c=this.d,b=0,d=c.length;b<d;b++)g=c[b],g.uid===
a?e.L.push(g):e.d.push(g);else{c=b=0;for(d=e.d.length;b<d;b++)g=e.d[b],e.d[c]=g,g.uid===a?e.L.push(g):c++;Aa(e.d,c)}this.kd();return!!e.d.length}g=this.b.Ri(a);if(!g)return!1;e=this.Q();if(!e.W&&-1===e.d.indexOf(g))return!1;if(this.I)for(a=g.type.Y,b=0,d=a.length;b<d;b++){if(a[b]===this)return e.Zf(g),this.kd(),!0}else if(g.type===this)return e.Zf(g),this.kd(),!0;return!1},a.Xh=function(){return!0},a.Qn=function(){return!0},e.kt=function(a,b){var d=this.P;H(d[a])?d[a]=H(b)?b:parseFloat(b):L(d[a])&&
(d[a]=L(b)?b:b.toString())},e.rs=function(a,b){var d=this.P;H(d[a])?d[a]=H(b)?d[a]+b:d[a]+parseFloat(b):L(d[a])&&(d[a]=L(b)?d[a]+b:d[a]+b.toString())},e.wt=function(a,b){var d=this.P;H(d[a])&&(d[a]=H(b)?d[a]-b:d[a]-parseFloat(b))},e.gt=function(a,b){this.P[a]=b?1:0},e.xt=function(a){this.P[a]=1-this.P[a]},e.Fs=function(){this.b.lc(this)},e.Kn||(e.Kn=function(a){var b,d;try{b=JSON.parse(a)}catch(c){return}this.b.ah(this,b,!0);this.Nd&&this.Nd();if(this.D)for(a=0,b=this.D.length;a<b;++a)d=this.D[a],
d.Nd&&d.Nd()}),g.Es=function(a){var b=a.le.d.length,d,c,g;d=0;for(c=this.b.oc.length;d<c;d++)g=this.b.oc[d],a.le.I?0<=g.type.Y.indexOf(a.le)&&b++:g.type===a.le&&b++;a.R(b)},g.$s=function(a){a.R(a.le.Q().$b().length)},g.yt=function(a){a.R(this.uid)},g.Hs=function(a){a.R(this.zf())},g.An||(g.An=function(a){a.Xa(JSON.stringify(this.b.Tj(this,!0)))}));b&&(a.Ms=function(){return this.visible},e.qt=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.M=!0)},a.As=function(a,b){return Zb(ib(100*this.opacity),
a,b)},e.lt=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.M=!0)},g.Opacity=function(a){a.r(ib(100*this.opacity))});d&&(a.Js=function(a){return a?this.e===a:!1},a.Zs=function(a){var b=this.Q(),d=b.$b();if(!d.length)return!1;var c=d[0],g=c,e,h;e=1;for(h=d.length;e<h;e++)if(c=d[e],0===a){if(c.e.index>g.e.index||c.e.index===g.e.index&&c.qc()>g.qc())g=c}else if(c.e.index<g.e.index||c.e.index===g.e.index&&c.qc()<g.qc())g=c;b.Zf(g);return!0},e.Ts=function(){var a=this.e,
b=a.d;b.length&&b[b.length-1]===this||(a.Se(this,!1),a.hf(this,!1),this.b.M=!0)},e.Rs=function(){var a=this.e,b=a.d;b.length&&b[0]===this||(a.Se(this,!1),a.yr(this),this.b.M=!0)},e.Ss=function(a){a&&a!=this.e&&(this.e.Se(this,!0),this.e=a,a.hf(this,!0),this.b.M=!0)},e.Bt=function(a,b){var d=0===a;if(b){var c=b.kq(this);c&&c.uid!==this.uid&&(this.e.index!==c.e.index&&(this.e.Se(this,!0),this.e=c.e,c.e.hf(this,!0)),this.e.er(this,c,d),this.b.M=!0)}},g.Os=function(a){a.R(this.e.nm)},g.Ns=function(a){a.Xa(this.e.name)},
g.At=function(a){a.R(this.qc())});c&&(e.ht=function(a,b){if(this.b.p){var d=this.type.Ni(b);if(!(0>d)){var c=1===a;this.jd[d]!==c&&(this.jd[d]=c,this.jc(),this.b.M=!0)}}},e.it=function(a,b,d){if(this.b.p){var c=this.type.Ni(a);0>c||(a=this.type.B[c],c=this.da[c],b=Math.floor(b),0>b||b>=c.length||(1===this.b.p.sq(a.ma,b)&&(d/=100),c[b]!==d&&(c[b]=d,a.kb&&(this.b.M=!0))))}})};Fb=function(){this.ji=this.di=!0;this.type.Ek=!0;this.b.M=!0;var k,m,q=this.ei;k=0;for(m=q.length;k<m;++k)q[k](this);this.e.xb&&
this.ua()};Gb=function(k){k&&this.ei.push(k)};Ib=function(){if(this.di){var k=this.Ba,m=this.Rd;k.set(this.x,this.y,this.x+this.width,this.y+this.height);k.offset(-this.gb*this.width,-this.hb*this.height);this.g?(k.offset(-this.x,-this.y),m.Tm(k,this.g),m.offset(this.x,this.y),m.Nk(k)):m.Eh(k);k.normalize();this.di=!1;this.hs()}};var k=new P(0,0,0,0);Jb=function(){if(this.e.xb){var p=this.e.Fa,m=this.Ba;k.set(p.Ra(m.left),p.Sa(m.top),p.Ra(m.right),p.Sa(m.bottom));this.Wa.sf(k)||(this.Wa.right<this.Wa.left?
p.update(this,null,k):p.update(this,this.Wa,k),this.Wa.nf(k),this.e.hc=!0)}};Kb=function(){if(this.ji&&this.lf){this.ua();var p=this.type.Sk,m=this.Ba;k.set(p.Ra(m.left),p.Sa(m.top),p.Ra(m.right),p.Sa(m.bottom));this.nd.sf(k)||(this.nd.right<this.nd.left?p.update(this,null,k):p.update(this,this.nd,k),this.nd.nf(k),this.ji=!1)}};Hb=function(k,m){return this.Ba.Db(k,m)&&this.Rd.Db(k,m)?this.nc&&!this.nc.Uq()?(this.nc.Oo(this.width,this.height,this.g),this.nc.Db(k-this.x,m-this.y)):!0:!1};Bb=function(){this.type.Qh();
return this.$d};Lb=function(){this.e.ik();return this.kc};Mb=function(){R(this.K);var k,m,q,u=!0;k=0;for(m=this.jd.length;k<m;k++)this.jd[k]&&(q=this.type.B[k],this.K.push(q),q.fc||(u=!1));this.vn=!!this.K.length;this.$c=u};Cb=function(){return"Inst"+this.Hm};pb=function(k){if(k&&k.Kb&&k.type!=this){var m,q,u;m=0;for(q=k.siblings.length;m<q;m++)if(u=k.siblings[m],u.type==this)return u}k=this.Q().$b();return k.length?k[0]:null};qb=function(k){var m=this.Q().$b();return m.length?m[k.zf()%m.length]:
null};ob=function(){if(this.Xe&&!this.I){var k,m;k=0;for(m=this.d.length;k<m;k++)this.d[k].$d=k;var q=k,u=this.b.oc;k=0;for(m=u.length;k<m;++k)u[k].type===this&&(u[k].$d=q++);this.Xe=!1}};zb=function(k){if(k<this.d.length)return this.d[k];k-=this.d.length;var m=this.b.oc,q,u;q=0;for(u=m.length;q<u;++q)if(m[q].type===this){if(0===k)return m[q];--k}return null};rb=function(){return this.Jd[this.Hc]};sb=function(){this.Hc++;this.Hc===this.Jd.length?this.Jd.push(new nb(this)):this.Jd[this.Hc].W=!0};tb=
function(){this.Hc++;this.Hc===this.Jd.length&&this.Jd.push(new nb(this));var k=this.Jd[this.Hc],m=this.Jd[this.Hc-1];m.W?k.W=!0:(k.W=!1,Ba(k.d,m.d),Ba(k.L,m.L))};ub=function(){this.Hc--};vb=function(k){var m,q,u,t,h,b=0;if(!this.I)for(m=0,q=this.Y.length;m<q;m++)for(h=this.Y[m],u=0,t=h.ka.length;u<t;u++){if(k===h.ka[u].name)return this.ea.lastBehIndex=b,h.ka[u];b++}m=0;for(q=this.ka.length;m<q;m++){if(k===this.ka[m].name)return this.ea.lastBehIndex=b,this.ka[m];b++}return null};wb=function(k){return this.Hg(k)?
this.ea.lastBehIndex:-1};xb=function(k){var m,q;m=0;for(q=this.B.length;m<q;m++)if(this.B[m].name===k)return m;return-1};yb=function(){if(this.Kb&&!this.I){var k,m,q,u,t,h,b;this.Qh();h=this.Q();var d=h.W,c=(k=this.b.Va())&&k.nb&&k.nb.vc;k=0;for(m=this.cb.length;k<m;k++)if(t=this.cb[k],t!==this&&(t.Qh(),b=t.Q(),b.W=d,!d)){R(b.d);q=0;for(u=h.d.length;q<u;++q)b.d[q]=t.Pi(h.d[q].$d);if(c)for(R(b.L),q=0,u=h.L.length;q<u;++q)b.L[q]=t.Pi(h.L[q].$d)}}};Ab=function(){return"Type"+this.H};Zb=function(k,m,
q){if("undefined"===typeof k||"undefined"===typeof q)return!1;switch(m){case 0:return k===q;case 1:return k!==q;case 2:return k<q;case 3:return k<=q;case 4:return k>q;case 5:return k>=q;default:return!1}}})();var hc={};function Y(k){this.b=k}
(function(){function k(){this.history=[]}function p(a){this.hr=a;this.g=this.y=this.x=this.timestamp=0;this.yd=[]}function m(a,b,d,c){a=b-a;if(0===a)return 0;b=ja(a);if(b<=ja(d/10)||1>b||1E3<=b)return a;var e=b/50;c&&(e=ka(e,1));c=ja(d/5);10<=b&&(e=b/10,c=ja(d/2));d=ka(e,c);d>b&&(d=b);return 0<a?d:-d}function q(){}function u(){}function t(a){switch(a){case 0:return"o";case 1:return"r";case 2:return"u";default:return"o"}}function h(){}var b=Y.prototype;b.Bc=function(a){this.ia=a;this.b=a.b};b.Bc.prototype.Aa=
function(){};b.yb=function(a){this.type=a;this.b=a.b};var d=b.yb.prototype,c=!1;d.Aa=function(){this.k=null;(c=window.C2Multiplayer_IsSupported())&&"undefined"!==typeof window.C2Multiplayer&&(this.k=new window.C2Multiplayer);this.gr=this.im=this.jm=this.fr=this.Xq=this.qh=this.rh=this.Xm="";this.fk={};this.Ng={};this.Yc={};this.ef=this.Jr=this.gq=null;this.Mg=[];this.ng=[];this.uc={};var a=this;c&&(this.k.onserverlist=function(){a.b.trigger(Y.prototype.i.bo,a)},this.k.onsignallingerror=function(){a.b.trigger(Y.prototype.i.eo,
a)},this.k.onsignallingclose=function(){a.b.trigger(Y.prototype.i.co,a);a.Xm=""},this.k.onsignallingwelcome=function(){a.b.trigger(Y.prototype.i.qk,a)},this.k.onsignallinglogin=function(){a.b.trigger(Y.prototype.i.sk,a)},this.k.onsignallingjoin=function(b){a.Ng={};a.Yc={};a.ng.length=0;a.Mg.length=0;a.uc={};a.b.trigger(Y.prototype.i.rk,a);a.b.de&&b&&a.ef.postMessage("start")},this.k.onsignallingleave=function(){a.b.trigger(Y.prototype.i.ho,a)},this.k.onsignallingkicked=function(){a.b.trigger(Y.prototype.i.fo,
a)},this.k.onbeforeclientupdate=function(){a.b.trigger(Y.prototype.i.Pn,a)},this.k.onpeeropen=function(b){a.rh=b.id;a.qh=b.alias;a.b.trigger(Y.prototype.i.Yn,a)},this.k.onpeerclose=function(b,d){a.rh=b.id;a.qh=b.alias;a.Xq=d||"unknown";var c=a.hl(b);if(c){var e=a.fk[c.type];e&&e.removeObjectNid(b.nid);a.b.lc(c)}a.Yc.hasOwnProperty(b.id)&&delete a.Yc[b.id];a.b.trigger(Y.prototype.i.Zn,a)},this.k.onpeermessage=function(b,d){a.jm=d.t;a.im=d.f?d.f:b.id;a.gr=a.k.getAliasFromId(a.im);a.fr=d.m;a.b.trigger(Y.prototype.i.Nn,
a);a.b.trigger(Y.prototype.i.$n,a)},this.k.onsignallinginstancelist=function(b){a.gq=b;a.b.trigger(Y.prototype.i.Tn,a)},this.k.onsignallingroomlist=function(b){a.Jr=b;a.b.trigger(Y.prototype.i.ao,a)},this.k.ongetobjectcount=function(a){return a.d.length},this.k.ongetobjectvalue=function(b,d,c){if(!c)return b.d[d].uid;b=b.d[d];switch(c.tag){case "x":return b.x;case "y":return b.y;case "a":return b.g;case "iv":if(c.clientvaluetag&&(d=a.Ng[b.uid])&&a.k.me!==d&&!d.wasRemoved&&d.hasClientState(c.clientvaluetag))return d.getInterpClientState(c.clientvaluetag);
c=b.P[c.userdata];return"number"===typeof c?c:0;default:return 0}},this.k.oninstancedestroyed=function(b,d,c){var e=b.userdata;b=e.bj;e.wi||(e.wi={});e.wi[d]=c;b&&b.hasOwnProperty(d)&&((c=b[d])&&a.b.lc(c),delete b[d])},this.b.Do(function(b){var d,c=b.uid;a.Ng.hasOwnProperty(c)&&delete a.Ng[c];for(d in a.Yc)if(a.Yc.hasOwnProperty(d)&&a.Yc[d]===b){delete a.Yc[d];break}a.uc.hasOwnProperty(c)&&delete a.uc[c];d=a.Mg.indexOf(b);-1<d&&a.Mg.splice(d,1);d=a.ng.indexOf(b);-1<d&&a.ng.splice(d,1);a.k.removeObjectId(c)}),
this.ef=new Worker("waker.js"),this.ef.addEventListener("message",function(b){"tick"===b.data&&a.b.de&&a.b.Kd(!0)},!1),this.ef.postMessage(""));this.b.Fo(function(b){c&&a.k.isHost()&&(b?a.ef.postMessage("start"):a.ef.postMessage("stop"))});this.b.Cr(this)};d.hl=function(a){a=a.id;return this.Yc.hasOwnProperty(a)?this.Yc[a]:null};d.Qq=function(a){return 0<=this.Mg.indexOf(a)};d.Br=function(){if(c){this.k.tick(this.b.Kc);this.bs();var a,b,d;if(this.k.isInRoom()&&!this.k.isHost())for(a=0,b=this.k.registeredObjects.length;a<
b;++a)d=this.k.registeredObjects[a],this.es(d)}};var a=[];d.es=function(b){b.tick();var d=b.obj,c=b.getCount(),e=b.netvalues,h=b.userdata;h.bj||(h.bj={});var l=h.bj,h=h.wi,k=b.simTime,m,p,q,t,u,J,C,B=e.length;for(m in l)l.hasOwnProperty(m)&&(t=l[m],this.b.Ri(t.uid)||delete l[m]);if(h)for(m in h)h.hasOwnProperty(m)&&h[m]<k-3E3&&delete h[m];for(m=0;m<c;++m)if(p=b.getNetInstAt(m),q=p.nid,h&&h[q]>=k-3E3)a.push(p),l.hasOwnProperty(q)&&(this.b.lc(l[q]),delete l[q]);else{if(l.hasOwnProperty(q))t=l[q],C=
!1;else{if(t=this.k.getPeerByNid(q))this.rh=t.id,this.qh=t.alias;else{if(b.hasOverriddenNids)continue;this.qh=this.rh=""}t=this.b.Uk(d,this.b.O.C[d.Xk],-1E3,-1E3);l[q]=t;C=!0}if(p.isTimedOut(k))a.push(p),l.hasOwnProperty(q)&&delete l[q],this.b.lc(t);else{if(this.Qq(t))this.So(t,p,e,k);else for(J=0;J<B;++J)switch(q=p.getInterp(k,J),u=e[J],u.tag){case "x":t.x=q;t.T();break;case "y":t.y=q;t.T();break;case "a":t.g=q;t.T();break;case "iv":u=u.userdata;if(u>t.P.length||"number"!==typeof t.P[u])break;t.P[u]=
q}C&&this.b.trigger(Object.getPrototypeOf(d.ia).i.Xh,t)}}m=0;for(c=a.length;m<c;++m)b.removeNetInstance(a[m]);a.length=0};d.bs=function(){var a=this.k.getHostInputArrivalTime(),b,d;b=0;for(d=this.ng.length;b<d;++b)this.cs(this.ng[b],a)};k.prototype.ml=function(a){if(2>this.history.length)return 0;var b=this.history[this.history.length-2],d=this.history[this.history.length-1];switch(a){case "x":return d.x-b.x;case "y":return d.y-b.y;case "a":return d.g-b.g;case "iv":return d.yd[void 0]-b.yd[void 0]}return 0};
k.prototype.ll=function(a,b,d,c){var e,h,k,m=null,q=null;e=0;for(h=this.history.length;e<h;++e)if(k=this.history[e],k.timestamp<d)m=k;else{e+1<this.history.length&&(q=this.history[e+1]);break}if(m){e=0;switch(a){case "x":e=m.x;break;case "y":e=m.y;break;case "a":e=m.g;break;case "iv":e=m.yd[b]}if(!q)return e;h=e;switch(a){case "x":h=q.x;break;case "y":h=q.y;break;case "a":h=q.g;break;case "iv":h=q.yd[b]}return window.interpNetValue(c,e,h,Va(m.timestamp,q.timestamp,d),!1)}};k.prototype.Io=function(a,
b,d){var c,e,h;c=0;for(e=this.history.length;c<e;++c)switch(h=this.history[c],a){case "x":h.x+=d;break;case "y":h.y+=d;break;case "a":h.g+=d;break;case "iv":h.yd[b]+=d}};var e=[];d.cs=function(a,b){this.uc.hasOwnProperty(a.uid)||(this.uc[a.uid]=new k);var d=this.uc[a.uid],c;e.length?(c=e.pop(),c.hr=d):c=new p(d);c.timestamp=b;c.x=a.x;c.y=a.y;c.g=a.g;Ba(c.yd,a.P);for(d.history.push(c);0<d.history.length&&d.history[0].timestamp<=b-2E3;)c=d.history.shift(),c.yd.length=0,1E3>e.length&&e.push(c)};d.So=
function(a,b,d,c){if(this.uc.hasOwnProperty(a.uid)){var e=this.uc[a.uid],h,k,q,p,t,u,M,J=d.length,C=Sa(0,0,e.ml("x"),e.ml("y")),B=!!a.ea.isPlatformBehavior;for(h=0;h<J;++h)if(t=d[h],u=t.tag,M=t.userdata,p=t.interp,k=b.getLatestUpdate())if(q=k.data[h],p=e.ll(u,M,k.timestamp,p),"undefined"!==typeof p){k=0;switch(u){case "x":k=m(p,q,C,B);0!==k&&(a.x+=k,a.T());break;case "y":k=m(p,q,C,B);0!==k&&(a.y+=k,a.T());break;case "a":k=Wa(p,q,.5)-p;0!==k&&(a.g+=k,a.T());break;case "iv":q=M;if(q>a.P.length||"number"!==
typeof a.P[q])break;t.clientvaluetag||(a.P[q]=b.getInterp(c,h))}0!==k&&e.Io(u,M,k)}}};d.Et=function(){};d.Yf=function(){};d.Pb=function(){return{}};d.sc=function(){};q.prototype.bo=function(){return!0};q.prototype.eo=function(){return!0};q.prototype.qk=function(){return!0};q.prototype.co=function(){return!0};q.prototype.sk=function(){return!0};q.prototype.rk=function(){return!0};q.prototype.ho=function(){return!0};q.prototype.fo=function(){return!0};q.prototype.Yn=function(){return!0};q.prototype.Zn=
function(){return!0};q.prototype.$n=function(a){return this.jm===a};q.prototype.Nn=function(){return!0};q.prototype.Pn=function(){return!0};q.prototype.Tn=function(){return!0};q.prototype.ao=function(){return!0};b.i=new q;u.prototype.so=function(a){c&&!this.k.isConnected()&&(this.Xm=a,this.k.signallingConnect(a))};u.prototype.to=function(a){c&&this.k.isConnected&&!this.k.isLoggedIn()&&this.k.signallingLogin(a)};u.prototype.ro=function(a,b,d,e,h){c&&this.k.isLoggedIn()&&!this.k.isInRoom()&&this.k.signallingAutoJoinGameRoom(a,
b,d,e,0===h)};u.prototype.jo=function(a,b,d,e){c&&(a||(a=this.k.getHostID()),(a=this.k.getPeerById(a))&&a.send(t(e),JSON.stringify({c:"m",t:b,m:d})))};d.ci=function(a,b,d,e){c&&(e=this.k.registerObject(a,a.H,e),1===b?(e.addValue(this.k.INTERP_LINEAR,d,"x"),e.addValue(this.k.INTERP_LINEAR,d,"y")):2===b?e.addValue(this.k.INTERP_ANGULAR,d,"a"):3===b&&(e.addValue(this.k.INTERP_LINEAR,d,"x"),e.addValue(this.k.INTERP_LINEAR,d,"y"),e.addValue(this.k.INTERP_ANGULAR,d,"a")),this.fk[a]=e)};d.Xo=function(a,
b,d,e,h){if(c&&(a=this.fk[a])){var k=this.k.INTERP_NONE;1===e?k=this.k.INTERP_LINEAR:2===e&&(k=this.k.INTERP_ANGULAR);a.addValue(k,d,"iv",b,h)}};b.wa=new u;h.prototype.Gn=function(a){a.Xa(c?this.k.getHostID():"")};d.vp=function(a,b,d,e){if(!c||!this.k.isHost())return 0;var h=this.k.getPeerById(a);if(!h)return 0;var k=this.hl(h);if(!k)return 0;a=0;switch(d){case "x":a=k.x;break;case "y":a=k.y;break;case "a":a=k.g}b=this.k.getPeerById(b);if(!b||b===h||this.k.me===b)return a;b=2*(b.latency+this.k.clientDelay);
k=k.uid;if(!this.uc.hasOwnProperty(k))return a;e=this.uc[k].ll(d,0,U()-b,e);return"undefined"===typeof e?a:e};b.Hb=new h})();function jc(k){this.b=k}
(function(){function k(){if(0===this.vi.length){var b=document.createElement("canvas");b.width=this.width;b.height=this.height;var c=b.getContext("2d");this.We?c.drawImage(this.Za,this.Ne,this.Oe,this.width,this.height,0,0,this.width,this.height):c.drawImage(this.Za,0,0,this.width,this.height);this.vi=b.toDataURL("image/png")}return this.vi}function p(){}var m=jc.prototype;m.Bc=function(b){this.ia=b;this.b=b.b};var q=m.Bc.prototype;q.Aa=function(){if(!this.I){var b,c,a,e,g,f,h,n,m;this.Xb=[];this.Cf=
!1;b=0;for(c=this.Ta.length;b<c;b++){g=this.Ta[b];h={};h.name=g[0];h.speed=g[1];h.loop=g[2];h.Pj=g[3];h.yh=g[4];h.zm=g[5];h.H=g[6];h.frames=[];a=0;for(e=g[7].length;a<e;a++)f=g[7][a],n={},n.en=f[0],n.gn=f[1],n.Ne=f[2],n.Oe=f[3],n.width=f[4],n.height=f[5],n.duration=f[6],n.gb=f[7],n.hb=f[8],n.Yi=f[9],n.sh=f[10],n.Am=f[11],n.We=0!==n.width,n.vi="",n.Ft=k,m={left:0,top:0,right:1,bottom:1},n.Vj=m,n.ed=null,(m=this.b.cq(f[0]))?n.Za=m:(n.Za=new Image,n.Za.Uo=f[0],n.Za.To=f[1],n.Za.No=null,this.b.ns(n.Za,
f[0])),h.frames.push(n),this.Xb.push(n);this.Ta[b]=h}}};q.un=function(){var b,c,a;b=0;for(c=this.d.length;b<c;b++)a=this.d[b],a.vg=a.Eb.ed};q.Cj=function(){if(!this.I){var b,c,a;b=0;for(c=this.Xb.length;b<c;++b)a=this.Xb[b],a.Za.No=null,a.ed=null;this.Cf=!1;this.un()}};q.tm=function(){if(!this.I&&this.d.length){var b,c,a;b=0;for(c=this.Xb.length;b<c;++b)a=this.Xb[b],a.ed=this.b.p.Nl(a.Za,this.b.J,a.Am);this.un()}};q.Zq=function(){if(!this.I&&!this.Cf&&this.b.p){var b,c,a;b=0;for(c=this.Xb.length;b<
c;++b)a=this.Xb[b],a.ed=this.b.p.Nl(a.Za,this.b.J,a.Am);this.Cf=!0}};q.rn=function(){if(!this.I&&!this.d.length&&this.Cf){var b,c,a;b=0;for(c=this.Xb.length;b<c;++b)a=this.Xb[b],this.b.p.deleteTexture(a.ed),a.ed=null;this.Cf=!1}};var u=[];q.Em=function(b){var c,a,e;R(u);c=0;for(a=this.Xb.length;c<a;++c)e=this.Xb[c].Za,-1===u.indexOf(e)&&(b.drawImage(e,0,0),u.push(e))};m.yb=function(b){this.type=b;this.b=b.b;b=this.type.Ta[0].frames[0].sh;this.Nb?this.nc.eg(b):this.nc=new db(b)};var t=m.yb.prototype;
t.Aa=function(){this.visible=0===this.Ma[0];this.lf=0!==this.Ma[3];1===this.type.Ta.length&&1===this.type.Ta[0].frames.length||0===this.type.Ta[0].speed||this.b.jn(this);this.ca=this.gl(this.Ma[1])||this.type.Ta[0];this.q=this.Ma[2];0>this.q&&(this.q=0);this.q>=this.ca.frames.length&&(this.q=this.ca.frames.length-1);var b=this.ca.frames[this.q];this.nc.eg(b.sh);this.gb=b.gb;this.hb=b.hb;this.rf=this.ca.speed;this.Nb?this.mc.reset():this.mc=new bb;this.Nc=this.mc.Z;this.Pd=!0;this.Cc=0;this.Od=!0;
this.ni=this.Ck="";this.Po=0;this.mi=-1;this.type.Zq();var c,a,e,g,f,h,k,b=0;for(c=this.type.Ta.length;b<c;b++)for(g=this.type.Ta[b],a=0,e=g.frames.length;a<e;a++)f=g.frames[a],0===f.width&&(f.width=f.Za.width,f.height=f.Za.height),f.We&&(k=f.Za,h=f.Vj,h.left=f.Ne/k.width,h.top=f.Oe/k.height,h.right=(f.Ne+f.width)/k.width,h.bottom=(f.Oe+f.height)/k.height,0===f.Ne&&0===f.Oe&&f.width===k.width&&f.height===k.height&&(f.We=!1));this.Eb=this.ca.frames[this.q];this.vg=this.Eb.ed};t.Pb=function(){var b=
{a:this.ca.H,f:this.q,cas:this.rf,fs:this.Nc,ar:this.Cc,at:this.mc.Z};this.Pd||(b.ap=this.Pd);this.Od||(b.af=this.Od);return b};t.sc=function(b){var c=this.hq(b.a);c&&(this.ca=c);this.q=b.f;0>this.q&&(this.q=0);this.q>=this.ca.frames.length&&(this.q=this.ca.frames.length-1);this.rf=b.cas;this.Nc=b.fs;this.Cc=b.ar;this.mc.reset();this.mc.Z=b.at;this.Pd=b.hasOwnProperty("ap")?b.ap:!0;this.Od=b.hasOwnProperty("af")?b.af:!0;this.Eb=this.ca.frames[this.q];this.vg=this.Eb.ed;this.nc.eg(this.Eb.sh);this.gb=
this.Eb.gb;this.hb=this.Eb.hb};t.bi=function(b){this.q=b?0:this.ca.frames.length-1;this.Pd=!1;this.Ck=this.ca.name;this.b.trigger(jc.prototype.i.Mn,this);this.b.trigger(jc.prototype.i.Ln,this);this.Cc=0};t.ci=function(){return this.mc.Z};t.Kd=function(){this.mc.add(this.b.jl(this));this.ni.length&&this.Zo();0<=this.mi&&this.$o();var b=this.mc.Z,c=this.ca,a=c.frames[this.q],e=a.duration/this.rf;this.Pd&&b>=this.Nc+e&&(this.Od?this.q++:this.q--,this.Nc+=e,this.q>=c.frames.length&&(c.zm?(this.Od=!1,
this.q=c.frames.length-2):c.loop?this.q=c.yh:(this.Cc++,this.Cc>=c.Pj?this.bi(!1):this.q=c.yh)),0>this.q&&(c.zm?(this.q=1,this.Od=!0,c.loop||(this.Cc++,this.Cc>=c.Pj&&this.bi(!0))):c.loop?this.q=c.yh:(this.Cc++,this.Cc>=c.Pj?this.bi(!0):this.q=c.yh)),0>this.q?this.q=0:this.q>=c.frames.length&&(this.q=c.frames.length-1),b>this.Nc+c.frames[this.q].duration/this.rf&&(this.Nc=b),b=c.frames[this.q],this.ue(a,b),this.b.M=!0)};t.gl=function(b){var c,a,e;c=0;for(a=this.type.Ta.length;c<a;c++)if(e=this.type.Ta[c],
jb(e.name,b))return e;return null};t.hq=function(b){var c,a,e;c=0;for(a=this.type.Ta.length;c<a;c++)if(e=this.type.Ta[c],e.H===b)return e;return null};t.Zo=function(){var b=this.ca.frames[this.q],c=this.gl(this.ni);this.ni="";!c||jb(c.name,this.ca.name)&&this.Pd||(this.ca=c,this.rf=c.speed,0>this.q&&(this.q=0),this.q>=this.ca.frames.length&&(this.q=this.ca.frames.length-1),1===this.Po&&(this.q=0),this.Pd=!0,this.Nc=this.mc.Z,this.Od=!0,this.ue(b,this.ca.frames[this.q]),this.b.M=!0)};t.$o=function(){var b=
this.ca.frames[this.q],c=this.q;this.q=O(this.mi);0>this.q&&(this.q=0);this.q>=this.ca.frames.length&&(this.q=this.ca.frames.length-1);c!==this.q&&(this.ue(b,this.ca.frames[this.q]),this.Nc=this.mc.Z,this.b.M=!0);this.mi=-1};t.ue=function(b,c){var a=b.width,e=b.height,g=c.width,f=c.height;a!=g&&(this.width*=g/a);e!=f&&(this.height*=f/e);this.gb=c.gb;this.hb=c.hb;this.nc.eg(c.sh);this.T();this.Eb=c;this.vg=c.ed;a=0;for(e=this.D.length;a<e;a++)g=this.D[a],g.or&&g.or(b,c);this.b.trigger(jc.prototype.i.ue,
this)};t.Jc=function(b){b.globalAlpha=this.opacity;var c=this.Eb,a=c.We,e=c.Za,g=this.x,f=this.y,h=this.width,k=this.height;if(0===this.g&&0<=h&&0<=k)g-=this.gb*h,f-=this.hb*k,this.b.Zc&&(g=Math.round(g),f=Math.round(f)),a?b.drawImage(e,c.Ne,c.Oe,c.width,c.height,g,f,h,k):b.drawImage(e,g,f,h,k);else{this.b.Zc&&(g=Math.round(g),f=Math.round(f));b.save();var m=0<h?1:-1,l=0<k?1:-1;b.translate(g,f);1===m&&1===l||b.scale(m,l);b.rotate(this.g*m*l);g=0-this.gb*ja(h);f=0-this.hb*ja(k);a?b.drawImage(e,c.Ne,
c.Oe,c.width,c.height,g,f,ja(h),ja(k)):b.drawImage(e,g,f,ja(h),ja(k));b.restore()}};t.ze=function(b){this.Gb(b)};t.Gb=function(b){b.sb(this.vg);b.Ue(this.opacity);var c=this.Eb,a=this.Rd;if(this.b.Zc){var e=Math.round(this.x)-this.x,g=Math.round(this.y)-this.y;c.We?b.Gd(a.tb+e,a.ub+g,a.Tb+e,a.Ub+g,a.Bb+e,a.Cb+g,a.zb+e,a.Ab+g,c.Vj):b.bg(a.tb+e,a.ub+g,a.Tb+e,a.Ub+g,a.Bb+e,a.Cb+g,a.zb+e,a.Ab+g)}else c.We?b.Gd(a.tb,a.ub,a.Tb,a.Ub,a.Bb,a.Cb,a.zb,a.Ab,c.Vj):b.bg(a.tb,a.ub,a.Tb,a.Ub,a.Bb,a.Cb,a.zb,a.Ab)};
t.mq=function(b){var c=this.Eb,a,e;a=0;for(e=c.Yi.length;a<e;a++)if(jb(b,c.Yi[a][0]))return a;return-1};t.Oi=function(b,c){var a=this.Eb,e=a.Yi,g;L(b)?g=this.mq(b):g=b-1;g=O(g);if(0>g||g>=e.length)return c?this.x:this.y;var f=(e[g][1]-a.gb)*this.width,e=e[g][2],e=(e-a.hb)*this.height,a=Math.cos(this.g);g=Math.sin(this.g);var h=f*a-e*g,e=e*a+f*g,f=h+this.x,e=e+this.y;return c?f:e};var h=new ba,b=!1;new P(0,0,0,0);q.finish=function(d){if(b){if(d){var c=this.b.Va().nb.vc;d=null.Q();var a=h.Md(),e,g;
if(d.W){d.W=!1;R(d.d);e=0;for(g=a.length;e<g;++e)d.d[e]=a[e];if(c)for(R(d.L),e=0,g=null.d.length;e<g;++e)a=null.d[e],h.contains(a)||d.L.push(a)}else if(c)for(c=d.d.length,e=0,g=a.length;e<g;++e)d.d[c+e]=a[e],Ha(d.L,a[e]);else Ba(d.d,a);null.kd()}h.clear();b=!1}};p.prototype.Ln=function(b){return jb(this.Ck,b)};p.prototype.Mn=function(){return!0};p.prototype.ue=function(){return!0};m.i=new p;m.wa=new function(){};m.Hb=new function(){}})();function kc(k){this.b=k}
(function(){function k(){return b.length?b.pop():{}}function p(d){var c,a;c=0;for(a=d.length;c<a;c++)b.push(d[c]);R(d)}function m(b){return b.length&&" "===b.charAt(b.length-1)?b.substring(0,b.length-1):b}function q(){}var u=kc.prototype;u.Aa=function(){u.wa.qo=function(b){this.width!==b&&(this.width=b,this.qe=!0,this.T())}};u.Bc=function(b){this.ia=b;this.b=b.b};var t=u.Bc.prototype;t.Aa=function(){};t.Cj=function(){if(!this.I){var b,c,a;b=0;for(c=this.d.length;b<c;b++)a=this.d[b],a.tc=null,a.ke=
null,a.ib=null}};u.yb=function(b){this.type=b;this.b=b.b;this.Nb?R(this.Ad):this.Ad=[];this.qe=!0};t=u.yb.prototype;t.Aa=function(){this.text=this.Ma[0];this.visible=0===this.Ma[1];this.font=this.Ma[2];this.color=this.Ma[3];this.Lg=this.Ma[4];this.Sh=this.Ma[5];this.kk=0===this.Ma[7];this.oj=this.Xg=this.width;this.Wg=this.height;this.qj=this.Ma[8];this.Eg=this.Ce="";this.cn=this.dn=this.Fd=0;this.pr();this.ib=this.ke=this.tc=null;this.xj=!1;this.Of=this.b.bd;this.Nb?this.Re.set(0,0,1,1):this.Re=
new P(0,0,1,1);this.b.p&&this.b.jn(this)};t.pr=function(){var b=this.font.split(" "),c;for(c=0;c<b.length;c++)if("pt"===b[c].substr(b[c].length-2,2)){this.Fd=parseInt(b[c].substr(0,b[c].length-2));this.wh=Math.ceil(this.Fd/72*96)+4;0<c&&(this.Eg=b[c-1]);this.Ce=b[c+1];for(c+=2;c<b.length;c++)this.Ce+=" "+b[c];break}};t.Pb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Lg,va:this.Sh,wr:this.kk,lho:this.qj,fn:this.Ce,fs:this.Eg,ps:this.Fd,pxh:this.wh,tw:this.dn,th:this.cn,lrt:this.Of}};
t.sc=function(b){this.text=b.t;this.font=b.f;this.color=b.c;this.Lg=b.ha;this.Sh=b.va;this.kk=b.wr;this.qj=b.lho;this.Ce=b.fn;this.Eg=b.fs;this.Fd=b.ps;this.wh=b.pxh;this.dn=b.tw;this.cn=b.th;this.Of=b.lrt;this.qe=!0;this.oj=this.Xg=this.width;this.Wg=this.height};t.Kd=function(){if(this.b.p&&this.ib&&300<=this.b.bd-this.Of){var b=this.e;this.ua();var c=this.Ba;if(c.right<b.U||c.bottom<b.V||c.left>b.ba||c.top>b.aa)this.b.p.deleteTexture(this.ib),this.tc=this.ke=this.ib=null}};t.Yf=function(){this.tc=
this.ke=null;this.b.p&&this.ib&&this.b.p.deleteTexture(this.ib);this.ib=null};t.ds=function(){this.font=this.Eg+" "+this.Fd.toString()+"pt "+this.Ce;this.qe=!0;this.b.M=!0};t.Jc=function(b,c){b.font=this.font;b.textBaseline="top";b.fillStyle=this.color;b.globalAlpha=c?1:this.opacity;var a=1;c&&(a=this.e.fb(),b.save(),b.scale(a,a));if(this.qe||this.width!==this.oj)this.type.ia.wo(this.text,this.Ad,b,this.width,this.kk),this.qe=!1,this.oj=this.width;this.ua();var a=c?0:this.Rd.tb,e=c?0:this.Rd.ub;this.b.Zc&&
(a=a+.5|0,e=e+.5|0);0===this.g||c||(b.save(),b.translate(a,e),b.rotate(this.g),e=a=0);var g=e+this.height,f=this.wh,f=f+this.qj,h,k;1===this.Sh?e+=Math.max(this.height/2-this.Ad.length*f/2,0):2===this.Sh&&(e+=Math.max(this.height-this.Ad.length*f-2,0));for(k=0;k<this.Ad.length&&!(h=a,1===this.Lg?h=a+(this.width-this.Ad[k].width)/2:2===this.Lg&&(h=a+(this.width-this.Ad[k].width)),b.fillText(this.Ad[k].text,h,e),e+=f,e>=g-f);k++);(0!==this.g||c)&&b.restore();this.Of=this.b.bd};t.Gb=function(b){if(!(1>
this.width||1>this.height)){var c=this.qe||this.xj;this.xj=!1;var a=this.e.fb(),e=this.e.eb(),g=this.Re,f=a*this.width,h=a*this.height,k=Math.ceil(f),m=Math.ceil(h),l=this.b.A/2,q=this.b.u/2;this.ke||(this.tc=document.createElement("canvas"),this.tc.width=k,this.tc.height=m,this.Xg=k,this.Wg=m,c=!0,this.ke=this.tc.getContext("2d"));if(k!==this.Xg||m!==this.Wg)this.tc.width=k,this.tc.height=m,this.ib&&(b.deleteTexture(this.ib),this.ib=null),c=!0;c&&(this.ke.clearRect(0,0,k,m),this.Jc(this.ke,!0),this.ib||
(this.ib=b.mb(k,m,this.b.J,this.b.vd)),b.ms(this.tc,this.ib,this.b.vd));this.Xg=k;this.Wg=m;b.sb(this.ib);b.Ue(this.opacity);b.Ob();b.translate(-l,-q);b.wb();var p=this.Rd,c=this.e.oa(p.tb,p.ub,!0),l=this.e.oa(p.tb,p.ub,!1),q=this.e.oa(p.Tb,p.Ub,!0),t=this.e.oa(p.Tb,p.Ub,!1),u=this.e.oa(p.Bb,p.Cb,!0),I=this.e.oa(p.Bb,p.Cb,!1),M=this.e.oa(p.zb,p.Ab,!0),p=this.e.oa(p.zb,p.Ab,!1);if(this.b.Zc||0===this.g&&0===e)var J=(c+.5|0)-c,C=(l+.5|0)-l,c=c+J,l=l+C,q=q+J,t=t+C,u=u+J,I=I+C,M=M+J,p=p+C;0===this.g&&
0===e?(q=c+k,t=l,u=q,I=l+m,M=c,p=I,g.right=1,g.bottom=1):(g.right=f/k,g.bottom=h/m);b.Gd(c,l,q,t,u,I,M,p,g);b.Ob();b.scale(a,a);b.Ah(-this.e.eb());b.translate((this.e.U+this.e.ba)/-2,(this.e.V+this.e.aa)/-2);b.wb();this.Of=this.b.bd}};var h=[];u.uo=function(b){R(h);for(var c="",a,e=0;e<b.length;)if(a=b.charAt(e),"\n"===a)c.length&&(h.push(c),c=""),h.push("\n"),++e;else if(" "===a||"\t"===a||"-"===a){do c+=b.charAt(e),e++;while(e<b.length&&(" "===b.charAt(e)||"\t"===b.charAt(e)));h.push(c);c=""}else e<
b.length&&(c+=a,e++);c.length&&h.push(c)};var b=[];u.wo=function(b,c,a,e,g){if(b&&b.length)if(2>=e)p(c);else{if(100>=b.length&&-1===b.indexOf("\n")){var f=a.measureText(b).width;if(f<=e){p(c);c.push(k());c[0].text=b;c[0].width=f;return}}this.xo(b,c,a,e,g)}else p(c)};u.xo=function(d,c,a,e,g){g&&(this.uo(d),d=h);var f="",q,n,p,l=0;for(p=0;p<d.length;p++)"\n"===d[p]?(l>=c.length&&c.push(k()),f=m(f),n=c[l],n.text=f,n.width=a.measureText(f).width,l++,f=""):(q=f,f+=d[p],n=a.measureText(f).width,n>=e&&(l>=
c.length&&c.push(k()),q=m(q),n=c[l],n.text=q,n.width=a.measureText(q).width,l++,f=d[p],g||" "!==f||(f="")));f.length&&(l>=c.length&&c.push(k()),f=m(f),n=c[l],n.text=f,n.width=a.measureText(f).width,l++);for(p=l;p<c.length;p++)b.push(c[p]);c.length=l};u.i=new function(){};q.prototype.oo=function(b){H(b)&&1E9>b&&(b=Math.round(1E10*b)/1E10);b=b.toString();this.text!==b&&(this.text=b,this.qe=!0,this.b.M=!0)};q.prototype.lo=function(b){this.Fd!==b&&(this.Fd=b,this.wh=Math.ceil(this.Fd/72*96)+4,this.ds())};
q.prototype.ko=function(b){b="rgb("+va(b).toString()+","+wa(b).toString()+","+xa(b).toString()+")";b!==this.color&&(this.color=b,this.xj=!0,this.b.M=!0)};u.wa=new q;u.Hb=new function(){}})();function Z(k){this.b=k}
(function(){function k(b){d=b.x;c=b.y;a=b.z}function p(a,b,c,d){var f;f=e.length?e.pop():new m;f.init(a,b,c,d);return f}function m(){this.hg=this.id=this.y=this.x=this.Ih=this.Hh=this.nj=this.time=this.Yj=0;this.mg=this.Oh=!1}function q(){}function u(){}var t=Z.prototype;t.Bc=function(a){this.ia=a;this.b=a.b};t.Bc.prototype.Aa=function(){};t.yb=function(a){this.type=a;this.b=a.b;this.touches=[];this.vj=!1};var h=t.yb.prototype,b={left:0,top:0};h.vf=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var d=0,c=0,a=0,e=[];m.prototype.init=function(a,b,c,d){var e=U();this.Yj=this.nj=this.time=e;this.Hh=a;this.Ih=b;this.x=a;this.y=b;this.id=c;this.hg=d;this.mg=this.Oh=!1};m.prototype.update=function(a,b,c){this.nj=this.time;this.time=a;this.x=b;this.y=c;!this.mg&&15<=Sa(this.Hh,this.Ih,this.x,this.y)&&(this.mg=!0)};m.prototype.cr=function(a,b){!this.Oh&&500<=U()-this.Yj&&!this.mg&&15>Sa(this.Hh,this.Ih,this.x,this.y)&&(this.Oh=!0,a.Ac=this.hg,a.Ze=
this.id,a.Fe=b,a.b.trigger(Z.prototype.i.Un,a),a.Fc=this.x,a.Gc=this.y,a.b.trigger(Z.prototype.i.Vn,a),a.Fe=0)};var g=-1E3,f=-1E3,r=-1E4;m.prototype.gm=function(a,b){if(!this.Oh){var c=U();333>=c-this.Yj&&!this.mg&&15>Sa(this.Hh,this.Ih,this.x,this.y)&&(a.Ac=this.hg,a.Ze=this.id,a.Fe=b,666>=c-r&&25>Sa(g,f,this.x,this.y)?(a.b.trigger(Z.prototype.i.Rn,a),a.Fc=this.x,a.Gc=this.y,a.b.trigger(Z.prototype.i.Sn,a),f=g=-1E3,r=-1E4):(a.b.trigger(Z.prototype.i.io,a),a.Fc=this.x,a.Gc=this.y,a.b.trigger(Z.prototype.i.tk,
a),g=this.x,f=this.y,r=c),a.Fe=0)}};h.Aa=function(){this.Sq=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Fe=this.Ze=this.Ac=this.Gc=this.Fc=this.zk=this.yk=this.xk=this.Co=this.Bo=this.Ao=this.ph=this.oh=this.nh=0;this.ks=0!==this.Ma[0];var a=0<this.b.Ua?document:this.b.canvas,b=document;this.b.td?b=a=window.Canvas:this.b.Ib&&(b=a=window);var c=this;window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){c.rm(a)},!1),a.addEventListener("pointermove",
function(a){c.qm(a)},!1),b.addEventListener("pointerup",function(a){c.mh(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.mh(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?
(a.addEventListener("MSPointerDown",function(a){c.rm(a)},!1),a.addEventListener("MSPointerMove",function(a){c.qm(a)},!1),b.addEventListener("MSPointerUp",function(a){c.mh(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.mh(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.vm(a)},!1),a.addEventListener("touchmove",
function(a){c.um(a)},!1),b.addEventListener("touchend",function(a){c.Dj(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Dj(a,!0)},!1));if(this.Sq){var d=function(a){a=a.reading;c.xk=a.accelerationX;c.yk=a.accelerationY;c.zk=a.accelerationZ},e=function(a){a=a.reading;c.nh=a.yawDegrees;c.oh=a.pitchDegrees;c.ph=a.rollDegrees},f=Windows.Devices.Sensors.Accelerometer.getDefault();f&&(f.reportInterval=Math.max(f.minimumReportInterval,16),f.addEventListener("readingchanged",d));var g=Windows.Devices.Sensors.Inclinometer.getDefault();
g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(f&&f.removeEventListener("readingchanged",d),g&&g.removeEventListener("readingchanged",e)):(f&&f.addEventListener("readingchanged",d),g&&g.addEventListener("readingchanged",e))},!1)}else window.addEventListener("deviceorientation",function(a){c.nh=a.alpha||0;c.oh=a.beta||0;c.ph=a.gamma||0},!1),window.addEventListener("devicemotion",
function(a){a.accelerationIncludingGravity&&(c.Ao=a.accelerationIncludingGravity.x||0,c.Bo=a.accelerationIncludingGravity.y||0,c.Co=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.xk=a.acceleration.x||0,c.yk=a.acceleration.y||0,c.zk=a.acceleration.z||0)},!1);this.ks&&!this.b.na&&(jQuery(document).mousemove(function(a){c.mr(a)}),jQuery(document).mousedown(function(a){c.lr(a)}),jQuery(document).mouseup(function(a){c.nr(a)}));!this.b.Tg&&this.b.Jb&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&
navigator.accelerometer.watchAcceleration(k,null,{frequency:40});this.b.Xr(this)};h.qm=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var c=this.vf(a.pointerId),d=U();if(0<=c){var e=this.b.na?b:jQuery(this.b.canvas).offset(),c=this.touches[c];2>d-c.time||c.update(d,a.pageX-e.left,a.pageY-e.top)}}};h.rm=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&kb(a)&&a.preventDefault();var c=
this.b.na?b:jQuery(this.b.canvas).offset(),d=a.pageX-c.left,c=a.pageY-c.top;U();this.Ac=this.touches.length;this.Ze=a.pointerId;this.touches.push(p(d,c,a.pointerId,this.Ac));this.b.ud=!0;this.b.trigger(Z.prototype.i.pk,this);this.b.trigger(Z.prototype.i.wk,this);this.Fc=d;this.Gc=c;this.b.trigger(Z.prototype.i.vk,this);this.b.ud=!1}};h.mh=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&kb(a)&&a.preventDefault();var c=this.vf(a.pointerId);this.Ac=
0<=c?this.touches[c].hg:-1;this.Ze=0<=c?this.touches[c].id:-1;this.b.ud=!0;this.b.trigger(Z.prototype.i.ok,this);this.b.trigger(Z.prototype.i.uk,this);0<=c&&(b||this.touches[c].gm(this,c),100>e.length&&e.push(this.touches[c]),this.touches.splice(c,1));this.b.ud=!1}};h.um=function(a){a.preventDefault&&a.preventDefault();var c=U(),d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],g=this.vf(f.identifier),0<=g){var h=this.b.na?b:jQuery(this.b.canvas).offset();g=this.touches[g];
2>c-g.time||g.update(c,f.pageX-h.left,f.pageY-h.top)}};h.vm=function(a){a.preventDefault&&kb(a)&&a.preventDefault();var c=this.b.na?b:jQuery(this.b.canvas).offset();U();this.b.ud=!0;var d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],g=this.vf(f.identifier),-1===g){g=f.pageX-c.left;var h=f.pageY-c.top;this.Ac=this.touches.length;this.Ze=f.identifier;this.touches.push(p(g,h,f.identifier,this.Ac));this.b.trigger(Z.prototype.i.pk,this);this.b.trigger(Z.prototype.i.wk,this);
this.Fc=g;this.Gc=h;this.b.trigger(Z.prototype.i.vk,this)}this.b.ud=!1};h.Dj=function(a,b){a.preventDefault&&kb(a)&&a.preventDefault();this.b.ud=!0;var c,d,f;c=0;for(d=a.changedTouches.length;c<d;c++)f=a.changedTouches[c],f=this.vf(f.identifier),0<=f&&(this.Ac=this.touches[f].hg,this.Ze=this.touches[f].id,this.b.trigger(Z.prototype.i.ok,this),this.b.trigger(Z.prototype.i.uk,this),b||this.touches[f].gm(this,f),100>e.length&&e.push(this.touches[f]),this.touches.splice(f,1));this.b.ud=!1};h.ci=function(){return this.b.Jb&&
0===this.nh&&0!==a?90*a:this.nh};h.Xo=function(){return this.b.Jb&&0===this.oh&&0!==c?90*c:this.oh};h.vp=function(){return this.b.Jb&&0===this.ph&&0!==d?90*d:this.ph};h.lr=function(a){this.vm({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.vj=!0};h.mr=function(a){this.vj&&this.um({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};h.nr=function(a){a.preventDefault&&this.b.pl&&!this.b.vd&&a.preventDefault();this.b.pl=!0;this.Dj({changedTouches:[{pageX:a.pageX,pageY:a.pageY,
identifier:0}]});this.vj=!1};h.Zj=function(){var a,b,c,d=U();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.nj=d),c.cr(this,a)};q.prototype.wk=function(){return!0};q.prototype.uk=function(){return!0};q.prototype.vk=function(a){return a?this.b.Kh(a,this.Fc,this.Gc):!1};q.prototype.pk=function(a){a=Math.floor(a);return a===this.Ac};q.prototype.ok=function(a){a=Math.floor(a);return a===this.Ac};q.prototype.Un=function(){return!0};q.prototype.io=function(){return!0};q.prototype.Rn=
function(){return!0};q.prototype.Vn=function(a){return a?this.b.Kh(a,this.Fc,this.Gc):!1};q.prototype.tk=function(a){return a?this.b.Kh(a,this.Fc,this.Gc):!1};q.prototype.Sn=function(a){return a?this.b.Kh(a,this.Fc,this.Gc):!1};t.i=new q;u.prototype.yo=function(a,b){var c=this.Fe;if(0>c||c>=this.touches.length)a.r(0);else{var d,e,f,g,h;ea(b)?(d=this.b.wf(0),e=d.scale,f=d.gd,g=d.Wc,h=d.g,d.scale=1,d.gd=1,d.Wc=1,d.g=0,a.r(d.Oa(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.gd=f,d.Wc=g,d.g=h):
(d=H(b)?this.b.wf(b):this.b.Qi(b))?a.r(d.Oa(this.touches[c].x,this.touches[c].y,!0)):a.r(0)}};u.prototype.zo=function(a,b){var c=this.Fe;if(0>c||c>=this.touches.length)a.r(0);else{var d,e,f,g,h;ea(b)?(d=this.b.wf(0),e=d.scale,f=d.gd,g=d.Xc,h=d.g,d.scale=1,d.gd=1,d.Xc=1,d.g=0,a.r(d.Oa(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.gd=f,d.Xc=g,d.g=h):(d=H(b)?this.b.wf(b):this.b.Qi(b))?a.r(d.Oa(this.touches[c].x,this.touches[c].y,!1)):a.r(0)}};t.Hb=new u})();
function ic(){return[Y,kc,jc,Z,Z.prototype.i.tk,X.prototype.wa.yn,X.prototype.i.Dn,Y.prototype.wa.jo,Y.prototype.Hb.Gn,X.prototype.wa.po,kc.prototype.wa.lo,kc.prototype.wa.ko,X.prototype.Hb.Ir,X.prototype.wa.vo,X.prototype.i.Fn,kc.prototype.wa.oo,X.prototype.i.mk,Y.prototype.wa.so,X.prototype.wa.mo,Y.prototype.i.qk,Y.prototype.wa.to,Y.prototype.i.sk,Y.prototype.wa.ro,Y.prototype.i.rk,X.prototype.wa.no]};
